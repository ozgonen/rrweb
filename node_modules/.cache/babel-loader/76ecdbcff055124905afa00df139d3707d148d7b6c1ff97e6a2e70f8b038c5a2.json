{"ast":null,"code":"import { classMatchesRegex, IGNORED_NODE, isShadowRoot } from '../../rrweb-snapshot/es/rrweb-snapshot.js';\nfunction on(type, fn, target = document) {\n  const options = {\n    capture: true,\n    passive: true\n  };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = 'Please stop import mirror directly. Instead of that,' + '\\r\\n' + 'now you can use replayer.getMirror() to access the mirror instance of a replayer,' + '\\r\\n' + 'or you can use record.mirror to access the mirror instance during recording.';\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== 'undefined' && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === 'map') {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function (...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(target, key, isRevoked ? d : {\n    set(value) {\n      setTimeout(() => {\n        d.set.call(this, value);\n      }, 0);\n      if (original && original.set) {\n        original.set.call(this, value);\n      }\n    }\n  });\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {};\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === 'function') {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch (_a) {\n    return () => {};\n  }\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction isBlocked(node, blockClass, blockSelector, checkAncestors) {\n  if (!node) {\n    return false;\n  }\n  const el = node.nodeType === node.ELEMENT_NODE ? node : node.parentElement;\n  if (!el) return false;\n  if (typeof blockClass === 'string') {\n    if (el.classList.contains(blockClass)) return true;\n    if (checkAncestors && el.closest('.' + blockClass) !== null) return true;\n  } else {\n    if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n  }\n  if (blockSelector) {\n    if (node.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n, mirror) {\n  return mirror.getId(n) !== -1;\n}\nfunction isIgnored(n, mirror) {\n  return mirror.getId(n) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror.getId(target);\n  if (!mirror.has(id)) {\n    return true;\n  }\n  if (target.parentNode && target.parentNode.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!target.parentNode) {\n    return true;\n  }\n  return isAncestorRemoved(target.parentNode, mirror);\n}\nfunction isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill(win = window) {\n  if ('NodeList' in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if ('DOMTokenList' in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (!Node.prototype.contains) {\n    Node.prototype.contains = (...args) => {\n      let node = args[0];\n      if (!(0 in args)) {\n        throw new TypeError('1 argument is required');\n      }\n      do {\n        if (this === node) {\n          return true;\n        }\n      } while (node = node && node.parentNode);\n      return false;\n    };\n  }\n}\nfunction queueToResolveTrees(queue) {\n  const queueNodeMap = {};\n  const putIntoMap = (m, parent) => {\n    const nodeInTree = {\n      value: m,\n      parent,\n      children: []\n    };\n    queueNodeMap[m.node.id] = nodeInTree;\n    return nodeInTree;\n  };\n  const queueNodeTrees = [];\n  for (const mutation of queue) {\n    const {\n      nextId,\n      parentId\n    } = mutation;\n    if (nextId && nextId in queueNodeMap) {\n      const nextInTree = queueNodeMap[nextId];\n      if (nextInTree.parent) {\n        const idx = nextInTree.parent.children.indexOf(nextInTree);\n        nextInTree.parent.children.splice(idx, 0, putIntoMap(mutation, nextInTree.parent));\n      } else {\n        const idx = queueNodeTrees.indexOf(nextInTree);\n        queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\n      }\n      continue;\n    }\n    if (parentId in queueNodeMap) {\n      const parentInTree = queueNodeMap[parentId];\n      parentInTree.children.push(putIntoMap(mutation, parentInTree));\n      continue;\n    }\n    queueNodeTrees.push(putIntoMap(mutation, null));\n  }\n  return queueNodeTrees;\n}\nfunction iterateResolveTree(tree, cb) {\n  cb(tree.value);\n  for (let i = tree.children.length - 1; i >= 0; i--) {\n    iterateResolveTree(tree.children[i], cb);\n  }\n}\nfunction isSerializedIframe(n, mirror) {\n  return Boolean(n.nodeName === 'IFRAME' && mirror.getMeta(n));\n}\nfunction isSerializedStylesheet(n, mirror) {\n  return Boolean(n.nodeName === 'LINK' && n.nodeType === n.ELEMENT_NODE && n.getAttribute && n.getAttribute('rel') === 'stylesheet' && mirror.getMeta(n));\n}\nfunction getBaseDimension(node, rootIframe) {\n  var _a, _b;\n  const frameElement = (_b = (_a = node.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.frameElement;\n  if (!frameElement || frameElement === rootIframe) {\n    return {\n      x: 0,\n      y: 0,\n      relativeScale: 1,\n      absoluteScale: 1\n    };\n  }\n  const frameDimension = frameElement.getBoundingClientRect();\n  const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\n  const relativeScale = frameDimension.height / frameElement.clientHeight;\n  return {\n    x: frameDimension.x * frameBaseDimension.relativeScale + frameBaseDimension.x,\n    y: frameDimension.y * frameBaseDimension.relativeScale + frameBaseDimension.y,\n    relativeScale,\n    absoluteScale: frameBaseDimension.absoluteScale * relativeScale\n  };\n}\nfunction hasShadowRoot(n) {\n  return Boolean(n === null || n === void 0 ? void 0 : n.shadowRoot);\n}\nfunction getNestedRule(rules, position) {\n  const rule = rules[position[0]];\n  if (position.length === 1) {\n    return rule;\n  } else {\n    return getNestedRule(rule.cssRules[position[1]].cssRules, position.slice(2));\n  }\n}\nfunction getPositionsAndIndex(nestedIndex) {\n  const positions = [...nestedIndex];\n  const index = positions.pop();\n  return {\n    positions,\n    index\n  };\n}\nfunction uniqueTextMutations(mutations) {\n  const idSet = new Set();\n  const uniqueMutations = [];\n  for (let i = mutations.length; i--;) {\n    const mutation = mutations[i];\n    if (!idSet.has(mutation.id)) {\n      uniqueMutations.push(mutation);\n      idSet.add(mutation.id);\n    }\n  }\n  return uniqueMutations;\n}\nclass StyleSheetMirror {\n  constructor() {\n    this.id = 1;\n    this.styleIDMap = new WeakMap();\n    this.idStyleMap = new Map();\n  }\n  getId(stylesheet) {\n    var _a;\n    return (_a = this.styleIDMap.get(stylesheet)) !== null && _a !== void 0 ? _a : -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === undefined) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = new WeakMap();\n    this.idStyleMap = new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nexport { StyleSheetMirror, _mirror, getBaseDimension, getNestedRule, getPositionsAndIndex, getWindowHeight, getWindowWidth, hasShadowRoot, hookSetter, isAncestorRemoved, isBlocked, isIgnored, isSerialized, isSerializedIframe, isSerializedStylesheet, isTouchEvent, iterateResolveTree, on, patch, polyfill, queueToResolveTrees, throttle, uniqueTextMutations };","map":{"version":3,"names":["classMatchesRegex","IGNORED_NODE","isShadowRoot","on","type","fn","target","document","options","capture","passive","addEventListener","removeEventListener","DEPARTED_MIRROR_ACCESS_WARNING","_mirror","map","getId","console","error","getNode","removeNodeFromMap","has","reset","window","Proxy","Reflect","get","prop","receiver","throttle","func","wait","timeout","previous","args","now","Date","leading","remaining","context","clearTimeout","apply","trailing","setTimeout","hookSetter","key","d","isRevoked","win","original","Object","getOwnPropertyDescriptor","defineProperty","set","value","call","patch","source","name","replacement","wrapped","prototype","defineProperties","__rrweb_original__","enumerable","_a","getWindowHeight","innerHeight","documentElement","clientHeight","body","getWindowWidth","innerWidth","clientWidth","isBlocked","node","blockClass","blockSelector","checkAncestors","el","nodeType","ELEMENT_NODE","parentElement","classList","contains","closest","matches","isSerialized","n","mirror","isIgnored","isAncestorRemoved","id","parentNode","DOCUMENT_NODE","isTouchEvent","event","Boolean","changedTouches","polyfill","NodeList","forEach","Array","DOMTokenList","Node","TypeError","queueToResolveTrees","queue","queueNodeMap","putIntoMap","m","parent","nodeInTree","children","queueNodeTrees","mutation","nextId","parentId","nextInTree","idx","indexOf","splice","parentInTree","push","iterateResolveTree","tree","cb","i","length","isSerializedIframe","nodeName","getMeta","isSerializedStylesheet","getAttribute","getBaseDimension","rootIframe","_b","frameElement","ownerDocument","defaultView","x","y","relativeScale","absoluteScale","frameDimension","getBoundingClientRect","frameBaseDimension","height","hasShadowRoot","shadowRoot","getNestedRule","rules","position","rule","cssRules","slice","getPositionsAndIndex","nestedIndex","positions","index","pop","uniqueTextMutations","mutations","idSet","Set","uniqueMutations","add","StyleSheetMirror","constructor","styleIDMap","WeakMap","idStyleMap","Map","stylesheet","newId","undefined","getStyle","generateId"],"sources":["/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/utils.js"],"sourcesContent":["import { classMatchesRegex, IGNORED_NODE, isShadowRoot } from '../../rrweb-snapshot/es/rrweb-snapshot.js';\n\nfunction on(type, fn, target = document) {\r\n    const options = { capture: true, passive: true };\r\n    target.addEventListener(type, fn, options);\r\n    return () => target.removeEventListener(type, fn, options);\r\n}\r\nconst DEPARTED_MIRROR_ACCESS_WARNING = 'Please stop import mirror directly. Instead of that,' +\r\n    '\\r\\n' +\r\n    'now you can use replayer.getMirror() to access the mirror instance of a replayer,' +\r\n    '\\r\\n' +\r\n    'or you can use record.mirror to access the mirror instance during recording.';\r\nlet _mirror = {\r\n    map: {},\r\n    getId() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return -1;\r\n    },\r\n    getNode() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return null;\r\n    },\r\n    removeNodeFromMap() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n    },\r\n    has() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return false;\r\n    },\r\n    reset() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n    },\r\n};\r\nif (typeof window !== 'undefined' && window.Proxy && window.Reflect) {\r\n    _mirror = new Proxy(_mirror, {\r\n        get(target, prop, receiver) {\r\n            if (prop === 'map') {\r\n                console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n            }\r\n            return Reflect.get(target, prop, receiver);\r\n        },\r\n    });\r\n}\r\nfunction throttle(func, wait, options = {}) {\r\n    let timeout = null;\r\n    let previous = 0;\r\n    return function (...args) {\r\n        const now = Date.now();\r\n        if (!previous && options.leading === false) {\r\n            previous = now;\r\n        }\r\n        const remaining = wait - (now - previous);\r\n        const context = this;\r\n        if (remaining <= 0 || remaining > wait) {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n            }\r\n            previous = now;\r\n            func.apply(context, args);\r\n        }\r\n        else if (!timeout && options.trailing !== false) {\r\n            timeout = setTimeout(() => {\r\n                previous = options.leading === false ? 0 : Date.now();\r\n                timeout = null;\r\n                func.apply(context, args);\r\n            }, remaining);\r\n        }\r\n    };\r\n}\r\nfunction hookSetter(target, key, d, isRevoked, win = window) {\r\n    const original = win.Object.getOwnPropertyDescriptor(target, key);\r\n    win.Object.defineProperty(target, key, isRevoked\r\n        ? d\r\n        : {\r\n            set(value) {\r\n                setTimeout(() => {\r\n                    d.set.call(this, value);\r\n                }, 0);\r\n                if (original && original.set) {\r\n                    original.set.call(this, value);\r\n                }\r\n            },\r\n        });\r\n    return () => hookSetter(target, key, original || {}, true);\r\n}\r\nfunction patch(source, name, replacement) {\r\n    try {\r\n        if (!(name in source)) {\r\n            return () => {\r\n            };\r\n        }\r\n        const original = source[name];\r\n        const wrapped = replacement(original);\r\n        if (typeof wrapped === 'function') {\r\n            wrapped.prototype = wrapped.prototype || {};\r\n            Object.defineProperties(wrapped, {\r\n                __rrweb_original__: {\r\n                    enumerable: false,\r\n                    value: original,\r\n                },\r\n            });\r\n        }\r\n        source[name] = wrapped;\r\n        return () => {\r\n            source[name] = original;\r\n        };\r\n    }\r\n    catch (_a) {\r\n        return () => {\r\n        };\r\n    }\r\n}\r\nfunction getWindowHeight() {\r\n    return (window.innerHeight ||\r\n        (document.documentElement && document.documentElement.clientHeight) ||\r\n        (document.body && document.body.clientHeight));\r\n}\r\nfunction getWindowWidth() {\r\n    return (window.innerWidth ||\r\n        (document.documentElement && document.documentElement.clientWidth) ||\r\n        (document.body && document.body.clientWidth));\r\n}\r\nfunction isBlocked(node, blockClass, blockSelector, checkAncestors) {\r\n    if (!node) {\r\n        return false;\r\n    }\r\n    const el = node.nodeType === node.ELEMENT_NODE\r\n        ? node\r\n        : node.parentElement;\r\n    if (!el)\r\n        return false;\r\n    if (typeof blockClass === 'string') {\r\n        if (el.classList.contains(blockClass))\r\n            return true;\r\n        if (checkAncestors && el.closest('.' + blockClass) !== null)\r\n            return true;\r\n    }\r\n    else {\r\n        if (classMatchesRegex(el, blockClass, checkAncestors))\r\n            return true;\r\n    }\r\n    if (blockSelector) {\r\n        if (node.matches(blockSelector))\r\n            return true;\r\n        if (checkAncestors && el.closest(blockSelector) !== null)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isSerialized(n, mirror) {\r\n    return mirror.getId(n) !== -1;\r\n}\r\nfunction isIgnored(n, mirror) {\r\n    return mirror.getId(n) === IGNORED_NODE;\r\n}\r\nfunction isAncestorRemoved(target, mirror) {\r\n    if (isShadowRoot(target)) {\r\n        return false;\r\n    }\r\n    const id = mirror.getId(target);\r\n    if (!mirror.has(id)) {\r\n        return true;\r\n    }\r\n    if (target.parentNode &&\r\n        target.parentNode.nodeType === target.DOCUMENT_NODE) {\r\n        return false;\r\n    }\r\n    if (!target.parentNode) {\r\n        return true;\r\n    }\r\n    return isAncestorRemoved(target.parentNode, mirror);\r\n}\r\nfunction isTouchEvent(event) {\r\n    return Boolean(event.changedTouches);\r\n}\r\nfunction polyfill(win = window) {\r\n    if ('NodeList' in win && !win.NodeList.prototype.forEach) {\r\n        win.NodeList.prototype.forEach = Array.prototype\r\n            .forEach;\r\n    }\r\n    if ('DOMTokenList' in win && !win.DOMTokenList.prototype.forEach) {\r\n        win.DOMTokenList.prototype.forEach = Array.prototype\r\n            .forEach;\r\n    }\r\n    if (!Node.prototype.contains) {\r\n        Node.prototype.contains = (...args) => {\r\n            let node = args[0];\r\n            if (!(0 in args)) {\r\n                throw new TypeError('1 argument is required');\r\n            }\r\n            do {\r\n                if (this === node) {\r\n                    return true;\r\n                }\r\n            } while ((node = node && node.parentNode));\r\n            return false;\r\n        };\r\n    }\r\n}\r\nfunction queueToResolveTrees(queue) {\r\n    const queueNodeMap = {};\r\n    const putIntoMap = (m, parent) => {\r\n        const nodeInTree = {\r\n            value: m,\r\n            parent,\r\n            children: [],\r\n        };\r\n        queueNodeMap[m.node.id] = nodeInTree;\r\n        return nodeInTree;\r\n    };\r\n    const queueNodeTrees = [];\r\n    for (const mutation of queue) {\r\n        const { nextId, parentId } = mutation;\r\n        if (nextId && nextId in queueNodeMap) {\r\n            const nextInTree = queueNodeMap[nextId];\r\n            if (nextInTree.parent) {\r\n                const idx = nextInTree.parent.children.indexOf(nextInTree);\r\n                nextInTree.parent.children.splice(idx, 0, putIntoMap(mutation, nextInTree.parent));\r\n            }\r\n            else {\r\n                const idx = queueNodeTrees.indexOf(nextInTree);\r\n                queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\r\n            }\r\n            continue;\r\n        }\r\n        if (parentId in queueNodeMap) {\r\n            const parentInTree = queueNodeMap[parentId];\r\n            parentInTree.children.push(putIntoMap(mutation, parentInTree));\r\n            continue;\r\n        }\r\n        queueNodeTrees.push(putIntoMap(mutation, null));\r\n    }\r\n    return queueNodeTrees;\r\n}\r\nfunction iterateResolveTree(tree, cb) {\r\n    cb(tree.value);\r\n    for (let i = tree.children.length - 1; i >= 0; i--) {\r\n        iterateResolveTree(tree.children[i], cb);\r\n    }\r\n}\r\nfunction isSerializedIframe(n, mirror) {\r\n    return Boolean(n.nodeName === 'IFRAME' && mirror.getMeta(n));\r\n}\r\nfunction isSerializedStylesheet(n, mirror) {\r\n    return Boolean(n.nodeName === 'LINK' &&\r\n        n.nodeType === n.ELEMENT_NODE &&\r\n        n.getAttribute &&\r\n        n.getAttribute('rel') === 'stylesheet' &&\r\n        mirror.getMeta(n));\r\n}\r\nfunction getBaseDimension(node, rootIframe) {\r\n    var _a, _b;\r\n    const frameElement = (_b = (_a = node.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.frameElement;\r\n    if (!frameElement || frameElement === rootIframe) {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            relativeScale: 1,\r\n            absoluteScale: 1,\r\n        };\r\n    }\r\n    const frameDimension = frameElement.getBoundingClientRect();\r\n    const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\r\n    const relativeScale = frameDimension.height / frameElement.clientHeight;\r\n    return {\r\n        x: frameDimension.x * frameBaseDimension.relativeScale +\r\n            frameBaseDimension.x,\r\n        y: frameDimension.y * frameBaseDimension.relativeScale +\r\n            frameBaseDimension.y,\r\n        relativeScale,\r\n        absoluteScale: frameBaseDimension.absoluteScale * relativeScale,\r\n    };\r\n}\r\nfunction hasShadowRoot(n) {\r\n    return Boolean(n === null || n === void 0 ? void 0 : n.shadowRoot);\r\n}\r\nfunction getNestedRule(rules, position) {\r\n    const rule = rules[position[0]];\r\n    if (position.length === 1) {\r\n        return rule;\r\n    }\r\n    else {\r\n        return getNestedRule(rule.cssRules[position[1]].cssRules, position.slice(2));\r\n    }\r\n}\r\nfunction getPositionsAndIndex(nestedIndex) {\r\n    const positions = [...nestedIndex];\r\n    const index = positions.pop();\r\n    return { positions, index };\r\n}\r\nfunction uniqueTextMutations(mutations) {\r\n    const idSet = new Set();\r\n    const uniqueMutations = [];\r\n    for (let i = mutations.length; i--;) {\r\n        const mutation = mutations[i];\r\n        if (!idSet.has(mutation.id)) {\r\n            uniqueMutations.push(mutation);\r\n            idSet.add(mutation.id);\r\n        }\r\n    }\r\n    return uniqueMutations;\r\n}\r\nclass StyleSheetMirror {\r\n    constructor() {\r\n        this.id = 1;\r\n        this.styleIDMap = new WeakMap();\r\n        this.idStyleMap = new Map();\r\n    }\r\n    getId(stylesheet) {\r\n        var _a;\r\n        return (_a = this.styleIDMap.get(stylesheet)) !== null && _a !== void 0 ? _a : -1;\r\n    }\r\n    has(stylesheet) {\r\n        return this.styleIDMap.has(stylesheet);\r\n    }\r\n    add(stylesheet, id) {\r\n        if (this.has(stylesheet))\r\n            return this.getId(stylesheet);\r\n        let newId;\r\n        if (id === undefined) {\r\n            newId = this.id++;\r\n        }\r\n        else\r\n            newId = id;\r\n        this.styleIDMap.set(stylesheet, newId);\r\n        this.idStyleMap.set(newId, stylesheet);\r\n        return newId;\r\n    }\r\n    getStyle(id) {\r\n        return this.idStyleMap.get(id) || null;\r\n    }\r\n    reset() {\r\n        this.styleIDMap = new WeakMap();\r\n        this.idStyleMap = new Map();\r\n        this.id = 1;\r\n    }\r\n    generateId() {\r\n        return this.id++;\r\n    }\r\n}\n\nexport { StyleSheetMirror, _mirror, getBaseDimension, getNestedRule, getPositionsAndIndex, getWindowHeight, getWindowWidth, hasShadowRoot, hookSetter, isAncestorRemoved, isBlocked, isIgnored, isSerialized, isSerializedIframe, isSerializedStylesheet, isTouchEvent, iterateResolveTree, on, patch, polyfill, queueToResolveTrees, throttle, uniqueTextMutations };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}