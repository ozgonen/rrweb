{"ast":null,"code":"function e() {}\nfunction t(e, t) {\n  for (const n in t) e[n] = t[n];\n  return e;\n}\nfunction n(e) {\n  return e();\n}\nfunction i() {\n  return Object.create(null);\n}\nfunction o(e) {\n  e.forEach(n);\n}\nfunction r(e) {\n  return \"function\" == typeof e;\n}\nfunction s(e, t) {\n  return e != e ? t == t : e !== t || e && \"object\" == typeof e || \"function\" == typeof e;\n}\nfunction a(e) {\n  const t = {};\n  for (const n in e) \"$\" !== n[0] && (t[n] = e[n]);\n  return t;\n}\nfunction l(e, t) {\n  e.appendChild(t);\n}\nfunction c(e, t, n) {\n  e.insertBefore(t, n || null);\n}\nfunction d(e) {\n  e.parentNode.removeChild(e);\n}\nfunction u(e, t) {\n  for (let n = 0; n < e.length; n += 1) e[n] && e[n].d(t);\n}\nfunction h(e) {\n  return document.createElement(e);\n}\nfunction p(e) {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", e);\n}\nfunction g(e) {\n  return document.createTextNode(e);\n}\nfunction m() {\n  return g(\" \");\n}\nfunction f(e, t, n, i) {\n  return e.addEventListener(t, n, i), () => e.removeEventListener(t, n, i);\n}\nfunction y(e, t, n) {\n  null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n);\n}\nfunction v(e, t) {\n  t = \"\" + t, e.wholeText !== t && (e.data = t);\n}\nfunction C(e, t, n, i) {\n  null === n ? e.style.removeProperty(t) : e.style.setProperty(t, n, i ? \"important\" : \"\");\n}\nfunction I(e, t, n) {\n  e.classList[n ? \"add\" : \"remove\"](t);\n}\nlet A;\nfunction b(e) {\n  A = e;\n}\nfunction w() {\n  if (!A) throw new Error(\"Function called outside component initialization\");\n  return A;\n}\nfunction N(e) {\n  w().$$.on_mount.push(e);\n}\nfunction E(e) {\n  w().$$.on_destroy.push(e);\n}\nfunction S() {\n  const e = w();\n  return (t, n, {\n    cancelable: i = !1\n  } = {}) => {\n    const o = e.$$.callbacks[t];\n    if (o) {\n      const r = function (e, t, {\n        bubbles: n = !1,\n        cancelable: i = !1\n      } = {}) {\n        const o = document.createEvent(\"CustomEvent\");\n        return o.initCustomEvent(e, n, i, t), o;\n      }(t, n, {\n        cancelable: i\n      });\n      return o.slice().forEach(t => {\n        t.call(e, r);\n      }), !r.defaultPrevented;\n    }\n    return !0;\n  };\n}\nconst T = [],\n  D = [],\n  M = [],\n  R = [],\n  x = Promise.resolve();\nlet k = !1;\nfunction F(e) {\n  M.push(e);\n}\nconst O = new Set();\nlet B = 0;\nfunction L() {\n  const e = A;\n  do {\n    for (; B < T.length;) {\n      const e = T[B];\n      B++, b(e), V(e.$$);\n    }\n    for (b(null), T.length = 0, B = 0; D.length;) D.pop()();\n    for (let e = 0; e < M.length; e += 1) {\n      const t = M[e];\n      O.has(t) || (O.add(t), t());\n    }\n    M.length = 0;\n  } while (T.length);\n  for (; R.length;) R.pop()();\n  k = !1, O.clear(), b(e);\n}\nfunction V(e) {\n  if (null !== e.fragment) {\n    e.update(), o(e.before_update);\n    const t = e.dirty;\n    e.dirty = [-1], e.fragment && e.fragment.p(e.ctx, t), e.after_update.forEach(F);\n  }\n}\nconst _ = new Set();\nlet G;\nfunction W() {\n  G = {\n    r: 0,\n    c: [],\n    p: G\n  };\n}\nfunction U() {\n  G.r || o(G.c), G = G.p;\n}\nfunction Z(e, t) {\n  e && e.i && (_.delete(e), e.i(t));\n}\nfunction $(e, t, n, i) {\n  if (e && e.o) {\n    if (_.has(e)) return;\n    _.add(e), G.c.push(() => {\n      _.delete(e), i && (n && e.d(1), i());\n    }), e.o(t);\n  } else i && i();\n}\nfunction K(e) {\n  e && e.c();\n}\nfunction Y(e, t, i, s) {\n  const {\n    fragment: a,\n    on_mount: l,\n    on_destroy: c,\n    after_update: d\n  } = e.$$;\n  a && a.m(t, i), s || F(() => {\n    const t = l.map(n).filter(r);\n    c ? c.push(...t) : o(t), e.$$.on_mount = [];\n  }), d.forEach(F);\n}\nfunction P(e, t) {\n  const n = e.$$;\n  null !== n.fragment && (o(n.on_destroy), n.fragment && n.fragment.d(t), n.on_destroy = n.fragment = null, n.ctx = []);\n}\nfunction Q(e, t) {\n  -1 === e.$$.dirty[0] && (T.push(e), k || (k = !0, x.then(L)), e.$$.dirty.fill(0)), e.$$.dirty[t / 31 | 0] |= 1 << t % 31;\n}\nfunction z(t, n, r, s, a, l, c, u = [-1]) {\n  const h = A;\n  b(t);\n  const p = t.$$ = {\n    fragment: null,\n    ctx: null,\n    props: l,\n    update: e,\n    not_equal: a,\n    bound: i(),\n    on_mount: [],\n    on_destroy: [],\n    on_disconnect: [],\n    before_update: [],\n    after_update: [],\n    context: new Map(n.context || (h ? h.$$.context : [])),\n    callbacks: i(),\n    dirty: u,\n    skip_bound: !1,\n    root: n.target || h.$$.root\n  };\n  c && c(p.root);\n  let g = !1;\n  if (p.ctx = r ? r(t, n.props || {}, (e, n, ...i) => {\n    const o = i.length ? i[0] : n;\n    return p.ctx && a(p.ctx[e], p.ctx[e] = o) && (!p.skip_bound && p.bound[e] && p.bound[e](o), g && Q(t, e)), n;\n  }) : [], p.update(), g = !0, o(p.before_update), p.fragment = !!s && s(p.ctx), n.target) {\n    if (n.hydrate) {\n      const e = function (e) {\n        return Array.from(e.childNodes);\n      }(n.target);\n      p.fragment && p.fragment.l(e), e.forEach(d);\n    } else p.fragment && p.fragment.c();\n    n.intro && Z(t.$$.fragment), Y(t, n.target, n.anchor, n.customElement), L();\n  }\n  b(h);\n}\nclass J {\n  $destroy() {\n    P(this, 1), this.$destroy = e;\n  }\n  $on(e, t) {\n    const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);\n    return n.push(t), () => {\n      const e = n.indexOf(t);\n      -1 !== e && n.splice(e, 1);\n    };\n  }\n  $set(e) {\n    var t;\n    this.$$set && (t = e, 0 !== Object.keys(t).length) && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1);\n  }\n}\nvar X;\nfunction H(e) {\n  return e.nodeType === e.ELEMENT_NODE;\n}\n!function (e) {\n  e[e.Document = 0] = \"Document\", e[e.DocumentType = 1] = \"DocumentType\", e[e.Element = 2] = \"Element\", e[e.Text = 3] = \"Text\", e[e.CDATA = 4] = \"CDATA\", e[e.Comment = 5] = \"Comment\";\n}(X || (X = {}));\nvar j = function () {\n  function e() {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }\n  return e.prototype.getId = function (e) {\n    var t;\n    if (!e) return -1;\n    var n = null === (t = this.getMeta(e)) || void 0 === t ? void 0 : t.id;\n    return null != n ? n : -1;\n  }, e.prototype.getNode = function (e) {\n    return this.idNodeMap.get(e) || null;\n  }, e.prototype.getIds = function () {\n    return Array.from(this.idNodeMap.keys());\n  }, e.prototype.getMeta = function (e) {\n    return this.nodeMetaMap.get(e) || null;\n  }, e.prototype.removeNodeFromMap = function (e) {\n    var t = this,\n      n = this.getId(e);\n    this.idNodeMap.delete(n), e.childNodes && e.childNodes.forEach(function (e) {\n      return t.removeNodeFromMap(e);\n    });\n  }, e.prototype.has = function (e) {\n    return this.idNodeMap.has(e);\n  }, e.prototype.hasNode = function (e) {\n    return this.nodeMetaMap.has(e);\n  }, e.prototype.add = function (e, t) {\n    var n = t.id;\n    this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);\n  }, e.prototype.replace = function (e, t) {\n    var n = this.getNode(e);\n    if (n) {\n      var i = this.nodeMetaMap.get(n);\n      i && this.nodeMetaMap.set(t, i);\n    }\n    this.idNodeMap.set(e, t);\n  }, e.prototype.reset = function () {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }, e;\n}();\nfunction q() {\n  return new j();\n}\nvar ee = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\nfunction te(e, t) {\n  void 0 === t && (t = {});\n  var n = 1,\n    i = 1;\n  function o(e) {\n    var t = e.match(/\\n/g);\n    t && (n += t.length);\n    var o = e.lastIndexOf(\"\\n\");\n    i = -1 === o ? i + e.length : e.length - o;\n  }\n  function r() {\n    var e = {\n      line: n,\n      column: i\n    };\n    return function (t) {\n      return t.position = new s(e), p(), t;\n    };\n  }\n  var s = function (e) {\n    this.start = e, this.end = {\n      line: n,\n      column: i\n    }, this.source = t.source;\n  };\n  s.prototype.content = e;\n  var a = [];\n  function l(o) {\n    var r = new Error(\"\".concat(t.source || \"\", \":\").concat(n, \":\").concat(i, \": \").concat(o));\n    if (r.reason = o, r.filename = t.source, r.line = n, r.column = i, r.source = e, !t.silent) throw r;\n    a.push(r);\n  }\n  function c() {\n    return h(/^{\\s*/);\n  }\n  function d() {\n    return h(/^}/);\n  }\n  function u() {\n    var t,\n      n = [];\n    for (p(), g(n); e.length && \"}\" !== e.charAt(0) && (t = E() || S());) !1 !== t && (n.push(t), g(n));\n    return n;\n  }\n  function h(t) {\n    var n = t.exec(e);\n    if (n) {\n      var i = n[0];\n      return o(i), e = e.slice(i.length), n;\n    }\n  }\n  function p() {\n    h(/^\\s*/);\n  }\n  function g(e) {\n    var t;\n    for (void 0 === e && (e = []); t = m();) !1 !== t && e.push(t), t = m();\n    return e;\n  }\n  function m() {\n    var t = r();\n    if (\"/\" === e.charAt(0) && \"*\" === e.charAt(1)) {\n      for (var n = 2; \"\" !== e.charAt(n) && (\"*\" !== e.charAt(n) || \"/\" !== e.charAt(n + 1));) ++n;\n      if (n += 2, \"\" === e.charAt(n - 1)) return l(\"End of comment missing\");\n      var s = e.slice(2, n - 2);\n      return i += 2, o(s), e = e.slice(n), i += 2, t({\n        type: \"comment\",\n        comment: s\n      });\n    }\n  }\n  function f() {\n    var e = h(/^([^{]+)/);\n    if (e) return ne(e[0]).replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, \"\").replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function (e) {\n      return e.replace(/,/g, \"â€Œ\");\n    }).split(/\\s*(?![^(]*\\)),\\s*/).map(function (e) {\n      return e.replace(/\\u200C/g, \",\");\n    });\n  }\n  function y() {\n    var e = r(),\n      t = h(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n    if (t) {\n      var n = ne(t[0]);\n      if (!h(/^:\\s*/)) return l(\"property missing ':'\");\n      var i = h(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/),\n        o = e({\n          type: \"declaration\",\n          property: n.replace(ee, \"\"),\n          value: i ? ne(i[0]).replace(ee, \"\") : \"\"\n        });\n      return h(/^[;\\s]*/), o;\n    }\n  }\n  function v() {\n    var e,\n      t = [];\n    if (!c()) return l(\"missing '{'\");\n    for (g(t); e = y();) !1 !== e && (t.push(e), g(t)), e = y();\n    return d() ? t : l(\"missing '}'\");\n  }\n  function C() {\n    for (var e, t = [], n = r(); e = h(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/);) t.push(e[1]), h(/^,\\s*/);\n    if (t.length) return n({\n      type: \"keyframe\",\n      values: t,\n      declarations: v()\n    });\n  }\n  var I,\n    A = N(\"import\"),\n    b = N(\"charset\"),\n    w = N(\"namespace\");\n  function N(e) {\n    var t = new RegExp(\"^@\" + e + \"\\\\s*([^;]+);\");\n    return function () {\n      var n = r(),\n        i = h(t);\n      if (i) {\n        var o = {\n          type: e\n        };\n        return o[e] = i[1].trim(), n(o);\n      }\n    };\n  }\n  function E() {\n    if (\"@\" === e[0]) return function () {\n      var e = r(),\n        t = h(/^@([-\\w]+)?keyframes\\s*/);\n      if (t) {\n        var n = t[1];\n        if (!(t = h(/^([-\\w]+)\\s*/))) return l(\"@keyframes missing name\");\n        var i,\n          o = t[1];\n        if (!c()) return l(\"@keyframes missing '{'\");\n        for (var s = g(); i = C();) s.push(i), s = s.concat(g());\n        return d() ? e({\n          type: \"keyframes\",\n          name: o,\n          vendor: n,\n          keyframes: s\n        }) : l(\"@keyframes missing '}'\");\n      }\n    }() || function () {\n      var e = r(),\n        t = h(/^@media *([^{]+)/);\n      if (t) {\n        var n = ne(t[1]);\n        if (!c()) return l(\"@media missing '{'\");\n        var i = g().concat(u());\n        return d() ? e({\n          type: \"media\",\n          media: n,\n          rules: i\n        }) : l(\"@media missing '}'\");\n      }\n    }() || function () {\n      var e = r(),\n        t = h(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n      if (t) return e({\n        type: \"custom-media\",\n        name: ne(t[1]),\n        media: ne(t[2])\n      });\n    }() || function () {\n      var e = r(),\n        t = h(/^@supports *([^{]+)/);\n      if (t) {\n        var n = ne(t[1]);\n        if (!c()) return l(\"@supports missing '{'\");\n        var i = g().concat(u());\n        return d() ? e({\n          type: \"supports\",\n          supports: n,\n          rules: i\n        }) : l(\"@supports missing '}'\");\n      }\n    }() || A() || b() || w() || function () {\n      var e = r(),\n        t = h(/^@([-\\w]+)?document *([^{]+)/);\n      if (t) {\n        var n = ne(t[1]),\n          i = ne(t[2]);\n        if (!c()) return l(\"@document missing '{'\");\n        var o = g().concat(u());\n        return d() ? e({\n          type: \"document\",\n          document: i,\n          vendor: n,\n          rules: o\n        }) : l(\"@document missing '}'\");\n      }\n    }() || function () {\n      var e = r();\n      if (h(/^@page */)) {\n        var t = f() || [];\n        if (!c()) return l(\"@page missing '{'\");\n        for (var n, i = g(); n = y();) i.push(n), i = i.concat(g());\n        return d() ? e({\n          type: \"page\",\n          selectors: t,\n          declarations: i\n        }) : l(\"@page missing '}'\");\n      }\n    }() || function () {\n      var e = r();\n      if (h(/^@host\\s*/)) {\n        if (!c()) return l(\"@host missing '{'\");\n        var t = g().concat(u());\n        return d() ? e({\n          type: \"host\",\n          rules: t\n        }) : l(\"@host missing '}'\");\n      }\n    }() || function () {\n      var e = r();\n      if (h(/^@font-face\\s*/)) {\n        if (!c()) return l(\"@font-face missing '{'\");\n        for (var t, n = g(); t = y();) n.push(t), n = n.concat(g());\n        return d() ? e({\n          type: \"font-face\",\n          declarations: n\n        }) : l(\"@font-face missing '}'\");\n      }\n    }();\n  }\n  function S() {\n    var e = r(),\n      t = f();\n    return t ? (g(), e({\n      type: \"rule\",\n      selectors: t,\n      declarations: v()\n    })) : l(\"selector missing\");\n  }\n  return ie((I = u(), {\n    type: \"stylesheet\",\n    stylesheet: {\n      source: t.source,\n      rules: I,\n      parsingErrors: a\n    }\n  }));\n}\nfunction ne(e) {\n  return e ? e.replace(/^\\s+|\\s+$/g, \"\") : \"\";\n}\nfunction ie(e, t) {\n  for (var n = e && \"string\" == typeof e.type, i = n ? e : t, o = 0, r = Object.keys(e); o < r.length; o++) {\n    var s = e[r[o]];\n    Array.isArray(s) ? s.forEach(function (e) {\n      ie(e, i);\n    }) : s && \"object\" == typeof s && ie(s, i);\n  }\n  return n && Object.defineProperty(e, \"parent\", {\n    configurable: !0,\n    writable: !0,\n    enumerable: !1,\n    value: t || null\n  }), e;\n}\nvar oe = {\n  script: \"noscript\",\n  altglyph: \"altGlyph\",\n  altglyphdef: \"altGlyphDef\",\n  altglyphitem: \"altGlyphItem\",\n  animatecolor: \"animateColor\",\n  animatemotion: \"animateMotion\",\n  animatetransform: \"animateTransform\",\n  clippath: \"clipPath\",\n  feblend: \"feBlend\",\n  fecolormatrix: \"feColorMatrix\",\n  fecomponenttransfer: \"feComponentTransfer\",\n  fecomposite: \"feComposite\",\n  feconvolvematrix: \"feConvolveMatrix\",\n  fediffuselighting: \"feDiffuseLighting\",\n  fedisplacementmap: \"feDisplacementMap\",\n  fedistantlight: \"feDistantLight\",\n  fedropshadow: \"feDropShadow\",\n  feflood: \"feFlood\",\n  fefunca: \"feFuncA\",\n  fefuncb: \"feFuncB\",\n  fefuncg: \"feFuncG\",\n  fefuncr: \"feFuncR\",\n  fegaussianblur: \"feGaussianBlur\",\n  feimage: \"feImage\",\n  femerge: \"feMerge\",\n  femergenode: \"feMergeNode\",\n  femorphology: \"feMorphology\",\n  feoffset: \"feOffset\",\n  fepointlight: \"fePointLight\",\n  fespecularlighting: \"feSpecularLighting\",\n  fespotlight: \"feSpotLight\",\n  fetile: \"feTile\",\n  feturbulence: \"feTurbulence\",\n  foreignobject: \"foreignObject\",\n  glyphref: \"glyphRef\",\n  lineargradient: \"linearGradient\",\n  radialgradient: \"radialGradient\"\n};\nvar re = /([^\\\\]):hover/,\n  se = new RegExp(re.source, \"g\");\nfunction ae(e, t) {\n  var n = null == t ? void 0 : t.stylesWithHoverClass.get(e);\n  if (n) return n;\n  var i = te(e, {\n    silent: !0\n  });\n  if (!i.stylesheet) return e;\n  var o = [];\n  if (i.stylesheet.rules.forEach(function (e) {\n    \"selectors\" in e && (e.selectors || []).forEach(function (e) {\n      re.test(e) && o.push(e);\n    });\n  }), 0 === o.length) return e;\n  var r = new RegExp(o.filter(function (e, t) {\n      return o.indexOf(e) === t;\n    }).sort(function (e, t) {\n      return t.length - e.length;\n    }).map(function (e) {\n      return e.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    }).join(\"|\"), \"g\"),\n    s = e.replace(r, function (e) {\n      var t = e.replace(se, \"$1.\\\\:hover\");\n      return \"\".concat(e, \", \").concat(t);\n    });\n  return null == t || t.stylesWithHoverClass.set(e, s), s;\n}\nfunction le() {\n  return {\n    stylesWithHoverClass: new Map()\n  };\n}\nfunction ce(e, t) {\n  var n = t.doc,\n    i = t.hackCss,\n    o = t.cache;\n  switch (e.type) {\n    case X.Document:\n      return n.implementation.createDocument(null, \"\", null);\n    case X.DocumentType:\n      return n.implementation.createDocumentType(e.name || \"html\", e.publicId, e.systemId);\n    case X.Element:\n      var r,\n        s = function (e) {\n          var t = oe[e.tagName] ? oe[e.tagName] : e.tagName;\n          return \"link\" === t && e.attributes._cssText && (t = \"style\"), t;\n        }(e);\n      r = e.isSVG ? n.createElementNS(\"http://www.w3.org/2000/svg\", s) : n.createElement(s);\n      var a = {};\n      for (var l in e.attributes) if (Object.prototype.hasOwnProperty.call(e.attributes, l)) {\n        var c = e.attributes[l];\n        if (\"option\" !== s || \"selected\" !== l || !1 !== c) if (!0 === c && (c = \"\"), l.startsWith(\"rr_\")) a[l] = c;else {\n          var d = \"textarea\" === s && \"value\" === l,\n            u = \"style\" === s && \"_cssText\" === l;\n          if (u && i && \"string\" == typeof c && (c = ae(c, o)), !d && !u || \"string\" != typeof c) try {\n            if (e.isSVG && \"xlink:href\" === l) r.setAttributeNS(\"http://www.w3.org/1999/xlink\", l, c.toString());else if (\"onload\" === l || \"onclick\" === l || \"onmouse\" === l.substring(0, 7)) r.setAttribute(\"_\" + l, c.toString());else {\n              if (\"meta\" === s && \"Content-Security-Policy\" === e.attributes[\"http-equiv\"] && \"content\" === l) {\n                r.setAttribute(\"csp-content\", c.toString());\n                continue;\n              }\n              \"link\" === s && \"preload\" === e.attributes.rel && \"script\" === e.attributes.as || \"link\" === s && \"prefetch\" === e.attributes.rel && \"string\" == typeof e.attributes.href && e.attributes.href.endsWith(\".js\") || (\"img\" === s && e.attributes.srcset && e.attributes.rr_dataURL ? r.setAttribute(\"rrweb-original-srcset\", e.attributes.srcset) : r.setAttribute(l, c.toString()));\n            }\n          } catch (e) {} else {\n            for (var h = n.createTextNode(c), p = 0, g = Array.from(r.childNodes); p < g.length; p++) {\n              var m = g[p];\n              m.nodeType === r.TEXT_NODE && r.removeChild(m);\n            }\n            r.appendChild(h);\n          }\n        }\n      }\n      var f = function (t) {\n        var n = a[t];\n        if (\"canvas\" === s && \"rr_dataURL\" === t) {\n          var i = document.createElement(\"img\");\n          i.onload = function () {\n            var e = r.getContext(\"2d\");\n            e && e.drawImage(i, 0, 0, i.width, i.height);\n          }, i.src = n.toString(), r.RRNodeType && (r.rr_dataURL = n.toString());\n        } else if (\"img\" === s && \"rr_dataURL\" === t) {\n          var o = r;\n          o.currentSrc.startsWith(\"data:\") || (o.setAttribute(\"rrweb-original-src\", e.attributes.src), o.src = n.toString());\n        }\n        if (\"rr_width\" === t) r.style.width = n.toString();else if (\"rr_height\" === t) r.style.height = n.toString();else if (\"rr_mediaCurrentTime\" === t && \"number\" == typeof n) r.currentTime = n;else if (\"rr_mediaState\" === t) switch (n) {\n          case \"played\":\n            r.play().catch(function (e) {\n              return console.warn(\"media playback error\", e);\n            });\n            break;\n          case \"paused\":\n            r.pause();\n        }\n      };\n      for (var y in a) f(y);\n      if (e.isShadowHost) if (r.shadowRoot) for (; r.shadowRoot.firstChild;) r.shadowRoot.removeChild(r.shadowRoot.firstChild);else r.attachShadow({\n        mode: \"open\"\n      });\n      return r;\n    case X.Text:\n      return n.createTextNode(e.isStyle && i ? ae(e.textContent, o) : e.textContent);\n    case X.CDATA:\n      return n.createCDATASection(e.textContent);\n    case X.Comment:\n      return n.createComment(e.textContent);\n    default:\n      return null;\n  }\n}\nfunction de(e, t) {\n  var n = t.doc,\n    i = t.mirror,\n    o = t.skipChild,\n    r = void 0 !== o && o,\n    s = t.hackCss,\n    a = void 0 === s || s,\n    l = t.afterAppend,\n    c = t.cache,\n    d = ce(e, {\n      doc: n,\n      hackCss: a,\n      cache: c\n    });\n  if (!d) return null;\n  if (e.rootId && i.getNode(e.rootId) !== n && i.replace(e.rootId, n), e.type === X.Document && (n.close(), n.open(), \"BackCompat\" === e.compatMode && e.childNodes && e.childNodes[0].type !== X.DocumentType && (e.childNodes[0].type === X.Element && \"xmlns\" in e.childNodes[0].attributes && \"http://www.w3.org/1999/xhtml\" === e.childNodes[0].attributes.xmlns ? n.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">') : n.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">')), d = n), i.add(d, e), (e.type === X.Document || e.type === X.Element) && !r) for (var u = 0, h = e.childNodes; u < h.length; u++) {\n    var p = h[u],\n      g = de(p, {\n        doc: n,\n        mirror: i,\n        skipChild: !1,\n        hackCss: a,\n        afterAppend: l,\n        cache: c\n      });\n    g ? (p.isShadow && H(d) && d.shadowRoot ? d.shadowRoot.appendChild(g) : d.appendChild(g), l && l(g, p.id)) : console.warn(\"Failed to rebuild\", p);\n  }\n  return d;\n}\nfunction ue(e, t) {\n  var n = t.doc,\n    i = t.onVisit,\n    o = t.hackCss,\n    r = void 0 === o || o,\n    s = t.afterAppend,\n    a = t.cache,\n    l = t.mirror,\n    c = void 0 === l ? new j() : l,\n    d = de(e, {\n      doc: n,\n      mirror: c,\n      skipChild: !1,\n      hackCss: r,\n      afterAppend: s,\n      cache: a\n    });\n  return function (e, t) {\n    for (var n = 0, i = e.getIds(); n < i.length; n++) {\n      var o = i[n];\n      e.has(o) && t(e.getNode(o));\n    }\n  }(c, function (e) {\n    i && i(e), function (e, t) {\n      var n = t.getMeta(e);\n      if ((null == n ? void 0 : n.type) === X.Element) {\n        var i = e;\n        for (var o in n.attributes) if (Object.prototype.hasOwnProperty.call(n.attributes, o) && o.startsWith(\"rr_\")) {\n          var r = n.attributes[o];\n          \"rr_scrollLeft\" === o && (i.scrollLeft = r), \"rr_scrollTop\" === o && (i.scrollTop = r);\n        }\n      }\n    }(e, c);\n  }), d;\n}\nconst he = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet pe = {\n  map: {},\n  getId: () => (console.error(he), -1),\n  getNode: () => (console.error(he), null),\n  removeNodeFromMap() {\n    console.error(he);\n  },\n  has: () => (console.error(he), !1),\n  reset() {\n    console.error(he);\n  }\n};\nfunction ge(e) {\n  const t = {},\n    n = (e, n) => {\n      const i = {\n        value: e,\n        parent: n,\n        children: []\n      };\n      return t[e.node.id] = i, i;\n    },\n    i = [];\n  for (const o of e) {\n    const {\n      nextId: e,\n      parentId: r\n    } = o;\n    if (e && e in t) {\n      const r = t[e];\n      if (r.parent) {\n        const e = r.parent.children.indexOf(r);\n        r.parent.children.splice(e, 0, n(o, r.parent));\n      } else {\n        const e = i.indexOf(r);\n        i.splice(e, 0, n(o, null));\n      }\n    } else if (r in t) {\n      const e = t[r];\n      e.children.push(n(o, e));\n    } else i.push(n(o, null));\n  }\n  return i;\n}\nfunction me(e, t) {\n  t(e.value);\n  for (let n = e.children.length - 1; n >= 0; n--) me(e.children[n], t);\n}\nfunction fe(e, t) {\n  return Boolean(\"IFRAME\" === e.nodeName && t.getMeta(e));\n}\nfunction ye(e, t) {\n  var n, i;\n  const o = null === (i = null === (n = e.ownerDocument) || void 0 === n ? void 0 : n.defaultView) || void 0 === i ? void 0 : i.frameElement;\n  if (!o || o === t) return {\n    x: 0,\n    y: 0,\n    relativeScale: 1,\n    absoluteScale: 1\n  };\n  const r = o.getBoundingClientRect(),\n    s = ye(o, t),\n    a = r.height / o.clientHeight;\n  return {\n    x: r.x * s.relativeScale + s.x,\n    y: r.y * s.relativeScale + s.y,\n    relativeScale: a,\n    absoluteScale: s.absoluteScale * a\n  };\n}\nfunction ve(e) {\n  return Boolean(null == e ? void 0 : e.shadowRoot);\n}\nfunction Ce(e, t) {\n  const n = e[t[0]];\n  return 1 === t.length ? n : Ce(n.cssRules[t[1]].cssRules, t.slice(2));\n}\nfunction Ie(e) {\n  const t = [...e],\n    n = t.pop();\n  return {\n    positions: t,\n    index: n\n  };\n}\n\"undefined\" != typeof window && window.Proxy && window.Reflect && (pe = new Proxy(pe, {\n  get: (e, t, n) => (\"map\" === t && console.error(he), Reflect.get(e, t, n))\n}));\nclass Ae {\n  constructor() {\n    this.id = 1, this.styleIDMap = new WeakMap(), this.idStyleMap = new Map();\n  }\n  getId(e) {\n    var t;\n    return null !== (t = this.styleIDMap.get(e)) && void 0 !== t ? t : -1;\n  }\n  has(e) {\n    return this.styleIDMap.has(e);\n  }\n  add(e, t) {\n    if (this.has(e)) return this.getId(e);\n    let n;\n    return n = void 0 === t ? this.id++ : t, this.styleIDMap.set(e, n), this.idStyleMap.set(n, e), n;\n  }\n  getStyle(e) {\n    return this.idStyleMap.get(e) || null;\n  }\n  reset() {\n    this.styleIDMap = new WeakMap(), this.idStyleMap = new Map(), this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nvar be = (e => (e[e.DomContentLoaded = 0] = \"DomContentLoaded\", e[e.Load = 1] = \"Load\", e[e.FullSnapshot = 2] = \"FullSnapshot\", e[e.IncrementalSnapshot = 3] = \"IncrementalSnapshot\", e[e.Meta = 4] = \"Meta\", e[e.Custom = 5] = \"Custom\", e[e.Plugin = 6] = \"Plugin\", e))(be || {}),\n  we = (e => (e[e.Mutation = 0] = \"Mutation\", e[e.MouseMove = 1] = \"MouseMove\", e[e.MouseInteraction = 2] = \"MouseInteraction\", e[e.Scroll = 3] = \"Scroll\", e[e.ViewportResize = 4] = \"ViewportResize\", e[e.Input = 5] = \"Input\", e[e.TouchMove = 6] = \"TouchMove\", e[e.MediaInteraction = 7] = \"MediaInteraction\", e[e.StyleSheetRule = 8] = \"StyleSheetRule\", e[e.CanvasMutation = 9] = \"CanvasMutation\", e[e.Font = 10] = \"Font\", e[e.Log = 11] = \"Log\", e[e.Drag = 12] = \"Drag\", e[e.StyleDeclaration = 13] = \"StyleDeclaration\", e[e.Selection = 14] = \"Selection\", e[e.AdoptedStyleSheet = 15] = \"AdoptedStyleSheet\", e))(we || {}),\n  Ne = (e => (e[e.MouseUp = 0] = \"MouseUp\", e[e.MouseDown = 1] = \"MouseDown\", e[e.Click = 2] = \"Click\", e[e.ContextMenu = 3] = \"ContextMenu\", e[e.DblClick = 4] = \"DblClick\", e[e.Focus = 5] = \"Focus\", e[e.Blur = 6] = \"Blur\", e[e.TouchStart = 7] = \"TouchStart\", e[e.TouchMove_Departed = 8] = \"TouchMove_Departed\", e[e.TouchEnd = 9] = \"TouchEnd\", e[e.TouchCancel = 10] = \"TouchCancel\", e))(Ne || {}),\n  Ee = (e => (e[e[\"2D\"] = 0] = \"2D\", e[e.WebGL = 1] = \"WebGL\", e[e.WebGL2 = 2] = \"WebGL2\", e))(Ee || {}),\n  Se = (e => (e.Start = \"start\", e.Pause = \"pause\", e.Resume = \"resume\", e.Resize = \"resize\", e.Finish = \"finish\", e.FullsnapshotRebuilded = \"fullsnapshot-rebuilded\", e.LoadStylesheetStart = \"load-stylesheet-start\", e.LoadStylesheetEnd = \"load-stylesheet-end\", e.SkipStart = \"skip-start\", e.SkipEnd = \"skip-end\", e.MouseInteraction = \"mouse-interaction\", e.EventCast = \"event-cast\", e.CustomEvent = \"custom-event\", e.Flush = \"flush\", e.StateChange = \"state-change\", e.PlayBack = \"play-back\", e.Destroy = \"destroy\", e))(Se || {});\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction Te(e, t, n, i) {\n  return new (n || (n = Promise))(function (o, r) {\n    function s(e) {\n      try {\n        l(i.next(e));\n      } catch (e) {\n        r(e);\n      }\n    }\n    function a(e) {\n      try {\n        l(i.throw(e));\n      } catch (e) {\n        r(e);\n      }\n    }\n    function l(e) {\n      var t;\n      e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function (e) {\n        e(t);\n      })).then(s, a);\n    }\n    l((i = i.apply(e, t || [])).next());\n  });\n}\nfor (var De = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", Me = \"undefined\" == typeof Uint8Array ? [] : new Uint8Array(256), Re = 0; Re < De.length; Re++) Me[De.charCodeAt(Re)] = Re;\nvar xe = null;\ntry {\n  var ke = \"undefined\" != typeof module && \"function\" == typeof module.require && module.require(\"worker_threads\") || \"function\" == typeof __non_webpack_require__ && __non_webpack_require__(\"worker_threads\") || \"function\" == typeof require && require(\"worker_threads\");\n  xe = ke.Worker;\n} catch (Ht) {}\nfunction Fe(e, t, n) {\n  var i = void 0 === t ? null : t,\n    o = function (e, t) {\n      return Buffer.from(e, \"base64\").toString(t ? \"utf16\" : \"utf8\");\n    }(e, void 0 !== n && n),\n    r = o.indexOf(\"\\n\", 10) + 1,\n    s = o.substring(r) + (i ? \"//# sourceMappingURL=\" + i : \"\");\n  return function (e) {\n    return new xe(s, Object.assign({}, e, {\n      eval: !0\n    }));\n  };\n}\nvar Oe,\n  Be,\n  Le,\n  Ve,\n  _e = \"[object process]\" === Object.prototype.toString.call(\"undefined\" != typeof process ? process : 0);\nOe = \"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=\", Be = null, Le = !1, _e ? Fe(Oe, Be, Le) : function (e, t, n) {\n  var i;\n}(Oe, Be, Le), q(), function (e) {\n  e[e.Document = 0] = \"Document\", e[e.DocumentType = 1] = \"DocumentType\", e[e.Element = 2] = \"Element\", e[e.Text = 3] = \"Text\", e[e.CDATA = 4] = \"CDATA\", e[e.Comment = 5] = \"Comment\";\n}(Ve || (Ve = {}));\nvar Ge = function () {\n  function e() {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }\n  return e.prototype.getId = function (e) {\n    var t;\n    if (!e) return -1;\n    var n = null === (t = this.getMeta(e)) || void 0 === t ? void 0 : t.id;\n    return null != n ? n : -1;\n  }, e.prototype.getNode = function (e) {\n    return this.idNodeMap.get(e) || null;\n  }, e.prototype.getIds = function () {\n    return Array.from(this.idNodeMap.keys());\n  }, e.prototype.getMeta = function (e) {\n    return this.nodeMetaMap.get(e) || null;\n  }, e.prototype.removeNodeFromMap = function (e) {\n    var t = this,\n      n = this.getId(e);\n    this.idNodeMap.delete(n), e.childNodes && e.childNodes.forEach(function (e) {\n      return t.removeNodeFromMap(e);\n    });\n  }, e.prototype.has = function (e) {\n    return this.idNodeMap.has(e);\n  }, e.prototype.hasNode = function (e) {\n    return this.nodeMetaMap.has(e);\n  }, e.prototype.add = function (e, t) {\n    var n = t.id;\n    this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);\n  }, e.prototype.replace = function (e, t) {\n    var n = this.getNode(e);\n    if (n) {\n      var i = this.nodeMetaMap.get(n);\n      i && this.nodeMetaMap.set(t, i);\n    }\n    this.idNodeMap.set(e, t);\n  }, e.prototype.reset = function () {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }, e;\n}();\nfunction We(e) {\n  const t = [];\n  for (const n in e) {\n    const i = e[n];\n    if (\"string\" != typeof i) continue;\n    const o = Ye(n);\n    t.push(`${o}: ${i};`);\n  }\n  return t.join(\" \");\n}\nconst Ue = /-([a-z])/g,\n  Ze = /^--[a-zA-Z0-9-]+$/,\n  $e = e => Ze.test(e) ? e : e.replace(Ue, (e, t) => t ? t.toUpperCase() : \"\"),\n  Ke = /\\B([A-Z])/g,\n  Ye = e => e.replace(Ke, \"-$1\").toLowerCase();\nclass Pe {\n  constructor(...e) {\n    this.childNodes = [], this.parentElement = null, this.parentNode = null, this.ELEMENT_NODE = qe.ELEMENT_NODE, this.TEXT_NODE = qe.TEXT_NODE;\n  }\n  get firstChild() {\n    return this.childNodes[0] || null;\n  }\n  get lastChild() {\n    return this.childNodes[this.childNodes.length - 1] || null;\n  }\n  get nextSibling() {\n    const e = this.parentNode;\n    if (!e) return null;\n    const t = e.childNodes,\n      n = t.indexOf(this);\n    return t[n + 1] || null;\n  }\n  contains(e) {\n    if (e === this) return !0;\n    for (const t of this.childNodes) if (t.contains(e)) return !0;\n    return !1;\n  }\n  appendChild(e) {\n    throw new Error(\"RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.\");\n  }\n  insertBefore(e, t) {\n    throw new Error(\"RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.\");\n  }\n  removeChild(e) {\n    throw new Error(\"RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.\");\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nfunction Qe(e) {\n  return class extends e {\n    constructor(e, t, n) {\n      super(), this.nodeType = qe.DOCUMENT_TYPE_NODE, this.RRNodeType = Ve.DocumentType, this.textContent = null, this.name = e, this.publicId = t, this.systemId = n, this.nodeName = e;\n    }\n    toString() {\n      return \"RRDocumentType\";\n    }\n  };\n}\nfunction ze(e) {\n  return class extends e {\n    constructor(e) {\n      super(), this.nodeType = qe.ELEMENT_NODE, this.RRNodeType = Ve.Element, this.attributes = {}, this.shadowRoot = null, this.tagName = e.toUpperCase(), this.nodeName = e.toUpperCase();\n    }\n    get textContent() {\n      let e = \"\";\n      return this.childNodes.forEach(t => e += t.textContent), e;\n    }\n    set textContent(e) {\n      this.childNodes = [this.ownerDocument.createTextNode(e)];\n    }\n    get classList() {\n      return new je(this.attributes.class, e => {\n        this.attributes.class = e;\n      });\n    }\n    get id() {\n      return this.attributes.id || \"\";\n    }\n    get className() {\n      return this.attributes.class || \"\";\n    }\n    get style() {\n      const e = this.attributes.style ? function (e) {\n          const t = {},\n            n = /:(.+)/;\n          return e.replace(/\\/\\*.*?\\*\\//g, \"\").split(/;(?![^(]*\\))/g).forEach(function (e) {\n            if (e) {\n              const i = e.split(n);\n              i.length > 1 && (t[$e(i[0].trim())] = i[1].trim());\n            }\n          }), t;\n        }(this.attributes.style) : {},\n        t = /\\B([A-Z])/g;\n      return e.setProperty = (n, i, o) => {\n        if (t.test(n)) return;\n        const r = $e(n);\n        i ? e[r] = i : delete e[r], \"important\" === o && (e[r] += \" !important\"), this.attributes.style = We(e);\n      }, e.removeProperty = n => {\n        if (t.test(n)) return \"\";\n        const i = $e(n),\n          o = e[i] || \"\";\n        return delete e[i], this.attributes.style = We(e), o;\n      }, e;\n    }\n    getAttribute(e) {\n      return this.attributes[e] || null;\n    }\n    setAttribute(e, t) {\n      this.attributes[e] = t;\n    }\n    setAttributeNS(e, t, n) {\n      this.setAttribute(t, n);\n    }\n    removeAttribute(e) {\n      delete this.attributes[e];\n    }\n    appendChild(e) {\n      return this.childNodes.push(e), e.parentNode = this, e.parentElement = this, e;\n    }\n    insertBefore(e, t) {\n      if (null === t) return this.appendChild(e);\n      const n = this.childNodes.indexOf(t);\n      if (-1 == n) throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\n      return this.childNodes.splice(n, 0, e), e.parentElement = this, e.parentNode = this, e;\n    }\n    removeChild(e) {\n      const t = this.childNodes.indexOf(e);\n      if (-1 === t) throw new Error(\"Failed to execute 'removeChild' on 'RRElement': The RRNode to be removed is not a child of this RRNode.\");\n      return this.childNodes.splice(t, 1), e.parentElement = null, e.parentNode = null, e;\n    }\n    attachShadow(e) {\n      const t = this.ownerDocument.createElement(\"SHADOWROOT\");\n      return this.shadowRoot = t, t;\n    }\n    dispatchEvent(e) {\n      return !0;\n    }\n    toString() {\n      let e = \"\";\n      for (const t in this.attributes) e += `${t}=\"${this.attributes[t]}\" `;\n      return `${this.tagName} ${e}`;\n    }\n  };\n}\nfunction Je(e) {\n  return class extends e {\n    constructor(e) {\n      super(), this.nodeType = qe.TEXT_NODE, this.nodeName = \"#text\", this.RRNodeType = Ve.Text, this.data = e;\n    }\n    get textContent() {\n      return this.data;\n    }\n    set textContent(e) {\n      this.data = e;\n    }\n    toString() {\n      return `RRText text=${JSON.stringify(this.data)}`;\n    }\n  };\n}\nfunction Xe(e) {\n  return class extends e {\n    constructor(e) {\n      super(), this.nodeType = qe.COMMENT_NODE, this.nodeName = \"#comment\", this.RRNodeType = Ve.Comment, this.data = e;\n    }\n    get textContent() {\n      return this.data;\n    }\n    set textContent(e) {\n      this.data = e;\n    }\n    toString() {\n      return `RRComment text=${JSON.stringify(this.data)}`;\n    }\n  };\n}\nfunction He(e) {\n  return class extends e {\n    constructor(e) {\n      super(), this.nodeName = \"#cdata-section\", this.nodeType = qe.CDATA_SECTION_NODE, this.RRNodeType = Ve.CDATA, this.data = e;\n    }\n    get textContent() {\n      return this.data;\n    }\n    set textContent(e) {\n      this.data = e;\n    }\n    toString() {\n      return `RRCDATASection data=${JSON.stringify(this.data)}`;\n    }\n  };\n}\nclass je {\n  constructor(e, t) {\n    if (this.classes = [], this.add = (...e) => {\n      for (const t of e) {\n        const e = String(t);\n        this.classes.indexOf(e) >= 0 || this.classes.push(e);\n      }\n      this.onChange && this.onChange(this.classes.join(\" \"));\n    }, this.remove = (...e) => {\n      this.classes = this.classes.filter(t => -1 === e.indexOf(t)), this.onChange && this.onChange(this.classes.join(\" \"));\n    }, e) {\n      const t = e.trim().split(/\\s+/);\n      this.classes.push(...t);\n    }\n    this.onChange = t;\n  }\n}\nvar qe;\n!function (e) {\n  e[e.PLACEHOLDER = 0] = \"PLACEHOLDER\", e[e.ELEMENT_NODE = 1] = \"ELEMENT_NODE\", e[e.ATTRIBUTE_NODE = 2] = \"ATTRIBUTE_NODE\", e[e.TEXT_NODE = 3] = \"TEXT_NODE\", e[e.CDATA_SECTION_NODE = 4] = \"CDATA_SECTION_NODE\", e[e.ENTITY_REFERENCE_NODE = 5] = \"ENTITY_REFERENCE_NODE\", e[e.ENTITY_NODE = 6] = \"ENTITY_NODE\", e[e.PROCESSING_INSTRUCTION_NODE = 7] = \"PROCESSING_INSTRUCTION_NODE\", e[e.COMMENT_NODE = 8] = \"COMMENT_NODE\", e[e.DOCUMENT_NODE = 9] = \"DOCUMENT_NODE\", e[e.DOCUMENT_TYPE_NODE = 10] = \"DOCUMENT_TYPE_NODE\", e[e.DOCUMENT_FRAGMENT_NODE = 11] = \"DOCUMENT_FRAGMENT_NODE\";\n}(qe || (qe = {}));\nconst et = {\n    svg: \"http://www.w3.org/2000/svg\",\n    \"xlink:href\": \"http://www.w3.org/1999/xlink\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  },\n  tt = {\n    altglyph: \"altGlyph\",\n    altglyphdef: \"altGlyphDef\",\n    altglyphitem: \"altGlyphItem\",\n    animatecolor: \"animateColor\",\n    animatemotion: \"animateMotion\",\n    animatetransform: \"animateTransform\",\n    clippath: \"clipPath\",\n    feblend: \"feBlend\",\n    fecolormatrix: \"feColorMatrix\",\n    fecomponenttransfer: \"feComponentTransfer\",\n    fecomposite: \"feComposite\",\n    feconvolvematrix: \"feConvolveMatrix\",\n    fediffuselighting: \"feDiffuseLighting\",\n    fedisplacementmap: \"feDisplacementMap\",\n    fedistantlight: \"feDistantLight\",\n    fedropshadow: \"feDropShadow\",\n    feflood: \"feFlood\",\n    fefunca: \"feFuncA\",\n    fefuncb: \"feFuncB\",\n    fefuncg: \"feFuncG\",\n    fefuncr: \"feFuncR\",\n    fegaussianblur: \"feGaussianBlur\",\n    feimage: \"feImage\",\n    femerge: \"feMerge\",\n    femergenode: \"feMergeNode\",\n    femorphology: \"feMorphology\",\n    feoffset: \"feOffset\",\n    fepointlight: \"fePointLight\",\n    fespecularlighting: \"feSpecularLighting\",\n    fespotlight: \"feSpotLight\",\n    fetile: \"feTile\",\n    feturbulence: \"feTurbulence\",\n    foreignobject: \"foreignObject\",\n    glyphref: \"glyphRef\",\n    lineargradient: \"linearGradient\",\n    radialgradient: \"radialGradient\"\n  };\nfunction nt(e, t, n, i) {\n  const o = e.childNodes,\n    r = t.childNodes;\n  i = i || t.mirror || t.ownerDocument.mirror, (o.length > 0 || r.length > 0) && it(Array.from(o), r, e, n, i);\n  let s = null,\n    a = null;\n  switch (t.RRNodeType) {\n    case Ve.Document:\n      a = t.scrollData;\n      break;\n    case Ve.Element:\n      {\n        const o = e,\n          r = t;\n        switch (function (e, t, n) {\n          const i = e.attributes,\n            o = t.attributes;\n          for (const i in o) {\n            const r = o[i],\n              s = n.getMeta(t);\n            if (s && \"isSVG\" in s && s.isSVG && et[i]) e.setAttributeNS(et[i], i, r);else if (\"CANVAS\" === t.tagName && \"rr_dataURL\" === i) {\n              const t = document.createElement(\"img\");\n              t.src = r, t.onload = () => {\n                const n = e.getContext(\"2d\");\n                n && n.drawImage(t, 0, 0, t.width, t.height);\n              };\n            } else e.setAttribute(i, r);\n          }\n          for (const {\n            name: t\n          } of Array.from(i)) t in o || e.removeAttribute(t);\n          t.scrollLeft && (e.scrollLeft = t.scrollLeft), t.scrollTop && (e.scrollTop = t.scrollTop);\n        }(o, r, i), a = r.scrollData, s = r.inputData, r.tagName) {\n          case \"AUDIO\":\n          case \"VIDEO\":\n            {\n              const t = e,\n                n = r;\n              void 0 !== n.paused && (n.paused ? t.pause() : t.play()), void 0 !== n.muted && (t.muted = n.muted), void 0 !== n.volume && (t.volume = n.volume), void 0 !== n.currentTime && (t.currentTime = n.currentTime), void 0 !== n.playbackRate && (t.playbackRate = n.playbackRate);\n              break;\n            }\n          case \"CANVAS\":\n            {\n              const i = t;\n              if (null !== i.rr_dataURL) {\n                const e = document.createElement(\"img\");\n                e.onload = () => {\n                  const t = o.getContext(\"2d\");\n                  t && t.drawImage(e, 0, 0, e.width, e.height);\n                }, e.src = i.rr_dataURL;\n              }\n              i.canvasMutations.forEach(t => n.applyCanvas(t.event, t.mutation, e));\n            }\n            break;\n          case \"STYLE\":\n            {\n              const e = o.sheet;\n              e && t.rules.forEach(t => n.applyStyleSheetMutation(t, e));\n            }\n        }\n        if (r.shadowRoot) {\n          o.shadowRoot || o.attachShadow({\n            mode: \"open\"\n          });\n          const e = o.shadowRoot.childNodes,\n            t = r.shadowRoot.childNodes;\n          (e.length > 0 || t.length > 0) && it(Array.from(e), t, o.shadowRoot, n, i);\n        }\n        break;\n      }\n    case Ve.Text:\n    case Ve.Comment:\n    case Ve.CDATA:\n      e.textContent !== t.data && (e.textContent = t.data);\n  }\n  if (a && n.applyScroll(a, !0), s && n.applyInput(s), \"IFRAME\" === t.nodeName) {\n    const o = e.contentDocument,\n      r = t;\n    if (o) {\n      const e = i.getMeta(r.contentDocument);\n      e && n.mirror.add(o, Object.assign({}, e)), nt(o, r.contentDocument, n, i);\n    }\n  }\n}\nfunction it(e, t, n, i, o) {\n  var r;\n  let s,\n    a,\n    l = 0,\n    c = e.length - 1,\n    d = 0,\n    u = t.length - 1,\n    h = e[l],\n    p = e[c],\n    g = t[d],\n    m = t[u];\n  for (; l <= c && d <= u;) {\n    const f = i.mirror.getId(h),\n      y = i.mirror.getId(p),\n      v = o.getId(g),\n      C = o.getId(m);\n    if (void 0 === h) h = e[++l];else if (void 0 === p) p = e[--c];else if (-1 !== f && f === v) nt(h, g, i, o), h = e[++l], g = t[++d];else if (-1 !== y && y === C) nt(p, m, i, o), p = e[--c], m = t[--u];else if (-1 !== f && f === C) n.insertBefore(h, p.nextSibling), nt(h, m, i, o), h = e[++l], m = t[--u];else if (-1 !== y && y === v) n.insertBefore(p, h), nt(p, g, i, o), p = e[--c], g = t[++d];else {\n      if (!s) {\n        s = {};\n        for (let t = l; t <= c; t++) {\n          const n = e[t];\n          n && i.mirror.hasNode(n) && (s[i.mirror.getId(n)] = t);\n        }\n      }\n      if (a = s[o.getId(g)], a) {\n        const t = e[a];\n        n.insertBefore(t, h), nt(t, g, i, o), e[a] = void 0;\n      } else {\n        const t = ot(g, i.mirror, o);\n        \"#document\" === n.nodeName && (null === (r = i.mirror.getMeta(t)) || void 0 === r ? void 0 : r.type) === Ve.Element && n.documentElement && (n.removeChild(n.documentElement), e[l] = void 0, h = void 0), n.insertBefore(t, h || null), nt(t, g, i, o);\n      }\n      g = t[++d];\n    }\n  }\n  if (l > c) {\n    const e = t[u + 1];\n    let r = null;\n    for (e && n.childNodes.forEach(t => {\n      i.mirror.getId(t) === o.getId(e) && (r = t);\n    }); d <= u; ++d) {\n      const e = ot(t[d], i.mirror, o);\n      n.insertBefore(e, r), nt(e, t[d], i, o);\n    }\n  } else if (d > u) for (; l <= c; l++) {\n    const t = e[l];\n    t && (n.removeChild(t), i.mirror.removeNodeFromMap(t));\n  }\n}\nfunction ot(e, t, n) {\n  const i = n.getId(e),\n    o = n.getMeta(e);\n  let r = null;\n  if (i > -1 && (r = t.getNode(i)), null !== r) return r;\n  switch (e.RRNodeType) {\n    case Ve.Document:\n      r = new Document();\n      break;\n    case Ve.DocumentType:\n      r = document.implementation.createDocumentType(e.name, e.publicId, e.systemId);\n      break;\n    case Ve.Element:\n      {\n        let t = e.tagName.toLowerCase();\n        t = tt[t] || t, r = o && \"isSVG\" in o && (null == o ? void 0 : o.isSVG) ? document.createElementNS(et.svg, t) : document.createElement(e.tagName);\n        break;\n      }\n    case Ve.Text:\n      r = document.createTextNode(e.data);\n      break;\n    case Ve.Comment:\n      r = document.createComment(e.data);\n      break;\n    case Ve.CDATA:\n      r = document.createCDATASection(e.data);\n  }\n  return o && t.add(r, Object.assign({}, o)), r;\n}\nclass rt extends function (e) {\n  return class t extends e {\n    constructor() {\n      super(...arguments), this.nodeType = qe.DOCUMENT_NODE, this.nodeName = \"#document\", this.compatMode = \"CSS1Compat\", this.RRNodeType = Ve.Document, this.textContent = null;\n    }\n    get documentElement() {\n      return this.childNodes.find(e => e.RRNodeType === Ve.Element && \"HTML\" === e.tagName) || null;\n    }\n    get body() {\n      var e;\n      return (null === (e = this.documentElement) || void 0 === e ? void 0 : e.childNodes.find(e => e.RRNodeType === Ve.Element && \"BODY\" === e.tagName)) || null;\n    }\n    get head() {\n      var e;\n      return (null === (e = this.documentElement) || void 0 === e ? void 0 : e.childNodes.find(e => e.RRNodeType === Ve.Element && \"HEAD\" === e.tagName)) || null;\n    }\n    get implementation() {\n      return this;\n    }\n    get firstElementChild() {\n      return this.documentElement;\n    }\n    appendChild(e) {\n      const t = e.RRNodeType;\n      if ((t === Ve.Element || t === Ve.DocumentType) && this.childNodes.some(e => e.RRNodeType === t)) throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t === Ve.Element ? \"RRElement\" : \"RRDoctype\"} on RRDocument allowed.`);\n      return e.parentElement = null, e.parentNode = this, this.childNodes.push(e), e;\n    }\n    insertBefore(e, t) {\n      const n = e.RRNodeType;\n      if ((n === Ve.Element || n === Ve.DocumentType) && this.childNodes.some(e => e.RRNodeType === n)) throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${n === Ve.Element ? \"RRElement\" : \"RRDoctype\"} on RRDocument allowed.`);\n      if (null === t) return this.appendChild(e);\n      const i = this.childNodes.indexOf(t);\n      if (-1 == i) throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\n      return this.childNodes.splice(i, 0, e), e.parentElement = null, e.parentNode = this, e;\n    }\n    removeChild(e) {\n      const t = this.childNodes.indexOf(e);\n      if (-1 === t) throw new Error(\"Failed to execute 'removeChild' on 'RRDocument': The RRNode to be removed is not a child of this RRNode.\");\n      return this.childNodes.splice(t, 1), e.parentElement = null, e.parentNode = null, e;\n    }\n    open() {\n      this.childNodes = [];\n    }\n    close() {}\n    write(e) {\n      let t;\n      if ('<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">' === e ? t = \"-//W3C//DTD XHTML 1.0 Transitional//EN\" : '<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">' === e && (t = \"-//W3C//DTD HTML 4.0 Transitional//EN\"), t) {\n        const e = this.createDocumentType(\"html\", t, \"\");\n        this.open(), this.appendChild(e);\n      }\n    }\n    createDocument(e, n, i) {\n      return new t();\n    }\n    createDocumentType(e, t, n) {\n      const i = new (Qe(Pe))(e, t, n);\n      return i.ownerDocument = this, i;\n    }\n    createElement(e) {\n      const t = new (ze(Pe))(e);\n      return t.ownerDocument = this, t;\n    }\n    createElementNS(e, t) {\n      return this.createElement(t);\n    }\n    createTextNode(e) {\n      const t = new (Je(Pe))(e);\n      return t.ownerDocument = this, t;\n    }\n    createComment(e) {\n      const t = new (Xe(Pe))(e);\n      return t.ownerDocument = this, t;\n    }\n    createCDATASection(e) {\n      const t = new (He(Pe))(e);\n      return t.ownerDocument = this, t;\n    }\n    toString() {\n      return \"RRDocument\";\n    }\n  };\n}(Pe) {\n  constructor(e) {\n    super(), this.UNSERIALIZED_STARTING_ID = -2, this._unserializedId = this.UNSERIALIZED_STARTING_ID, this.mirror = new yt(), this.scrollData = null, e && (this.mirror = e);\n  }\n  get unserializedId() {\n    return this._unserializedId--;\n  }\n  createDocument(e, t, n) {\n    return new rt();\n  }\n  createDocumentType(e, t, n) {\n    const i = new st(e, t, n);\n    return i.ownerDocument = this, i;\n  }\n  createElement(e) {\n    const t = e.toUpperCase();\n    let n;\n    switch (t) {\n      case \"AUDIO\":\n      case \"VIDEO\":\n        n = new lt(t);\n        break;\n      case \"IFRAME\":\n        n = new ut(t, this.mirror);\n        break;\n      case \"CANVAS\":\n        n = new ct(t);\n        break;\n      case \"STYLE\":\n        n = new dt(t);\n        break;\n      default:\n        n = new at(t);\n    }\n    return n.ownerDocument = this, n;\n  }\n  createComment(e) {\n    const t = new pt(e);\n    return t.ownerDocument = this, t;\n  }\n  createCDATASection(e) {\n    const t = new gt(e);\n    return t.ownerDocument = this, t;\n  }\n  createTextNode(e) {\n    const t = new ht(e);\n    return t.ownerDocument = this, t;\n  }\n  destroyTree() {\n    this.childNodes = [], this.mirror.reset();\n  }\n  open() {\n    super.open(), this._unserializedId = this.UNSERIALIZED_STARTING_ID;\n  }\n}\nconst st = Qe(Pe);\nclass at extends ze(Pe) {\n  constructor() {\n    super(...arguments), this.inputData = null, this.scrollData = null;\n  }\n}\nclass lt extends function (e) {\n  return class extends e {\n    attachShadow(e) {\n      throw new Error(\"RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow\");\n    }\n    play() {\n      this.paused = !1;\n    }\n    pause() {\n      this.paused = !0;\n    }\n  };\n}(at) {}\nclass ct extends at {\n  constructor() {\n    super(...arguments), this.rr_dataURL = null, this.canvasMutations = [];\n  }\n  getContext() {\n    return null;\n  }\n}\nclass dt extends at {\n  constructor() {\n    super(...arguments), this.rules = [];\n  }\n}\nclass ut extends at {\n  constructor(e, t) {\n    super(e), this.contentDocument = new rt(), this.contentDocument.mirror = t;\n  }\n}\nconst ht = Je(Pe),\n  pt = Xe(Pe),\n  gt = He(Pe);\nfunction mt(e, t, n, i) {\n  let o;\n  switch (e.nodeType) {\n    case qe.DOCUMENT_NODE:\n      i && \"IFRAME\" === i.nodeName ? o = i.contentDocument : (o = t, o.compatMode = e.compatMode);\n      break;\n    case qe.DOCUMENT_TYPE_NODE:\n      {\n        const n = e;\n        o = t.createDocumentType(n.name, n.publicId, n.systemId);\n        break;\n      }\n    case qe.ELEMENT_NODE:\n      {\n        const n = e,\n          i = function (e) {\n            return e instanceof HTMLFormElement ? \"FORM\" : e.tagName.toUpperCase();\n          }(n);\n        o = t.createElement(i);\n        const r = o;\n        for (const {\n          name: e,\n          value: t\n        } of Array.from(n.attributes)) r.attributes[e] = t;\n        n.scrollLeft && (r.scrollLeft = n.scrollLeft), n.scrollTop && (r.scrollTop = n.scrollTop);\n        break;\n      }\n    case qe.TEXT_NODE:\n      o = t.createTextNode(e.textContent || \"\");\n      break;\n    case qe.CDATA_SECTION_NODE:\n      o = t.createCDATASection(e.data);\n      break;\n    case qe.COMMENT_NODE:\n      o = t.createComment(e.textContent || \"\");\n      break;\n    case qe.DOCUMENT_FRAGMENT_NODE:\n      o = i.attachShadow({\n        mode: \"open\"\n      });\n      break;\n    default:\n      return null;\n  }\n  let r = n.getMeta(e);\n  return t instanceof rt && (r || (r = vt(o, t.unserializedId), n.add(e, r)), t.mirror.add(o, Object.assign({}, r))), o;\n}\nfunction ft(e, t = function () {\n  return new Ge();\n}(), n = new rt()) {\n  return function e(i, o) {\n    const r = mt(i, n, t, o);\n    if (null !== r) if (\"IFRAME\" !== (null == o ? void 0 : o.nodeName) && i.nodeType !== qe.DOCUMENT_FRAGMENT_NODE && (null == o || o.appendChild(r), r.parentNode = o, r.parentElement = o), \"IFRAME\" === i.nodeName) {\n      const t = i.contentDocument;\n      t && e(t, r);\n    } else i.nodeType !== qe.DOCUMENT_NODE && i.nodeType !== qe.ELEMENT_NODE && i.nodeType !== qe.DOCUMENT_FRAGMENT_NODE || (i.nodeType === qe.ELEMENT_NODE && i.shadowRoot && e(i.shadowRoot, r), i.childNodes.forEach(t => e(t, r)));\n  }(e, null), n;\n}\nclass yt {\n  constructor() {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }\n  getId(e) {\n    var t;\n    if (!e) return -1;\n    const n = null === (t = this.getMeta(e)) || void 0 === t ? void 0 : t.id;\n    return null != n ? n : -1;\n  }\n  getNode(e) {\n    return this.idNodeMap.get(e) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(e) {\n    return this.nodeMetaMap.get(e) || null;\n  }\n  removeNodeFromMap(e) {\n    const t = this.getId(e);\n    this.idNodeMap.delete(t), e.childNodes && e.childNodes.forEach(e => this.removeNodeFromMap(e));\n  }\n  has(e) {\n    return this.idNodeMap.has(e);\n  }\n  hasNode(e) {\n    return this.nodeMetaMap.has(e);\n  }\n  add(e, t) {\n    const n = t.id;\n    this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);\n  }\n  replace(e, t) {\n    const n = this.getNode(e);\n    if (n) {\n      const e = this.nodeMetaMap.get(n);\n      e && this.nodeMetaMap.set(t, e);\n    }\n    this.idNodeMap.set(e, t);\n  }\n  reset() {\n    this.idNodeMap = new Map(), this.nodeMetaMap = new WeakMap();\n  }\n}\nfunction vt(e, t) {\n  switch (e.RRNodeType) {\n    case Ve.Document:\n      return {\n        id: t,\n        type: e.RRNodeType,\n        childNodes: []\n      };\n    case Ve.DocumentType:\n      {\n        const n = e;\n        return {\n          id: t,\n          type: e.RRNodeType,\n          name: n.name,\n          publicId: n.publicId,\n          systemId: n.systemId\n        };\n      }\n    case Ve.Element:\n      return {\n        id: t,\n        type: e.RRNodeType,\n        tagName: e.tagName.toLowerCase(),\n        attributes: {},\n        childNodes: []\n      };\n    case Ve.Text:\n    case Ve.Comment:\n      return {\n        id: t,\n        type: e.RRNodeType,\n        textContent: e.textContent || \"\"\n      };\n    case Ve.CDATA:\n      return {\n        id: t,\n        type: e.RRNodeType,\n        textContent: \"\"\n      };\n  }\n}\nvar Ct = Uint8Array,\n  It = Uint16Array,\n  At = Uint32Array,\n  bt = new Ct([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]),\n  wt = new Ct([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]),\n  Nt = new Ct([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),\n  Et = function (e, t) {\n    for (var n = new It(31), i = 0; i < 31; ++i) n[i] = t += 1 << e[i - 1];\n    var o = new At(n[30]);\n    for (i = 1; i < 30; ++i) for (var r = n[i]; r < n[i + 1]; ++r) o[r] = r - n[i] << 5 | i;\n    return [n, o];\n  },\n  St = Et(bt, 2),\n  Tt = St[0],\n  Dt = St[1];\nTt[28] = 258, Dt[258] = 28;\nfor (var Mt = Et(wt, 0)[0], Rt = new It(32768), xt = 0; xt < 32768; ++xt) {\n  var kt = (43690 & xt) >>> 1 | (21845 & xt) << 1;\n  kt = (61680 & (kt = (52428 & kt) >>> 2 | (13107 & kt) << 2)) >>> 4 | (3855 & kt) << 4, Rt[xt] = ((65280 & kt) >>> 8 | (255 & kt) << 8) >>> 1;\n}\nvar Ft = function (e, t, n) {\n    for (var i = e.length, o = 0, r = new It(t); o < i; ++o) ++r[e[o] - 1];\n    var s,\n      a = new It(t);\n    for (o = 0; o < t; ++o) a[o] = a[o - 1] + r[o - 1] << 1;\n    if (n) {\n      s = new It(1 << t);\n      var l = 15 - t;\n      for (o = 0; o < i; ++o) if (e[o]) for (var c = o << 4 | e[o], d = t - e[o], u = a[e[o] - 1]++ << d, h = u | (1 << d) - 1; u <= h; ++u) s[Rt[u] >>> l] = c;\n    } else for (s = new It(i), o = 0; o < i; ++o) s[o] = Rt[a[e[o] - 1]++] >>> 15 - e[o];\n    return s;\n  },\n  Ot = new Ct(288);\nfor (xt = 0; xt < 144; ++xt) Ot[xt] = 8;\nfor (xt = 144; xt < 256; ++xt) Ot[xt] = 9;\nfor (xt = 256; xt < 280; ++xt) Ot[xt] = 7;\nfor (xt = 280; xt < 288; ++xt) Ot[xt] = 8;\nvar Bt = new Ct(32);\nfor (xt = 0; xt < 32; ++xt) Bt[xt] = 5;\nvar Lt = Ft(Ot, 9, 1),\n  Vt = Ft(Bt, 5, 1),\n  _t = function (e) {\n    for (var t = e[0], n = 1; n < e.length; ++n) e[n] > t && (t = e[n]);\n    return t;\n  },\n  Gt = function (e, t, n) {\n    var i = t / 8 >> 0;\n    return (e[i] | e[i + 1] << 8) >>> (7 & t) & n;\n  },\n  Wt = function (e, t) {\n    var n = t / 8 >> 0;\n    return (e[n] | e[n + 1] << 8 | e[n + 2] << 16) >>> (7 & t);\n  },\n  Ut = function (e, t, n) {\n    (null == t || t < 0) && (t = 0), (null == n || n > e.length) && (n = e.length);\n    var i = new (e instanceof It ? It : e instanceof At ? At : Ct)(n - t);\n    return i.set(e.subarray(t, n)), i;\n  };\nfunction Zt(e, t) {\n  return function (e, t, n) {\n    var i = e.length,\n      o = !t || n,\n      r = !n || n.i;\n    n || (n = {}), t || (t = new Ct(3 * i));\n    var s,\n      a = function (e) {\n        var n = t.length;\n        if (e > n) {\n          var i = new Ct(Math.max(2 * n, e));\n          i.set(t), t = i;\n        }\n      },\n      l = n.f || 0,\n      c = n.p || 0,\n      d = n.b || 0,\n      u = n.l,\n      h = n.d,\n      p = n.m,\n      g = n.n,\n      m = 8 * i;\n    do {\n      if (!u) {\n        n.f = l = Gt(e, c, 1);\n        var f = Gt(e, c + 1, 3);\n        if (c += 3, !f) {\n          var y = e[(D = ((s = c) / 8 >> 0) + (7 & s && 1) + 4) - 4] | e[D - 3] << 8,\n            v = D + y;\n          if (v > i) {\n            if (r) throw \"unexpected EOF\";\n            break;\n          }\n          o && a(d + y), t.set(e.subarray(D, v), d), n.b = d += y, n.p = c = 8 * v;\n          continue;\n        }\n        if (1 == f) u = Lt, h = Vt, p = 9, g = 5;else {\n          if (2 != f) throw \"invalid block type\";\n          var C = Gt(e, c, 31) + 257,\n            I = Gt(e, c + 10, 15) + 4,\n            A = C + Gt(e, c + 5, 31) + 1;\n          c += 14;\n          for (var b = new Ct(A), w = new Ct(19), N = 0; N < I; ++N) w[Nt[N]] = Gt(e, c + 3 * N, 7);\n          c += 3 * I;\n          var E = _t(w),\n            S = (1 << E) - 1;\n          if (!r && c + A * (E + 7) > m) break;\n          var T = Ft(w, E, 1);\n          for (N = 0; N < A;) {\n            var D,\n              M = T[Gt(e, c, S)];\n            if (c += 15 & M, (D = M >>> 4) < 16) b[N++] = D;else {\n              var R = 0,\n                x = 0;\n              for (16 == D ? (x = 3 + Gt(e, c, 3), c += 2, R = b[N - 1]) : 17 == D ? (x = 3 + Gt(e, c, 7), c += 3) : 18 == D && (x = 11 + Gt(e, c, 127), c += 7); x--;) b[N++] = R;\n            }\n          }\n          var k = b.subarray(0, C),\n            F = b.subarray(C);\n          p = _t(k), g = _t(F), u = Ft(k, p, 1), h = Ft(F, g, 1);\n        }\n        if (c > m) throw \"unexpected EOF\";\n      }\n      o && a(d + 131072);\n      for (var O = (1 << p) - 1, B = (1 << g) - 1, L = p + g + 18; r || c + L < m;) {\n        var V = (R = u[Wt(e, c) & O]) >>> 4;\n        if ((c += 15 & R) > m) throw \"unexpected EOF\";\n        if (!R) throw \"invalid length/literal\";\n        if (V < 256) t[d++] = V;else {\n          if (256 == V) {\n            u = null;\n            break;\n          }\n          var _ = V - 254;\n          if (V > 264) {\n            var G = bt[N = V - 257];\n            _ = Gt(e, c, (1 << G) - 1) + Tt[N], c += G;\n          }\n          var W = h[Wt(e, c) & B],\n            U = W >>> 4;\n          if (!W) throw \"invalid distance\";\n          if (c += 15 & W, F = Mt[U], U > 3 && (G = wt[U], F += Wt(e, c) & (1 << G) - 1, c += G), c > m) throw \"unexpected EOF\";\n          o && a(d + 131072);\n          for (var Z = d + _; d < Z; d += 4) t[d] = t[d - F], t[d + 1] = t[d + 1 - F], t[d + 2] = t[d + 2 - F], t[d + 3] = t[d + 3 - F];\n          d = Z;\n        }\n      }\n      n.l = u, n.p = c, n.b = d, u && (l = 1, n.m = p, n.d = h, n.n = g);\n    } while (!l);\n    return d == t.length ? t : Ut(t, 0, d);\n  }((function (e) {\n    if (8 != (15 & e[0]) || e[0] >>> 4 > 7 || (e[0] << 8 | e[1]) % 31) throw \"invalid zlib data\";\n    if (32 & e[1]) throw \"invalid zlib data: preset dictionaries not supported\";\n  }(e), e.subarray(2, -4)), t);\n}\nconst $t = e => {\n  if (\"string\" != typeof e) return e;\n  try {\n    const t = JSON.parse(e);\n    if (t.timestamp) return t;\n  } catch (e) {}\n  try {\n    const t = JSON.parse(function (e, t) {\n      var n = \"\";\n      if (!t && \"undefined\" != typeof TextDecoder) return new TextDecoder().decode(e);\n      for (var i = 0; i < e.length;) {\n        var o = e[i++];\n        o < 128 || t ? n += String.fromCharCode(o) : o < 224 ? n += String.fromCharCode((31 & o) << 6 | 63 & e[i++]) : o < 240 ? n += String.fromCharCode((15 & o) << 12 | (63 & e[i++]) << 6 | 63 & e[i++]) : (o = ((15 & o) << 18 | (63 & e[i++]) << 12 | (63 & e[i++]) << 6 | 63 & e[i++]) - 65536, n += String.fromCharCode(55296 | o >> 10, 56320 | 1023 & o));\n      }\n      return n;\n    }(Zt(function (e, t) {\n      var n = e.length;\n      if (!t && \"undefined\" != typeof TextEncoder) return new TextEncoder().encode(e);\n      for (var i = new Ct(e.length + (e.length >>> 1)), o = 0, r = function (e) {\n          i[o++] = e;\n        }, s = 0; s < n; ++s) {\n        if (o + 5 > i.length) {\n          var a = new Ct(o + 8 + (n - s << 1));\n          a.set(i), i = a;\n        }\n        var l = e.charCodeAt(s);\n        l < 128 || t ? r(l) : l < 2048 ? (r(192 | l >>> 6), r(128 | 63 & l)) : l > 55295 && l < 57344 ? (r(240 | (l = 65536 + (1047552 & l) | 1023 & e.charCodeAt(++s)) >>> 18), r(128 | l >>> 12 & 63), r(128 | l >>> 6 & 63), r(128 | 63 & l)) : (r(224 | l >>> 12), r(128 | l >>> 6 & 63), r(128 | 63 & l));\n      }\n      return Ut(i, 0, o);\n    }(e, !0))));\n    if (\"v1\" === t.v) return t;\n    throw new Error(`These events were packed with packer ${t.v} which is incompatible with current packer v1.`);\n  } catch (e) {\n    throw console.error(e), new Error(\"Unknown data format.\");\n  }\n};\nfunction Kt(e) {\n  return {\n    all: e = e || new Map(),\n    on: function (t, n) {\n      var i = e.get(t);\n      i ? i.push(n) : e.set(t, [n]);\n    },\n    off: function (t, n) {\n      var i = e.get(t);\n      i && (n ? i.splice(i.indexOf(n) >>> 0, 1) : e.set(t, []));\n    },\n    emit: function (t, n) {\n      var i = e.get(t);\n      i && i.slice().map(function (e) {\n        e(n);\n      }), (i = e.get(\"*\")) && i.slice().map(function (e) {\n        e(t, n);\n      });\n    }\n  };\n}\nvar Yt,\n  Pt = Object.freeze({\n    __proto__: null,\n    default: Kt\n  });\nfunction Qt(e = window, t = document) {\n  if (\"scrollBehavior\" in t.documentElement.style && !0 !== e.__forceSmoothScrollPolyfill__) return;\n  const n = e.HTMLElement || e.Element,\n    i = {\n      scroll: e.scroll || e.scrollTo,\n      scrollBy: e.scrollBy,\n      elementScroll: n.prototype.scroll || a,\n      scrollIntoView: n.prototype.scrollIntoView\n    },\n    o = e.performance && e.performance.now ? e.performance.now.bind(e.performance) : Date.now;\n  const r = (s = e.navigator.userAgent, new RegExp([\"MSIE \", \"Trident/\", \"Edge/\"].join(\"|\")).test(s) ? 1 : 0);\n  var s;\n  function a(e, t) {\n    this.scrollLeft = e, this.scrollTop = t;\n  }\n  function l(e) {\n    if (null === e || \"object\" != typeof e || void 0 === e.behavior || \"auto\" === e.behavior || \"instant\" === e.behavior) return !0;\n    if (\"object\" == typeof e && \"smooth\" === e.behavior) return !1;\n    throw new TypeError(\"behavior member of ScrollOptions \" + e.behavior + \" is not a valid value for enumeration ScrollBehavior.\");\n  }\n  function c(e, t) {\n    return \"Y\" === t ? e.clientHeight + r < e.scrollHeight : \"X\" === t ? e.clientWidth + r < e.scrollWidth : void 0;\n  }\n  function d(t, n) {\n    const i = e.getComputedStyle(t, null)[\"overflow\" + n];\n    return \"auto\" === i || \"scroll\" === i;\n  }\n  function u(e) {\n    const t = c(e, \"Y\") && d(e, \"Y\"),\n      n = c(e, \"X\") && d(e, \"X\");\n    return t || n;\n  }\n  function h(e) {\n    for (; e !== t.body && !1 === u(e);) e = e.parentNode || e.host;\n    return e;\n  }\n  function p(t) {\n    let n,\n      i,\n      r,\n      s = (o() - t.startTime) / 468;\n    var a;\n    s = s > 1 ? 1 : s, a = s, n = .5 * (1 - Math.cos(Math.PI * a)), i = t.startX + (t.x - t.startX) * n, r = t.startY + (t.y - t.startY) * n, t.method.call(t.scrollable, i, r), i === t.x && r === t.y || e.requestAnimationFrame(p.bind(e, t));\n  }\n  function g(n, r, s) {\n    let l, c, d, u;\n    const h = o();\n    n === t.body ? (l = e, c = e.scrollX || e.pageXOffset, d = e.scrollY || e.pageYOffset, u = i.scroll) : (l = n, c = n.scrollLeft, d = n.scrollTop, u = a), p({\n      scrollable: l,\n      method: u,\n      startTime: h,\n      startX: c,\n      startY: d,\n      x: r,\n      y: s\n    });\n  }\n  e.scroll = e.scrollTo = function () {\n    void 0 !== arguments[0] && (!0 !== l(arguments[0]) ? g.call(e, t.body, void 0 !== arguments[0].left ? ~~arguments[0].left : e.scrollX || e.pageXOffset, void 0 !== arguments[0].top ? ~~arguments[0].top : e.scrollY || e.pageYOffset) : i.scroll.call(e, void 0 !== arguments[0].left ? arguments[0].left : \"object\" != typeof arguments[0] ? arguments[0] : e.scrollX || e.pageXOffset, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : e.scrollY || e.pageYOffset));\n  }, e.scrollBy = function () {\n    void 0 !== arguments[0] && (l(arguments[0]) ? i.scrollBy.call(e, void 0 !== arguments[0].left ? arguments[0].left : \"object\" != typeof arguments[0] ? arguments[0] : 0, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : 0) : g.call(e, t.body, ~~arguments[0].left + (e.scrollX || e.pageXOffset), ~~arguments[0].top + (e.scrollY || e.pageYOffset)));\n  }, n.prototype.scroll = n.prototype.scrollTo = function () {\n    if (void 0 === arguments[0]) return;\n    if (!0 === l(arguments[0])) {\n      if (\"number\" == typeof arguments[0] && void 0 === arguments[1]) throw new SyntaxError(\"Value could not be converted\");\n      return void i.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left : \"object\" != typeof arguments[0] ? ~~arguments[0] : this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top : void 0 !== arguments[1] ? ~~arguments[1] : this.scrollTop);\n    }\n    const e = arguments[0].left,\n      t = arguments[0].top;\n    g.call(this, this, void 0 === e ? this.scrollLeft : ~~e, void 0 === t ? this.scrollTop : ~~t);\n  }, n.prototype.scrollBy = function () {\n    void 0 !== arguments[0] && (!0 !== l(arguments[0]) ? this.scroll({\n      left: ~~arguments[0].left + this.scrollLeft,\n      top: ~~arguments[0].top + this.scrollTop,\n      behavior: arguments[0].behavior\n    }) : i.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop));\n  }, n.prototype.scrollIntoView = function () {\n    if (!0 === l(arguments[0])) return void i.scrollIntoView.call(this, void 0 === arguments[0] || arguments[0]);\n    const n = h(this),\n      o = n.getBoundingClientRect(),\n      r = this.getBoundingClientRect();\n    n !== t.body ? (g.call(this, n, n.scrollLeft + r.left - o.left, n.scrollTop + r.top - o.top), \"fixed\" !== e.getComputedStyle(n).position && e.scrollBy({\n      left: o.left,\n      top: o.top,\n      behavior: \"smooth\"\n    })) : e.scrollBy({\n      left: r.left,\n      top: r.top,\n      behavior: \"smooth\"\n    });\n  };\n}\nclass zt {\n  constructor(e = [], t) {\n    this.timeOffset = 0, this.raf = null, this.actions = e, this.speed = t.speed, this.liveMode = t.liveMode;\n  }\n  addAction(e) {\n    if (!this.actions.length || this.actions[this.actions.length - 1].delay <= e.delay) return void this.actions.push(e);\n    const t = this.findActionIndex(e);\n    this.actions.splice(t, 0, e);\n  }\n  start() {\n    this.timeOffset = 0;\n    let e = performance.now();\n    const t = () => {\n      const n = performance.now();\n      for (this.timeOffset += (n - e) * this.speed, e = n; this.actions.length;) {\n        const e = this.actions[0];\n        if (!(this.timeOffset >= e.delay)) break;\n        this.actions.shift(), e.doAction();\n      }\n      (this.actions.length > 0 || this.liveMode) && (this.raf = requestAnimationFrame(t));\n    };\n    this.raf = requestAnimationFrame(t);\n  }\n  clear() {\n    this.raf && (cancelAnimationFrame(this.raf), this.raf = null), this.actions.length = 0;\n  }\n  setSpeed(e) {\n    this.speed = e;\n  }\n  toggleLiveMode(e) {\n    this.liveMode = e;\n  }\n  isActive() {\n    return null !== this.raf;\n  }\n  findActionIndex(e) {\n    let t = 0,\n      n = this.actions.length - 1;\n    for (; t <= n;) {\n      const i = Math.floor((t + n) / 2);\n      if (this.actions[i].delay < e.delay) t = i + 1;else {\n        if (!(this.actions[i].delay > e.delay)) return i + 1;\n        n = i - 1;\n      }\n    }\n    return t;\n  }\n}\nfunction Jt(e, t) {\n  if (e.type === be.IncrementalSnapshot && e.data.source === we.MouseMove && e.data.positions && e.data.positions.length) {\n    const n = e.data.positions[0].timeOffset,\n      i = e.timestamp + n;\n    return e.delay = i - t, i - t;\n  }\n  return e.delay = e.timestamp - t, e.delay;\n}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction Xt(e, t) {\n  var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n  if (!n) return e;\n  var i,\n    o,\n    r = n.call(e),\n    s = [];\n  try {\n    for (; (void 0 === t || t-- > 0) && !(i = r.next()).done;) s.push(i.value);\n  } catch (e) {\n    o = {\n      error: e\n    };\n  } finally {\n    try {\n      i && !i.done && (n = r.return) && n.call(r);\n    } finally {\n      if (o) throw o.error;\n    }\n  }\n  return s;\n}\n!function (e) {\n  e[e.NotStarted = 0] = \"NotStarted\", e[e.Running = 1] = \"Running\", e[e.Stopped = 2] = \"Stopped\";\n}(Yt || (Yt = {}));\nvar Ht = {\n  type: \"xstate.init\"\n};\nfunction jt(e) {\n  return void 0 === e ? [] : [].concat(e);\n}\nfunction qt(e) {\n  return {\n    type: \"xstate.assign\",\n    assignment: e\n  };\n}\nfunction en(e, t) {\n  return \"string\" == typeof (e = \"string\" == typeof e && t && t[e] ? t[e] : e) ? {\n    type: e\n  } : \"function\" == typeof e ? {\n    type: e.name,\n    exec: e\n  } : e;\n}\nfunction tn(e) {\n  return function (t) {\n    return e === t;\n  };\n}\nfunction nn(e) {\n  return \"string\" == typeof e ? {\n    type: e\n  } : e;\n}\nfunction on(e, t) {\n  return {\n    value: e,\n    context: t,\n    actions: [],\n    changed: !1,\n    matches: tn(e)\n  };\n}\nfunction rn(e, t, n) {\n  var i = t,\n    o = !1;\n  return [e.filter(function (e) {\n    if (\"xstate.assign\" === e.type) {\n      o = !0;\n      var t = Object.assign({}, i);\n      return \"function\" == typeof e.assignment ? t = e.assignment(i, n) : Object.keys(e.assignment).forEach(function (o) {\n        t[o] = \"function\" == typeof e.assignment[o] ? e.assignment[o](i, n) : e.assignment[o];\n      }), i = t, !1;\n    }\n    return !0;\n  }), i, o];\n}\nfunction sn(e, t) {\n  void 0 === t && (t = {});\n  var n = Xt(rn(jt(e.states[e.initial].entry).map(function (e) {\n      return en(e, t.actions);\n    }), e.context, Ht), 2),\n    i = n[0],\n    o = n[1],\n    r = {\n      config: e,\n      _options: t,\n      initialState: {\n        value: e.initial,\n        actions: i,\n        context: o,\n        matches: tn(e.initial)\n      },\n      transition: function (t, n) {\n        var i,\n          o,\n          s = \"string\" == typeof t ? {\n            value: t,\n            context: e.context\n          } : t,\n          a = s.value,\n          l = s.context,\n          c = nn(n),\n          d = e.states[a];\n        if (d.on) {\n          var u = jt(d.on[c.type]);\n          try {\n            for (var h = function (e) {\n                var t = \"function\" == typeof Symbol && Symbol.iterator,\n                  n = t && e[t],\n                  i = 0;\n                if (n) return n.call(e);\n                if (e && \"number\" == typeof e.length) return {\n                  next: function () {\n                    return e && i >= e.length && (e = void 0), {\n                      value: e && e[i++],\n                      done: !e\n                    };\n                  }\n                };\n                throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n              }(u), p = h.next(); !p.done; p = h.next()) {\n              var g = p.value;\n              if (void 0 === g) return on(a, l);\n              var m = \"string\" == typeof g ? {\n                  target: g\n                } : g,\n                f = m.target,\n                y = m.actions,\n                v = void 0 === y ? [] : y,\n                C = m.cond,\n                I = void 0 === C ? function () {\n                  return !0;\n                } : C,\n                A = void 0 === f,\n                b = null != f ? f : a,\n                w = e.states[b];\n              if (I(l, c)) {\n                var N = Xt(rn((A ? jt(v) : [].concat(d.exit, v, w.entry).filter(function (e) {\n                    return e;\n                  })).map(function (e) {\n                    return en(e, r._options.actions);\n                  }), l, c), 3),\n                  E = N[0],\n                  S = N[1],\n                  T = N[2],\n                  D = null != f ? f : a;\n                return {\n                  value: D,\n                  context: S,\n                  actions: E,\n                  changed: f !== a || E.length > 0 || T,\n                  matches: tn(D)\n                };\n              }\n            }\n          } catch (e) {\n            i = {\n              error: e\n            };\n          } finally {\n            try {\n              p && !p.done && (o = h.return) && o.call(h);\n            } finally {\n              if (i) throw i.error;\n            }\n          }\n        }\n        return on(a, l);\n      }\n    };\n  return r;\n}\nvar an = function (e, t) {\n  return e.actions.forEach(function (n) {\n    var i = n.exec;\n    return i && i(e.context, t);\n  });\n};\nfunction ln(e) {\n  var t = e.initialState,\n    n = Yt.NotStarted,\n    i = new Set(),\n    o = {\n      _machine: e,\n      send: function (o) {\n        n === Yt.Running && (t = e.transition(t, o), an(t, nn(o)), i.forEach(function (e) {\n          return e(t);\n        }));\n      },\n      subscribe: function (e) {\n        return i.add(e), e(t), {\n          unsubscribe: function () {\n            return i.delete(e);\n          }\n        };\n      },\n      start: function (i) {\n        if (i) {\n          var r = \"object\" == typeof i ? i : {\n            context: e.config.context,\n            value: i\n          };\n          t = {\n            value: r.value,\n            actions: [],\n            context: r.context,\n            matches: tn(r.value)\n          };\n        }\n        return n = Yt.Running, an(t, Ht), o;\n      },\n      stop: function () {\n        return n = Yt.Stopped, i.clear(), o;\n      },\n      get state() {\n        return t;\n      },\n      get status() {\n        return n;\n      }\n    };\n  return o;\n}\nfunction cn(e, {\n  getCastFn: t,\n  applyEventsSynchronously: n,\n  emitter: i\n}) {\n  const o = sn({\n    id: \"player\",\n    context: e,\n    initial: \"paused\",\n    states: {\n      playing: {\n        on: {\n          PAUSE: {\n            target: \"paused\",\n            actions: [\"pause\"]\n          },\n          CAST_EVENT: {\n            target: \"playing\",\n            actions: \"castEvent\"\n          },\n          END: {\n            target: \"paused\",\n            actions: [\"resetLastPlayedEvent\", \"pause\"]\n          },\n          ADD_EVENT: {\n            target: \"playing\",\n            actions: [\"addEvent\"]\n          }\n        }\n      },\n      paused: {\n        on: {\n          PLAY: {\n            target: \"playing\",\n            actions: [\"recordTimeOffset\", \"play\"]\n          },\n          CAST_EVENT: {\n            target: \"paused\",\n            actions: \"castEvent\"\n          },\n          TO_LIVE: {\n            target: \"live\",\n            actions: [\"startLive\"]\n          },\n          ADD_EVENT: {\n            target: \"paused\",\n            actions: [\"addEvent\"]\n          }\n        }\n      },\n      live: {\n        on: {\n          ADD_EVENT: {\n            target: \"live\",\n            actions: [\"addEvent\"]\n          },\n          CAST_EVENT: {\n            target: \"live\",\n            actions: [\"castEvent\"]\n          }\n        }\n      }\n    }\n  }, {\n    actions: {\n      castEvent: qt({\n        lastPlayedEvent: (e, t) => \"CAST_EVENT\" === t.type ? t.payload.event : e.lastPlayedEvent\n      }),\n      recordTimeOffset: qt((e, t) => {\n        let n = e.timeOffset;\n        return \"payload\" in t && \"timeOffset\" in t.payload && (n = t.payload.timeOffset), Object.assign(Object.assign({}, e), {\n          timeOffset: n,\n          baselineTime: e.events[0].timestamp + n\n        });\n      }),\n      play(e) {\n        var o;\n        const {\n          timer: r,\n          events: s,\n          baselineTime: a,\n          lastPlayedEvent: l\n        } = e;\n        r.clear();\n        for (const e of s) Jt(e, a);\n        const c = function (e, t) {\n          for (let n = e.length - 1; n >= 0; n--) {\n            const i = e[n];\n            if (i.type === be.Meta && i.timestamp <= t) return e.slice(n);\n          }\n          return e;\n        }(s, a);\n        let d = null == l ? void 0 : l.timestamp;\n        (null == l ? void 0 : l.type) === be.IncrementalSnapshot && l.data.source === we.MouseMove && (d = l.timestamp + (null === (o = l.data.positions[0]) || void 0 === o ? void 0 : o.timeOffset)), a < (d || 0) && i.emit(Se.PlayBack);\n        const u = new Array();\n        for (const e of c) if (!(d && d < a && (e.timestamp <= d || e === l))) if (e.timestamp < a) u.push(e);else {\n          const n = t(e, !1);\n          r.addAction({\n            doAction: () => {\n              n();\n            },\n            delay: e.delay\n          });\n        }\n        n(u), i.emit(Se.Flush), r.start();\n      },\n      pause(e) {\n        e.timer.clear();\n      },\n      resetLastPlayedEvent: qt(e => Object.assign(Object.assign({}, e), {\n        lastPlayedEvent: null\n      })),\n      startLive: qt({\n        baselineTime: (e, t) => (e.timer.toggleLiveMode(!0), e.timer.start(), \"TO_LIVE\" === t.type && t.payload.baselineTime ? t.payload.baselineTime : Date.now())\n      }),\n      addEvent: qt((e, n) => {\n        const {\n          baselineTime: i,\n          timer: o,\n          events: r\n        } = e;\n        if (\"ADD_EVENT\" === n.type) {\n          const {\n            event: e\n          } = n.payload;\n          Jt(e, i);\n          let s = r.length - 1;\n          if (!r[s] || r[s].timestamp <= e.timestamp) r.push(e);else {\n            let t = -1,\n              n = 0;\n            for (; n <= s;) {\n              const t = Math.floor((n + s) / 2);\n              r[t].timestamp <= e.timestamp ? n = t + 1 : s = t - 1;\n            }\n            -1 === t && (t = n), r.splice(t, 0, e);\n          }\n          const a = e.timestamp < i,\n            l = t(e, a);\n          a ? l() : o.isActive() && o.addAction({\n            doAction: () => {\n              l();\n            },\n            delay: e.delay\n          });\n        }\n        return Object.assign(Object.assign({}, e), {\n          events: r\n        });\n      })\n    }\n  });\n  return ln(o);\n}\nconst dn = new Map();\nfunction un(e, t) {\n  let n = dn.get(e);\n  return n || (n = new Map(), dn.set(e, n)), n.has(t) || n.set(t, []), n.get(t);\n}\nfunction hn(e, t, n) {\n  return i => Te(this, void 0, void 0, function* () {\n    if (i && \"object\" == typeof i && \"rr_type\" in i) {\n      if (n && (n.isUnchanged = !1), \"ImageBitmap\" === i.rr_type && \"args\" in i) {\n        const o = yield hn(e, t, n)(i.args);\n        return yield createImageBitmap.apply(null, o);\n      }\n      if (\"index\" in i) {\n        if (n || null === t) return i;\n        const {\n          rr_type: e,\n          index: o\n        } = i;\n        return un(t, e)[o];\n      }\n      if (\"args\" in i) {\n        const {\n          rr_type: o,\n          args: r\n        } = i;\n        return new (0, window[o])(...(yield Promise.all(r.map(hn(e, t, n)))));\n      }\n      if (\"base64\" in i) return function (e) {\n        var t,\n          n,\n          i,\n          o,\n          r,\n          s = .75 * e.length,\n          a = e.length,\n          l = 0;\n        \"=\" === e[e.length - 1] && (s--, \"=\" === e[e.length - 2] && s--);\n        var c = new ArrayBuffer(s),\n          d = new Uint8Array(c);\n        for (t = 0; t < a; t += 4) n = Me[e.charCodeAt(t)], i = Me[e.charCodeAt(t + 1)], o = Me[e.charCodeAt(t + 2)], r = Me[e.charCodeAt(t + 3)], d[l++] = n << 2 | i >> 4, d[l++] = (15 & i) << 4 | o >> 2, d[l++] = (3 & o) << 6 | 63 & r;\n        return c;\n      }(i.base64);\n      if (\"src\" in i) {\n        const t = e.get(i.src);\n        if (t) return t;\n        {\n          const t = new Image();\n          return t.src = i.src, e.set(i.src, t), t;\n        }\n      }\n      if (\"data\" in i && \"Blob\" === i.rr_type) {\n        const o = yield Promise.all(i.data.map(hn(e, t, n)));\n        return new Blob(o, {\n          type: i.type\n        });\n      }\n    } else if (Array.isArray(i)) {\n      return yield Promise.all(i.map(hn(e, t, n)));\n    }\n    return i;\n  });\n}\nconst pn = [\"WebGLActiveInfo\", \"WebGLBuffer\", \"WebGLFramebuffer\", \"WebGLProgram\", \"WebGLRenderbuffer\", \"WebGLShader\", \"WebGLShaderPrecisionFormat\", \"WebGLTexture\", \"WebGLUniformLocation\", \"WebGLVertexArrayObject\"];\nfunction gn({\n  mutation: e,\n  target: t,\n  type: n,\n  imageMap: i,\n  errorHandler: o\n}) {\n  return Te(this, void 0, void 0, function* () {\n    try {\n      const o = function (e, t) {\n        try {\n          return t === Ee.WebGL ? e.getContext(\"webgl\") || e.getContext(\"experimental-webgl\") : e.getContext(\"webgl2\");\n        } catch (e) {\n          return null;\n        }\n      }(t, n);\n      if (!o) return;\n      if (e.setter) return void (o[e.property] = e.args[0]);\n      const r = o[e.property],\n        s = yield Promise.all(e.args.map(hn(i, o)));\n      !function (e, t) {\n        if (!(null == t ? void 0 : t.constructor)) return;\n        const {\n          name: n\n        } = t.constructor;\n        if (!pn.includes(n)) return;\n        const i = un(e, n);\n        i.includes(t) || i.push(t);\n      }(o, r.apply(o, s));\n    } catch (t) {\n      o(e, t);\n    }\n  });\n}\nfunction mn({\n  event: e,\n  mutation: t,\n  target: n,\n  imageMap: i,\n  errorHandler: o\n}) {\n  return Te(this, void 0, void 0, function* () {\n    try {\n      const o = n.getContext(\"2d\");\n      if (t.setter) return void (o[t.property] = t.args[0]);\n      const r = o[t.property];\n      if (\"drawImage\" === t.property && \"string\" == typeof t.args[0]) i.get(e), r.apply(o, t.args);else {\n        const e = yield Promise.all(t.args.map(hn(i, o)));\n        r.apply(o, e);\n      }\n    } catch (e) {\n      o(t, e);\n    }\n  });\n}\nfunction fn({\n  event: e,\n  mutation: t,\n  target: n,\n  imageMap: i,\n  canvasEventMap: o,\n  errorHandler: r\n}) {\n  return Te(this, void 0, void 0, function* () {\n    try {\n      const s = o.get(e) || t,\n        a = \"commands\" in s ? s.commands : [s];\n      if ([Ee.WebGL, Ee.WebGL2].includes(t.type)) {\n        for (let e = 0; e < a.length; e++) {\n          const o = a[e];\n          yield gn({\n            mutation: o,\n            type: t.type,\n            target: n,\n            imageMap: i,\n            errorHandler: r\n          });\n        }\n        return;\n      }\n      for (let t = 0; t < a.length; t++) {\n        const o = a[t];\n        yield mn({\n          event: e,\n          mutation: o,\n          target: n,\n          imageMap: i,\n          errorHandler: r\n        });\n      }\n    } catch (e) {\n      r(t, e);\n    }\n  });\n}\nconst yn = Kt || Pt,\n  vn = {\n    duration: 500,\n    lineCap: \"round\",\n    lineWidth: 3,\n    strokeStyle: \"red\"\n  };\nfunction Cn(e) {\n  return e.type == be.IncrementalSnapshot && (e.data.source == we.TouchMove || e.data.source == we.MouseInteraction && e.data.type == Ne.TouchStart);\n}\nclass In {\n  constructor(e, t) {\n    if (this.usingVirtualDom = !1, this.virtualDom = new rt(), this.mouseTail = null, this.tailPositions = [], this.emitter = yn(), this.legacy_missingNodeRetryMap = {}, this.cache = le(), this.imageMap = new Map(), this.canvasEventMap = new Map(), this.mirror = q(), this.styleMirror = new Ae(), this.firstFullSnapshot = null, this.newDocumentQueue = [], this.mousePos = null, this.touchActive = null, this.lastSelectionData = null, this.constructedStyleMutations = [], this.adoptedStyleSheets = [], this.handleResize = e => {\n      this.iframe.style.display = \"inherit\";\n      for (const t of [this.mouseTail, this.iframe]) t && (t.setAttribute(\"width\", String(e.width)), t.setAttribute(\"height\", String(e.height)));\n    }, this.applyEventsSynchronously = e => {\n      for (const t of e) {\n        switch (t.type) {\n          case be.DomContentLoaded:\n          case be.Load:\n          case be.Custom:\n            continue;\n          case be.FullSnapshot:\n          case be.Meta:\n          case be.Plugin:\n          case be.IncrementalSnapshot:\n        }\n        this.getCastFn(t, !0)();\n      }\n      !0 === this.touchActive ? this.mouse.classList.add(\"touch-active\") : !1 === this.touchActive && this.mouse.classList.remove(\"touch-active\"), this.touchActive = null;\n    }, this.getCastFn = (e, t = !1) => {\n      let n;\n      switch (e.type) {\n        case be.DomContentLoaded:\n        case be.Load:\n          break;\n        case be.Custom:\n          n = () => {\n            this.emitter.emit(Se.CustomEvent, e);\n          };\n          break;\n        case be.Meta:\n          n = () => this.emitter.emit(Se.Resize, {\n            width: e.data.width,\n            height: e.data.height\n          });\n          break;\n        case be.FullSnapshot:\n          n = () => {\n            var n;\n            if (this.firstFullSnapshot) {\n              if (this.firstFullSnapshot === e) return void (this.firstFullSnapshot = !0);\n            } else this.firstFullSnapshot = !0;\n            this.rebuildFullSnapshot(e, t), null === (n = this.iframe.contentWindow) || void 0 === n || n.scrollTo(e.data.initialOffset), this.styleMirror.reset();\n          };\n          break;\n        case be.IncrementalSnapshot:\n          n = () => {\n            if (this.applyIncremental(e, t), !t && (e === this.nextUserInteractionEvent && (this.nextUserInteractionEvent = null, this.backToNormal()), this.config.skipInactive && !this.nextUserInteractionEvent)) {\n              for (const t of this.service.state.context.events) if (!(t.timestamp <= e.timestamp) && this.isUserInteraction(t)) {\n                t.delay - e.delay > 1e4 * this.speedService.state.context.timer.speed && (this.nextUserInteractionEvent = t);\n                break;\n              }\n              if (this.nextUserInteractionEvent) {\n                const t = this.nextUserInteractionEvent.delay - e.delay,\n                  n = {\n                    speed: Math.min(Math.round(t / 5e3), this.config.maxSpeed)\n                  };\n                this.speedService.send({\n                  type: \"FAST_FORWARD\",\n                  payload: n\n                }), this.emitter.emit(Se.SkipStart, n);\n              }\n            }\n          };\n      }\n      return () => {\n        n && n();\n        for (const n of this.config.plugins || []) n.handler && n.handler(e, t, {\n          replayer: this\n        });\n        this.service.send({\n          type: \"CAST_EVENT\",\n          payload: {\n            event: e\n          }\n        });\n        const i = this.service.state.context.events.length - 1;\n        if (e === this.service.state.context.events[i]) {\n          const t = () => {\n            i < this.service.state.context.events.length - 1 || (this.backToNormal(), this.service.send(\"END\"), this.emitter.emit(Se.Finish));\n          };\n          e.type === be.IncrementalSnapshot && e.data.source === we.MouseMove && e.data.positions.length ? setTimeout(() => {\n            t();\n          }, Math.max(0, 50 - e.data.positions[0].timeOffset)) : t();\n        }\n        this.emitter.emit(Se.EventCast, e);\n      };\n    }, !(null == t ? void 0 : t.liveMode) && e.length < 2) throw new Error(\"Replayer need at least 2 events.\");\n    const n = {\n      speed: 1,\n      maxSpeed: 360,\n      root: document.body,\n      loadTimeout: 0,\n      skipInactive: !1,\n      showWarning: !0,\n      showDebug: !1,\n      blockClass: \"rr-block\",\n      liveMode: !1,\n      insertStyleRules: [],\n      triggerFocus: !0,\n      UNSAFE_replayCanvas: !1,\n      pauseAnimation: !0,\n      mouseTail: vn,\n      useVirtualDom: !0\n    };\n    this.config = Object.assign({}, n, t), this.handleResize = this.handleResize.bind(this), this.getCastFn = this.getCastFn.bind(this), this.applyEventsSynchronously = this.applyEventsSynchronously.bind(this), this.emitter.on(Se.Resize, this.handleResize), this.setupDom();\n    for (const e of this.config.plugins || []) e.getMirror && e.getMirror({\n      nodeMirror: this.mirror\n    });\n    this.emitter.on(Se.Flush, () => {\n      if (this.usingVirtualDom) {\n        const e = {\n          mirror: this.mirror,\n          applyCanvas: (e, t, n) => {\n            fn({\n              event: e,\n              mutation: t,\n              target: n,\n              imageMap: this.imageMap,\n              canvasEventMap: this.canvasEventMap,\n              errorHandler: this.warnCanvasMutationFailed.bind(this)\n            });\n          },\n          applyInput: this.applyInput.bind(this),\n          applyScroll: this.applyScroll.bind(this),\n          applyStyleSheetMutation: (e, t) => {\n            e.source === we.StyleSheetRule ? this.applyStyleSheetRule(e, t) : e.source === we.StyleDeclaration && this.applyStyleDeclaration(e, t);\n          }\n        };\n        if (this.iframe.contentDocument && nt(this.iframe.contentDocument, this.virtualDom, e, this.virtualDom.mirror), this.virtualDom.destroyTree(), this.usingVirtualDom = !1, Object.keys(this.legacy_missingNodeRetryMap).length) for (const t in this.legacy_missingNodeRetryMap) try {\n          const n = this.legacy_missingNodeRetryMap[t],\n            i = ot(n.node, this.mirror, this.virtualDom.mirror);\n          nt(i, n.node, e, this.virtualDom.mirror), n.node = i;\n        } catch (e) {\n          this.config.showWarning && console.warn(e);\n        }\n        this.constructedStyleMutations.forEach(e => {\n          this.applyStyleSheetMutation(e);\n        }), this.constructedStyleMutations = [], this.adoptedStyleSheets.forEach(e => {\n          this.applyAdoptedStyleSheet(e);\n        }), this.adoptedStyleSheets = [];\n      }\n      this.mousePos && (this.moveAndHover(this.mousePos.x, this.mousePos.y, this.mousePos.id, !0, this.mousePos.debugData), this.mousePos = null), this.lastSelectionData && (this.applySelection(this.lastSelectionData), this.lastSelectionData = null);\n    }), this.emitter.on(Se.PlayBack, () => {\n      this.firstFullSnapshot = null, this.mirror.reset(), this.styleMirror.reset();\n    });\n    const i = new zt([], {\n      speed: this.config.speed,\n      liveMode: this.config.liveMode\n    });\n    this.service = cn({\n      events: e.map(e => t && t.unpackFn ? t.unpackFn(e) : e).sort((e, t) => e.timestamp - t.timestamp),\n      timer: i,\n      timeOffset: 0,\n      baselineTime: 0,\n      lastPlayedEvent: null\n    }, {\n      getCastFn: this.getCastFn,\n      applyEventsSynchronously: this.applyEventsSynchronously,\n      emitter: this.emitter\n    }), this.service.start(), this.service.subscribe(e => {\n      this.emitter.emit(Se.StateChange, {\n        player: e\n      });\n    }), this.speedService = ln(sn({\n      id: \"speed\",\n      context: {\n        normalSpeed: -1,\n        timer: i\n      },\n      initial: \"normal\",\n      states: {\n        normal: {\n          on: {\n            FAST_FORWARD: {\n              target: \"skipping\",\n              actions: [\"recordSpeed\", \"setSpeed\"]\n            },\n            SET_SPEED: {\n              target: \"normal\",\n              actions: [\"setSpeed\"]\n            }\n          }\n        },\n        skipping: {\n          on: {\n            BACK_TO_NORMAL: {\n              target: \"normal\",\n              actions: [\"restoreSpeed\"]\n            },\n            SET_SPEED: {\n              target: \"normal\",\n              actions: [\"setSpeed\"]\n            }\n          }\n        }\n      }\n    }, {\n      actions: {\n        setSpeed: (e, t) => {\n          \"payload\" in t && e.timer.setSpeed(t.payload.speed);\n        },\n        recordSpeed: qt({\n          normalSpeed: e => e.timer.speed\n        }),\n        restoreSpeed: e => {\n          e.timer.setSpeed(e.normalSpeed);\n        }\n      }\n    })), this.speedService.start(), this.speedService.subscribe(e => {\n      this.emitter.emit(Se.StateChange, {\n        speed: e\n      });\n    });\n    const o = this.service.state.context.events.find(e => e.type === be.Meta),\n      r = this.service.state.context.events.find(e => e.type === be.FullSnapshot);\n    if (o) {\n      const {\n        width: e,\n        height: t\n      } = o.data;\n      setTimeout(() => {\n        this.emitter.emit(Se.Resize, {\n          width: e,\n          height: t\n        });\n      }, 0);\n    }\n    r && setTimeout(() => {\n      var e;\n      this.firstFullSnapshot || (this.firstFullSnapshot = r, this.rebuildFullSnapshot(r), null === (e = this.iframe.contentWindow) || void 0 === e || e.scrollTo(r.data.initialOffset));\n    }, 1), this.service.state.context.events.find(Cn) && this.mouse.classList.add(\"touch-device\");\n  }\n  get timer() {\n    return this.service.state.context.timer;\n  }\n  on(e, t) {\n    return this.emitter.on(e, t), this;\n  }\n  off(e, t) {\n    return this.emitter.off(e, t), this;\n  }\n  setConfig(e) {\n    Object.keys(e).forEach(t => {\n      e[t], this.config[t] = e[t];\n    }), this.config.skipInactive || this.backToNormal(), void 0 !== e.speed && this.speedService.send({\n      type: \"SET_SPEED\",\n      payload: {\n        speed: e.speed\n      }\n    }), void 0 !== e.mouseTail && (!1 === e.mouseTail ? this.mouseTail && (this.mouseTail.style.display = \"none\") : (this.mouseTail || (this.mouseTail = document.createElement(\"canvas\"), this.mouseTail.width = Number.parseFloat(this.iframe.width), this.mouseTail.height = Number.parseFloat(this.iframe.height), this.mouseTail.classList.add(\"replayer-mouse-tail\"), this.wrapper.insertBefore(this.mouseTail, this.iframe)), this.mouseTail.style.display = \"inherit\"));\n  }\n  getMetaData() {\n    const e = this.service.state.context.events[0],\n      t = this.service.state.context.events[this.service.state.context.events.length - 1];\n    return {\n      startTime: e.timestamp,\n      endTime: t.timestamp,\n      totalTime: t.timestamp - e.timestamp\n    };\n  }\n  getCurrentTime() {\n    return this.timer.timeOffset + this.getTimeOffset();\n  }\n  getTimeOffset() {\n    const {\n      baselineTime: e,\n      events: t\n    } = this.service.state.context;\n    return e - t[0].timestamp;\n  }\n  getMirror() {\n    return this.mirror;\n  }\n  play(e = 0) {\n    var t, n;\n    this.service.state.matches(\"paused\") || this.service.send({\n      type: \"PAUSE\"\n    }), this.service.send({\n      type: \"PLAY\",\n      payload: {\n        timeOffset: e\n      }\n    }), null === (n = null === (t = this.iframe.contentDocument) || void 0 === t ? void 0 : t.getElementsByTagName(\"html\")[0]) || void 0 === n || n.classList.remove(\"rrweb-paused\"), this.emitter.emit(Se.Start);\n  }\n  pause(e) {\n    var t, n;\n    void 0 === e && this.service.state.matches(\"playing\") && this.service.send({\n      type: \"PAUSE\"\n    }), \"number\" == typeof e && (this.play(e), this.service.send({\n      type: \"PAUSE\"\n    })), null === (n = null === (t = this.iframe.contentDocument) || void 0 === t ? void 0 : t.getElementsByTagName(\"html\")[0]) || void 0 === n || n.classList.add(\"rrweb-paused\"), this.emitter.emit(Se.Pause);\n  }\n  resume(e = 0) {\n    console.warn(\"The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface.\"), this.play(e), this.emitter.emit(Se.Resume);\n  }\n  destroy() {\n    this.pause(), this.config.root.removeChild(this.wrapper), this.emitter.emit(Se.Destroy);\n  }\n  startLive(e) {\n    this.service.send({\n      type: \"TO_LIVE\",\n      payload: {\n        baselineTime: e\n      }\n    });\n  }\n  addEvent(e) {\n    const t = this.config.unpackFn ? this.config.unpackFn(e) : e;\n    Cn(t) && this.mouse.classList.add(\"touch-device\"), Promise.resolve().then(() => this.service.send({\n      type: \"ADD_EVENT\",\n      payload: {\n        event: t\n      }\n    }));\n  }\n  enableInteract() {\n    this.iframe.setAttribute(\"scrolling\", \"auto\"), this.iframe.style.pointerEvents = \"auto\";\n  }\n  disableInteract() {\n    this.iframe.setAttribute(\"scrolling\", \"no\"), this.iframe.style.pointerEvents = \"none\";\n  }\n  resetCache() {\n    this.cache = le();\n  }\n  setupDom() {\n    this.wrapper = document.createElement(\"div\"), this.wrapper.classList.add(\"replayer-wrapper\"), this.config.root.appendChild(this.wrapper), this.mouse = document.createElement(\"div\"), this.mouse.classList.add(\"replayer-mouse\"), this.wrapper.appendChild(this.mouse), !1 !== this.config.mouseTail && (this.mouseTail = document.createElement(\"canvas\"), this.mouseTail.classList.add(\"replayer-mouse-tail\"), this.mouseTail.style.display = \"inherit\", this.wrapper.appendChild(this.mouseTail)), this.iframe = document.createElement(\"iframe\");\n    const e = [\"allow-same-origin\"];\n    this.config.UNSAFE_replayCanvas && e.push(\"allow-scripts\"), this.iframe.style.display = \"none\", this.iframe.setAttribute(\"sandbox\", e.join(\" \")), this.disableInteract(), this.wrapper.appendChild(this.iframe), this.iframe.contentWindow && this.iframe.contentDocument && (Qt(this.iframe.contentWindow, this.iframe.contentDocument), function (e = window) {\n      \"NodeList\" in e && !e.NodeList.prototype.forEach && (e.NodeList.prototype.forEach = Array.prototype.forEach), \"DOMTokenList\" in e && !e.DOMTokenList.prototype.forEach && (e.DOMTokenList.prototype.forEach = Array.prototype.forEach), Node.prototype.contains || (Node.prototype.contains = (...e) => {\n        let t = e[0];\n        if (!(0 in e)) throw new TypeError(\"1 argument is required\");\n        do {\n          if (this === t) return !0;\n        } while (t = t && t.parentNode);\n        return !1;\n      });\n    }(this.iframe.contentWindow));\n  }\n  rebuildFullSnapshot(e, t = !1) {\n    if (!this.iframe.contentDocument) return console.warn(\"Looks like your replayer has been destroyed.\");\n    Object.keys(this.legacy_missingNodeRetryMap).length && console.warn(\"Found unresolved missing node map\", this.legacy_missingNodeRetryMap), this.legacy_missingNodeRetryMap = {};\n    const n = [],\n      i = (e, t) => {\n        this.collectIframeAndAttachDocument(n, e);\n        for (const n of this.config.plugins || []) n.onBuild && n.onBuild(e, {\n          id: t,\n          replayer: this\n        });\n      };\n    ue(e.data.node, {\n      doc: this.iframe.contentDocument,\n      afterAppend: i,\n      cache: this.cache,\n      mirror: this.mirror\n    }), i(this.iframe.contentDocument, e.data.node.id);\n    for (const {\n      mutationInQueue: e,\n      builtNode: t\n    } of n) this.attachDocumentToIframe(e, t), this.newDocumentQueue = this.newDocumentQueue.filter(t => t !== e);\n    const {\n      documentElement: o,\n      head: r\n    } = this.iframe.contentDocument;\n    this.insertStyleRules(o, r), this.service.state.matches(\"playing\") || this.iframe.contentDocument.getElementsByTagName(\"html\")[0].classList.add(\"rrweb-paused\"), this.emitter.emit(Se.FullsnapshotRebuilded, e), t || this.waitForStylesheetLoad(), this.config.UNSAFE_replayCanvas && this.preloadAllImages();\n  }\n  insertStyleRules(e, t) {\n    var n;\n    const i = (o = this.config.blockClass, [`.${o} { background: currentColor }`, \"noscript { display: none !important; }\"]).concat(this.config.insertStyleRules);\n    var o;\n    if (this.config.pauseAnimation && i.push(\"html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }\"), this.usingVirtualDom) {\n      const n = this.virtualDom.createElement(\"style\");\n      this.virtualDom.mirror.add(n, vt(n, this.virtualDom.unserializedId)), e.insertBefore(n, t), n.rules.push({\n        source: we.StyleSheetRule,\n        adds: i.map((e, t) => ({\n          rule: e,\n          index: t\n        }))\n      });\n    } else {\n      const o = document.createElement(\"style\");\n      e.insertBefore(o, t);\n      for (let e = 0; e < i.length; e++) null === (n = o.sheet) || void 0 === n || n.insertRule(i[e], e);\n    }\n  }\n  attachDocumentToIframe(e, t) {\n    const n = this.usingVirtualDom ? this.virtualDom.mirror : this.mirror,\n      i = [],\n      o = (e, o) => {\n        this.collectIframeAndAttachDocument(i, e);\n        const r = n.getMeta(e);\n        if ((null == r ? void 0 : r.type) === X.Element && \"HTML\" === (null == r ? void 0 : r.tagName.toUpperCase())) {\n          const {\n            documentElement: e,\n            head: n\n          } = t.contentDocument;\n          this.insertStyleRules(e, n);\n        }\n        for (const t of this.config.plugins || []) t.onBuild && t.onBuild(e, {\n          id: o,\n          replayer: this\n        });\n      };\n    de(e.node, {\n      doc: t.contentDocument,\n      mirror: n,\n      hackCss: !0,\n      skipChild: !1,\n      afterAppend: o,\n      cache: this.cache\n    }), o(t.contentDocument, e.node.id);\n    for (const {\n      mutationInQueue: e,\n      builtNode: t\n    } of i) this.attachDocumentToIframe(e, t), this.newDocumentQueue = this.newDocumentQueue.filter(t => t !== e);\n  }\n  collectIframeAndAttachDocument(e, t) {\n    if (fe(t, this.mirror)) {\n      const n = this.newDocumentQueue.find(e => e.parentId === this.mirror.getId(t));\n      n && e.push({\n        mutationInQueue: n,\n        builtNode: t\n      });\n    }\n  }\n  waitForStylesheetLoad() {\n    var e;\n    const t = null === (e = this.iframe.contentDocument) || void 0 === e ? void 0 : e.head;\n    if (t) {\n      const e = new Set();\n      let n,\n        i = this.service.state;\n      const o = () => {\n        i = this.service.state;\n      };\n      this.emitter.on(Se.Start, o), this.emitter.on(Se.Pause, o);\n      const r = () => {\n        this.emitter.off(Se.Start, o), this.emitter.off(Se.Pause, o);\n      };\n      t.querySelectorAll('link[rel=\"stylesheet\"]').forEach(t => {\n        t.sheet || (e.add(t), t.addEventListener(\"load\", () => {\n          e.delete(t), 0 === e.size && -1 !== n && (i.matches(\"playing\") && this.play(this.getCurrentTime()), this.emitter.emit(Se.LoadStylesheetEnd), n && clearTimeout(n), r());\n        }));\n      }), e.size > 0 && (this.service.send({\n        type: \"PAUSE\"\n      }), this.emitter.emit(Se.LoadStylesheetStart), n = setTimeout(() => {\n        i.matches(\"playing\") && this.play(this.getCurrentTime()), n = -1, r();\n      }, this.config.loadTimeout));\n    }\n  }\n  preloadAllImages() {\n    return Te(this, void 0, void 0, function* () {\n      this.service.state;\n      const e = () => {\n        this.service.state;\n      };\n      this.emitter.on(Se.Start, e), this.emitter.on(Se.Pause, e);\n      const t = [];\n      for (const e of this.service.state.context.events) if (e.type === be.IncrementalSnapshot && e.data.source === we.CanvasMutation) {\n        t.push(this.deserializeAndPreloadCanvasEvents(e.data, e));\n        (\"commands\" in e.data ? e.data.commands : [e.data]).forEach(t => {\n          this.preloadImages(t, e);\n        });\n      }\n      return Promise.all(t);\n    });\n  }\n  preloadImages(e, t) {\n    if (\"drawImage\" === e.property && \"string\" == typeof e.args[0] && !this.imageMap.has(t)) {\n      const t = document.createElement(\"canvas\"),\n        n = t.getContext(\"2d\"),\n        i = null == n ? void 0 : n.createImageData(t.width, t.height);\n      null == i || i.data, JSON.parse(e.args[0]), null == n || n.putImageData(i, 0, 0);\n    }\n  }\n  deserializeAndPreloadCanvasEvents(e, t) {\n    return Te(this, void 0, void 0, function* () {\n      if (!this.canvasEventMap.has(t)) {\n        const n = {\n          isUnchanged: !0\n        };\n        if (\"commands\" in e) {\n          const i = yield Promise.all(e.commands.map(e => Te(this, void 0, void 0, function* () {\n            const t = yield Promise.all(e.args.map(hn(this.imageMap, null, n)));\n            return Object.assign(Object.assign({}, e), {\n              args: t\n            });\n          })));\n          !1 === n.isUnchanged && this.canvasEventMap.set(t, Object.assign(Object.assign({}, e), {\n            commands: i\n          }));\n        } else {\n          const i = yield Promise.all(e.args.map(hn(this.imageMap, null, n)));\n          !1 === n.isUnchanged && this.canvasEventMap.set(t, Object.assign(Object.assign({}, e), {\n            args: i\n          }));\n        }\n      }\n    });\n  }\n  applyIncremental(e, t) {\n    var n, i, o;\n    const {\n      data: r\n    } = e;\n    switch (r.source) {\n      case we.Mutation:\n        try {\n          this.applyMutation(r, t);\n        } catch (e) {\n          this.warn(`Exception in mutation ${e.message || e}`, r);\n        }\n        break;\n      case we.Drag:\n      case we.TouchMove:\n      case we.MouseMove:\n        if (t) {\n          const e = r.positions[r.positions.length - 1];\n          this.mousePos = {\n            x: e.x,\n            y: e.y,\n            id: e.id,\n            debugData: r\n          };\n        } else r.positions.forEach(n => {\n          const i = {\n            doAction: () => {\n              this.moveAndHover(n.x, n.y, n.id, t, r);\n            },\n            delay: n.timeOffset + e.timestamp - this.service.state.context.baselineTime\n          };\n          this.timer.addAction(i);\n        }), this.timer.addAction({\n          doAction() {},\n          delay: e.delay - (null === (n = r.positions[0]) || void 0 === n ? void 0 : n.timeOffset)\n        });\n        break;\n      case we.MouseInteraction:\n        {\n          if (-1 === r.id || t) break;\n          const e = new Event(Ne[r.type].toLowerCase()),\n            n = this.mirror.getNode(r.id);\n          if (!n) return this.debugNodeNotFound(r, r.id);\n          this.emitter.emit(Se.MouseInteraction, {\n            type: r.type,\n            target: n\n          });\n          const {\n            triggerFocus: i\n          } = this.config;\n          switch (r.type) {\n            case Ne.Blur:\n              \"blur\" in n && n.blur();\n              break;\n            case Ne.Focus:\n              i && n.focus && n.focus({\n                preventScroll: !0\n              });\n              break;\n            case Ne.Click:\n            case Ne.TouchStart:\n            case Ne.TouchEnd:\n              t ? (r.type === Ne.TouchStart ? this.touchActive = !0 : r.type === Ne.TouchEnd && (this.touchActive = !1), this.mousePos = {\n                x: r.x,\n                y: r.y,\n                id: r.id,\n                debugData: r\n              }) : (r.type === Ne.TouchStart && (this.tailPositions.length = 0), this.moveAndHover(r.x, r.y, r.id, t, r), r.type === Ne.Click ? (this.mouse.classList.remove(\"active\"), this.mouse.offsetWidth, this.mouse.classList.add(\"active\")) : r.type === Ne.TouchStart ? (this.mouse.offsetWidth, this.mouse.classList.add(\"touch-active\")) : r.type === Ne.TouchEnd && this.mouse.classList.remove(\"touch-active\"));\n              break;\n            case Ne.TouchCancel:\n              t ? this.touchActive = !1 : this.mouse.classList.remove(\"touch-active\");\n              break;\n            default:\n              n.dispatchEvent(e);\n          }\n          break;\n        }\n      case we.Scroll:\n        if (-1 === r.id) break;\n        if (this.usingVirtualDom) {\n          const e = this.virtualDom.mirror.getNode(r.id);\n          if (!e) return this.debugNodeNotFound(r, r.id);\n          e.scrollData = r;\n          break;\n        }\n        this.applyScroll(r, t);\n        break;\n      case we.ViewportResize:\n        this.emitter.emit(Se.Resize, {\n          width: r.width,\n          height: r.height\n        });\n        break;\n      case we.Input:\n        if (-1 === r.id) break;\n        if (this.usingVirtualDom) {\n          const e = this.virtualDom.mirror.getNode(r.id);\n          if (!e) return this.debugNodeNotFound(r, r.id);\n          e.inputData = r;\n          break;\n        }\n        this.applyInput(r);\n        break;\n      case we.MediaInteraction:\n        {\n          const e = this.usingVirtualDom ? this.virtualDom.mirror.getNode(r.id) : this.mirror.getNode(r.id);\n          if (!e) return this.debugNodeNotFound(r, r.id);\n          const t = e;\n          try {\n            r.currentTime && (t.currentTime = r.currentTime), r.volume && (t.volume = r.volume), r.muted && (t.muted = r.muted), 1 === r.type && t.pause(), 0 === r.type && t.play(), 4 === r.type && (t.playbackRate = r.playbackRate);\n          } catch (e) {\n            this.config.showWarning && console.warn(`Failed to replay media interactions: ${e.message || e}`);\n          }\n          break;\n        }\n      case we.StyleSheetRule:\n      case we.StyleDeclaration:\n        this.usingVirtualDom ? r.styleId ? this.constructedStyleMutations.push(r) : r.id && (null === (i = this.virtualDom.mirror.getNode(r.id)) || void 0 === i || i.rules.push(r)) : this.applyStyleSheetMutation(r);\n        break;\n      case we.CanvasMutation:\n        if (!this.config.UNSAFE_replayCanvas) return;\n        if (this.usingVirtualDom) {\n          const t = this.virtualDom.mirror.getNode(r.id);\n          if (!t) return this.debugNodeNotFound(r, r.id);\n          t.canvasMutations.push({\n            event: e,\n            mutation: r\n          });\n        } else {\n          const t = this.mirror.getNode(r.id);\n          if (!t) return this.debugNodeNotFound(r, r.id);\n          fn({\n            event: e,\n            mutation: r,\n            target: t,\n            imageMap: this.imageMap,\n            canvasEventMap: this.canvasEventMap,\n            errorHandler: this.warnCanvasMutationFailed.bind(this)\n          });\n        }\n        break;\n      case we.Font:\n        try {\n          const e = new FontFace(r.family, r.buffer ? new Uint8Array(JSON.parse(r.fontSource)) : r.fontSource, r.descriptors);\n          null === (o = this.iframe.contentDocument) || void 0 === o || o.fonts.add(e);\n        } catch (e) {\n          this.config.showWarning && console.warn(e);\n        }\n        break;\n      case we.Selection:\n        if (t) {\n          this.lastSelectionData = r;\n          break;\n        }\n        this.applySelection(r);\n        break;\n      case we.AdoptedStyleSheet:\n        this.usingVirtualDom ? this.adoptedStyleSheets.push(r) : this.applyAdoptedStyleSheet(r);\n    }\n  }\n  applyMutation(e, t) {\n    if (this.config.useVirtualDom && !this.usingVirtualDom && t && (this.usingVirtualDom = !0, ft(this.iframe.contentDocument, this.mirror, this.virtualDom), Object.keys(this.legacy_missingNodeRetryMap).length)) for (const e in this.legacy_missingNodeRetryMap) try {\n      const t = this.legacy_missingNodeRetryMap[e],\n        n = mt(t.node, this.virtualDom, this.mirror);\n      n && (t.node = n);\n    } catch (e) {\n      this.config.showWarning && console.warn(e);\n    }\n    const n = this.usingVirtualDom ? this.virtualDom.mirror : this.mirror;\n    e.removes.forEach(t => {\n      var i;\n      const o = n.getNode(t.id);\n      if (!o) {\n        if (e.removes.find(e => e.id === t.parentId)) return;\n        return this.warnNodeNotFound(e, t.id);\n      }\n      let r = n.getNode(t.parentId);\n      if (!r) return this.warnNodeNotFound(e, t.parentId);\n      if (t.isShadow && ve(r) && (r = r.shadowRoot), n.removeNodeFromMap(o), r) try {\n        r.removeChild(o), this.usingVirtualDom && \"#text\" === o.nodeName && \"STYLE\" === r.nodeName && (null === (i = r.rules) || void 0 === i ? void 0 : i.length) > 0 && (r.rules = []);\n      } catch (t) {\n        if (!(t instanceof DOMException)) throw t;\n        this.warn(\"parent could not remove child in mutation\", r, o, e);\n      }\n    });\n    const i = Object.assign({}, this.legacy_missingNodeRetryMap),\n      o = [],\n      r = e => {\n        var t;\n        if (!this.iframe.contentDocument) return console.warn(\"Looks like your replayer has been destroyed.\");\n        let r = n.getNode(e.parentId);\n        if (!r) return e.node.type === X.Document ? this.newDocumentQueue.push(e) : o.push(e);\n        e.node.isShadow && (ve(r) || r.attachShadow({\n          mode: \"open\"\n        }), r = r.shadowRoot);\n        let s = null,\n          a = null;\n        if (e.previousId && (s = n.getNode(e.previousId)), e.nextId && (a = n.getNode(e.nextId)), (e => {\n          let t = null;\n          return e.nextId && (t = n.getNode(e.nextId)), null !== e.nextId && void 0 !== e.nextId && -1 !== e.nextId && !t;\n        })(e)) return o.push(e);\n        if (e.node.rootId && !n.getNode(e.node.rootId)) return;\n        const l = e.node.rootId ? n.getNode(e.node.rootId) : this.usingVirtualDom ? this.virtualDom : this.iframe.contentDocument;\n        if (fe(r, n)) return void this.attachDocumentToIframe(e, r);\n        const c = (e, t) => {\n            for (const n of this.config.plugins || []) n.onBuild && n.onBuild(e, {\n              id: t,\n              replayer: this\n            });\n          },\n          d = de(e.node, {\n            doc: l,\n            mirror: n,\n            skipChild: !0,\n            hackCss: !0,\n            cache: this.cache,\n            afterAppend: c\n          });\n        if (-1 === e.previousId || -1 === e.nextId) return void (i[e.node.id] = {\n          node: d,\n          mutation: e\n        });\n        const u = n.getMeta(r);\n        if (u && u.type === X.Element && \"textarea\" === u.tagName && e.node.type === X.Text) {\n          const e = Array.isArray(r.childNodes) ? r.childNodes : Array.from(r.childNodes);\n          for (const t of e) t.nodeType === r.TEXT_NODE && r.removeChild(t);\n        }\n        if (s && s.nextSibling && s.nextSibling.parentNode) r.insertBefore(d, s.nextSibling);else if (a && a.parentNode) r.contains(a) ? r.insertBefore(d, a) : r.insertBefore(d, null);else {\n          if (r === l) for (; l.firstChild;) l.removeChild(l.firstChild);\n          r.appendChild(d);\n        }\n        if (c(d, e.node.id), this.usingVirtualDom && \"#text\" === d.nodeName && \"STYLE\" === r.nodeName && (null === (t = r.rules) || void 0 === t ? void 0 : t.length) > 0 && (r.rules = []), fe(d, this.mirror)) {\n          const e = this.mirror.getId(d),\n            t = this.newDocumentQueue.find(t => t.parentId === e);\n          t && (this.attachDocumentToIframe(t, d), this.newDocumentQueue = this.newDocumentQueue.filter(e => e !== t));\n        }\n        (e.previousId || e.nextId) && this.legacy_resolveMissingNode(i, r, d, e);\n      };\n    e.adds.forEach(e => {\n      r(e);\n    });\n    const s = Date.now();\n    for (; o.length;) {\n      const e = ge(o);\n      if (o.length = 0, Date.now() - s > 500) {\n        this.warn(\"Timeout in the loop, please check the resolve tree data:\", e);\n        break;\n      }\n      for (const t of e) {\n        n.getNode(t.value.parentId) ? me(t, e => {\n          r(e);\n        }) : this.debug(\"Drop resolve tree since there is no parent for the root node.\", t);\n      }\n    }\n    Object.keys(i).length && Object.assign(this.legacy_missingNodeRetryMap, i), function (e) {\n      const t = new Set(),\n        n = [];\n      for (let i = e.length; i--;) {\n        const o = e[i];\n        t.has(o.id) || (n.push(o), t.add(o.id));\n      }\n      return n;\n    }(e.texts).forEach(t => {\n      var i;\n      const o = n.getNode(t.id);\n      if (!o) {\n        if (e.removes.find(e => e.id === t.id)) return;\n        return this.warnNodeNotFound(e, t.id);\n      }\n      if (o.textContent = t.value, this.usingVirtualDom) {\n        const e = o.parentNode;\n        (null === (i = null == e ? void 0 : e.rules) || void 0 === i ? void 0 : i.length) > 0 && (e.rules = []);\n      }\n    }), e.attributes.forEach(t => {\n      const i = n.getNode(t.id);\n      if (!i) {\n        if (e.removes.find(e => e.id === t.id)) return;\n        return this.warnNodeNotFound(e, t.id);\n      }\n      for (const e in t.attributes) if (\"string\" == typeof e) {\n        const o = t.attributes[e];\n        if (null === o) i.removeAttribute(e);else if (\"string\" == typeof o) try {\n          if (\"_cssText\" === e && (\"LINK\" === i.nodeName || \"STYLE\" === i.nodeName)) try {\n            const e = n.getMeta(i);\n            Object.assign(e.attributes, t.attributes);\n            const o = de(e, {\n                doc: i.ownerDocument,\n                mirror: n,\n                skipChild: !0,\n                hackCss: !0,\n                cache: this.cache\n              }),\n              r = i.nextSibling,\n              s = i.parentNode;\n            if (o && s) {\n              s.removeChild(i), s.insertBefore(o, r), n.replace(t.id, o);\n              break;\n            }\n          } catch (e) {}\n          i.setAttribute(e, o);\n        } catch (e) {\n          this.config.showWarning && console.warn(\"An error occurred may due to the checkout feature.\", e);\n        } else if (\"style\" === e) {\n          const e = o,\n            t = i;\n          for (const n in e) if (!1 === e[n]) t.style.removeProperty(n);else if (e[n] instanceof Array) {\n            const i = e[n];\n            t.style.setProperty(n, i[0], i[1]);\n          } else {\n            const i = e[n];\n            t.style.setProperty(n, i);\n          }\n        }\n      }\n    });\n  }\n  applyScroll(e, t) {\n    var n, i;\n    const o = this.mirror.getNode(e.id);\n    if (!o) return this.debugNodeNotFound(e, e.id);\n    const r = this.mirror.getMeta(o);\n    if (o === this.iframe.contentDocument) null === (n = this.iframe.contentWindow) || void 0 === n || n.scrollTo({\n      top: e.y,\n      left: e.x,\n      behavior: t ? \"auto\" : \"smooth\"\n    });else if ((null == r ? void 0 : r.type) === X.Document) null === (i = o.defaultView) || void 0 === i || i.scrollTo({\n      top: e.y,\n      left: e.x,\n      behavior: t ? \"auto\" : \"smooth\"\n    });else try {\n      o.scrollTo({\n        top: e.y,\n        left: e.x,\n        behavior: t ? \"auto\" : \"smooth\"\n      });\n    } catch (e) {}\n  }\n  applyInput(e) {\n    const t = this.mirror.getNode(e.id);\n    if (!t) return this.debugNodeNotFound(e, e.id);\n    try {\n      t.checked = e.isChecked, t.value = e.text;\n    } catch (e) {}\n  }\n  applySelection(e) {\n    try {\n      const t = new Set(),\n        n = e.ranges.map(({\n          start: e,\n          startOffset: n,\n          end: i,\n          endOffset: o\n        }) => {\n          const r = this.mirror.getNode(e),\n            s = this.mirror.getNode(i);\n          if (!r || !s) return;\n          const a = new Range();\n          a.setStart(r, n), a.setEnd(s, o);\n          const l = r.ownerDocument,\n            c = null == l ? void 0 : l.getSelection();\n          return c && t.add(c), {\n            range: a,\n            selection: c\n          };\n        });\n      t.forEach(e => e.removeAllRanges()), n.forEach(e => {\n        var t;\n        return e && (null === (t = e.selection) || void 0 === t ? void 0 : t.addRange(e.range));\n      });\n    } catch (e) {}\n  }\n  applyStyleSheetMutation(e) {\n    var t;\n    let n = null;\n    e.styleId ? n = this.styleMirror.getStyle(e.styleId) : e.id && (n = (null === (t = this.mirror.getNode(e.id)) || void 0 === t ? void 0 : t.sheet) || null), n && (e.source === we.StyleSheetRule ? this.applyStyleSheetRule(e, n) : e.source === we.StyleDeclaration && this.applyStyleDeclaration(e, n));\n  }\n  applyStyleSheetRule(e, t) {\n    var n, i, o, r;\n    if (null === (n = e.adds) || void 0 === n || n.forEach(({\n      rule: e,\n      index: n\n    }) => {\n      try {\n        if (Array.isArray(n)) {\n          const {\n            positions: i,\n            index: o\n          } = Ie(n);\n          Ce(t.cssRules, i).insertRule(e, o);\n        } else {\n          const i = void 0 === n ? void 0 : Math.min(n, t.cssRules.length);\n          null == t || t.insertRule(e, i);\n        }\n      } catch (e) {}\n    }), null === (i = e.removes) || void 0 === i || i.forEach(({\n      index: e\n    }) => {\n      try {\n        if (Array.isArray(e)) {\n          const {\n            positions: n,\n            index: i\n          } = Ie(e);\n          Ce(t.cssRules, n).deleteRule(i || 0);\n        } else null == t || t.deleteRule(e);\n      } catch (e) {}\n    }), e.replace) try {\n      null === (o = t.replace) || void 0 === o || o.call(t, e.replace);\n    } catch (e) {}\n    if (e.replaceSync) try {\n      null === (r = t.replaceSync) || void 0 === r || r.call(t, e.replaceSync);\n    } catch (e) {}\n  }\n  applyStyleDeclaration(e, t) {\n    if (e.set) {\n      Ce(t.rules, e.index).style.setProperty(e.set.property, e.set.value, e.set.priority);\n    }\n    if (e.remove) {\n      Ce(t.rules, e.index).style.removeProperty(e.remove.property);\n    }\n  }\n  applyAdoptedStyleSheet(e) {\n    var t;\n    const n = this.mirror.getNode(e.id);\n    if (!n) return;\n    null === (t = e.styles) || void 0 === t || t.forEach(e => {\n      var t;\n      let i = null,\n        o = null;\n      if (ve(n) ? o = (null === (t = n.ownerDocument) || void 0 === t ? void 0 : t.defaultView) || null : \"#document\" === n.nodeName && (o = n.defaultView), o) try {\n        i = new o.CSSStyleSheet(), this.styleMirror.add(i, e.styleId), this.applyStyleSheetRule({\n          source: we.StyleSheetRule,\n          adds: e.rules\n        }, i);\n      } catch (e) {}\n    });\n    let i = 0;\n    const o = (e, t) => {\n      const n = t.map(e => this.styleMirror.getStyle(e)).filter(e => null !== e);\n      ve(e) ? e.shadowRoot.adoptedStyleSheets = n : \"#document\" === e.nodeName && (e.adoptedStyleSheets = n), n.length !== t.length && i < 10 && (setTimeout(() => o(e, t), 0 + 100 * i), i++);\n    };\n    o(n, e.styleIds);\n  }\n  legacy_resolveMissingNode(e, t, n, i) {\n    const {\n        previousId: o,\n        nextId: r\n      } = i,\n      s = o && e[o],\n      a = r && e[r];\n    if (s) {\n      const {\n        node: i,\n        mutation: o\n      } = s;\n      t.insertBefore(i, n), delete e[o.node.id], delete this.legacy_missingNodeRetryMap[o.node.id], (o.previousId || o.nextId) && this.legacy_resolveMissingNode(e, t, i, o);\n    }\n    if (a) {\n      const {\n        node: i,\n        mutation: o\n      } = a;\n      t.insertBefore(i, n.nextSibling), delete e[o.node.id], delete this.legacy_missingNodeRetryMap[o.node.id], (o.previousId || o.nextId) && this.legacy_resolveMissingNode(e, t, i, o);\n    }\n  }\n  moveAndHover(e, t, n, i, o) {\n    const r = this.mirror.getNode(n);\n    if (!r) return this.debugNodeNotFound(o, n);\n    const s = ye(r, this.iframe),\n      a = e * s.absoluteScale + s.x,\n      l = t * s.absoluteScale + s.y;\n    this.mouse.style.left = `${a}px`, this.mouse.style.top = `${l}px`, i || this.drawMouseTail({\n      x: a,\n      y: l\n    }), this.hoverElements(r);\n  }\n  drawMouseTail(e) {\n    if (!this.mouseTail) return;\n    const {\n        lineCap: t,\n        lineWidth: n,\n        strokeStyle: i,\n        duration: o\n      } = !0 === this.config.mouseTail ? vn : Object.assign({}, vn, this.config.mouseTail),\n      r = () => {\n        if (!this.mouseTail) return;\n        const e = this.mouseTail.getContext(\"2d\");\n        e && this.tailPositions.length && (e.clearRect(0, 0, this.mouseTail.width, this.mouseTail.height), e.beginPath(), e.lineWidth = n, e.lineCap = t, e.strokeStyle = i, e.moveTo(this.tailPositions[0].x, this.tailPositions[0].y), this.tailPositions.forEach(t => e.lineTo(t.x, t.y)), e.stroke());\n      };\n    this.tailPositions.push(e), r(), setTimeout(() => {\n      this.tailPositions = this.tailPositions.filter(t => t !== e), r();\n    }, o / this.speedService.state.context.timer.speed);\n  }\n  hoverElements(e) {\n    var t;\n    null === (t = this.iframe.contentDocument) || void 0 === t || t.querySelectorAll(\".\\\\:hover\").forEach(e => {\n      e.classList.remove(\":hover\");\n    });\n    let n = e;\n    for (; n;) n.classList && n.classList.add(\":hover\"), n = n.parentElement;\n  }\n  isUserInteraction(e) {\n    return e.type === be.IncrementalSnapshot && e.data.source > we.Mutation && e.data.source <= we.Input;\n  }\n  backToNormal() {\n    this.nextUserInteractionEvent = null, this.speedService.state.matches(\"normal\") || (this.speedService.send({\n      type: \"BACK_TO_NORMAL\"\n    }), this.emitter.emit(Se.SkipEnd, {\n      speed: this.speedService.state.context.normalSpeed\n    }));\n  }\n  warnNodeNotFound(e, t) {\n    this.warn(`Node with id '${t}' not found. `, e);\n  }\n  warnCanvasMutationFailed(e, t) {\n    this.warn(\"Has error on canvas update\", t, \"canvas mutation:\", e);\n  }\n  debugNodeNotFound(e, t) {\n    this.debug(\"[replayer]\", `Node with id '${t}' not found. `, e);\n  }\n  warn(...e) {\n    this.config.showWarning && console.warn(\"[replayer]\", ...e);\n  }\n  debug(...e) {\n    this.config.showDebug && console.log(\"[replayer]\", ...e);\n  }\n}\nfunction An(e) {\n  let t = \"\";\n  return Object.keys(e).forEach(n => {\n    t += `${n}: ${e[n]};`;\n  }), t;\n}\nfunction bn(e, t = 2) {\n  let n = String(e);\n  const i = Math.pow(10, t - 1);\n  if (e < i) for (; String(i).length > n.length;) n = `0${e}`;\n  return n;\n}\nfunction wn(e) {\n  if (e <= 0) return \"00:00\";\n  const t = Math.floor(e / 36e5);\n  e %= 36e5;\n  const n = Math.floor(e / 6e4);\n  e %= 6e4;\n  const i = Math.floor(e / 1e3);\n  return t ? `${bn(t)}:${bn(n)}:${bn(i)}` : `${bn(n)}:${bn(i)}`;\n}\nfunction Nn() {\n  let e = !1;\n  return [\"fullscreen\", \"webkitIsFullScreen\", \"mozFullScreen\", \"msFullscreenElement\"].forEach(t => {\n    t in document && (e = e || Boolean(document[t]));\n  }), e;\n}\nfunction En(e) {\n  return {\n    \"[object Boolean]\": \"boolean\",\n    \"[object Number]\": \"number\",\n    \"[object String]\": \"string\",\n    \"[object Function]\": \"function\",\n    \"[object Array]\": \"array\",\n    \"[object Date]\": \"date\",\n    \"[object RegExp]\": \"regExp\",\n    \"[object Undefined]\": \"undefined\",\n    \"[object Null]\": \"null\",\n    \"[object Object]\": \"object\"\n  }[Object.prototype.toString.call(e)];\n}\nfunction Sn(e) {\n  return e.type === be.IncrementalSnapshot && e.data.source > we.Mutation && e.data.source <= we.Input;\n}\nfunction Tn(t) {\n  let n, i, o, r, s, a, u, p, C;\n  return {\n    c() {\n      n = h(\"div\"), i = h(\"input\"), o = m(), r = h(\"label\"), s = m(), a = h(\"span\"), u = g(t[3]), y(i, \"type\", \"checkbox\"), y(i, \"id\", t[2]), i.disabled = t[1], y(i, \"class\", \"svelte-9brlez\"), y(r, \"for\", t[2]), y(r, \"class\", \"svelte-9brlez\"), y(a, \"class\", \"label svelte-9brlez\"), y(n, \"class\", \"switch svelte-9brlez\"), I(n, \"disabled\", t[1]);\n    },\n    m(e, d) {\n      c(e, n, d), l(n, i), i.checked = t[0], l(n, o), l(n, r), l(n, s), l(n, a), l(a, u), p || (C = f(i, \"change\", t[4]), p = !0);\n    },\n    p(e, [t]) {\n      4 & t && y(i, \"id\", e[2]), 2 & t && (i.disabled = e[1]), 1 & t && (i.checked = e[0]), 4 & t && y(r, \"for\", e[2]), 8 & t && v(u, e[3]), 2 & t && I(n, \"disabled\", e[1]);\n    },\n    i: e,\n    o: e,\n    d(e) {\n      e && d(n), p = !1, C();\n    }\n  };\n}\nfunction Dn(e, t, n) {\n  let {\n      disabled: i\n    } = t,\n    {\n      checked: o\n    } = t,\n    {\n      id: r\n    } = t,\n    {\n      label: s\n    } = t;\n  return e.$$set = e => {\n    \"disabled\" in e && n(1, i = e.disabled), \"checked\" in e && n(0, o = e.checked), \"id\" in e && n(2, r = e.id), \"label\" in e && n(3, s = e.label);\n  }, [o, i, r, s, function () {\n    o = this.checked, n(0, o);\n  }];\n}\nclass Mn extends J {\n  constructor(e) {\n    super(), z(this, e, Dn, Tn, s, {\n      disabled: 1,\n      checked: 0,\n      id: 2,\n      label: 3\n    });\n  }\n}\nfunction Rn(e, t, n) {\n  const i = e.slice();\n  return i[39] = t[n], i;\n}\nfunction xn(e, t, n) {\n  const i = e.slice();\n  return i[42] = t[n], i;\n}\nfunction kn(e, t, n) {\n  const i = e.slice();\n  return i[45] = t[n], i;\n}\nfunction Fn(e) {\n  let t,\n    n,\n    i,\n    r,\n    s,\n    a,\n    p,\n    A,\n    b,\n    w,\n    N,\n    E,\n    S,\n    T,\n    M,\n    x,\n    k,\n    F,\n    O,\n    B,\n    L,\n    V,\n    _,\n    G,\n    W,\n    U,\n    Q = wn(e[6]) + \"\",\n    z = wn(e[8].totalTime) + \"\",\n    J = e[14],\n    X = [];\n  for (let t = 0; t < J.length; t += 1) X[t] = On(kn(e, J, t));\n  let H = e[9],\n    j = [];\n  for (let t = 0; t < H.length; t += 1) j[t] = Bn(xn(e, H, t));\n  function q(e, t) {\n    return \"playing\" === e[7] ? Vn : Ln;\n  }\n  let ee = q(e),\n    te = ee(e),\n    ne = e[3],\n    ie = [];\n  for (let t = 0; t < ne.length; t += 1) ie[t] = _n(Rn(e, ne, t));\n  function oe(t) {\n    e[30](t);\n  }\n  let re = {\n    id: \"skip\",\n    disabled: \"skipping\" === e[10],\n    label: \"skip inactive\"\n  };\n  return void 0 !== e[0] && (re.checked = e[0]), B = new Mn({\n    props: re\n  }), D.push(() => function (e, t, n) {\n    const i = e.$$.props[t];\n    void 0 !== i && (e.$$.bound[i] = n, n(e.$$.ctx[i]));\n  }(B, \"checked\", oe)), {\n    c() {\n      t = h(\"div\"), n = h(\"div\"), i = h(\"span\"), r = g(Q), s = m(), a = h(\"div\"), p = h(\"div\"), A = m();\n      for (let e = 0; e < X.length; e += 1) X[e].c();\n      b = m();\n      for (let e = 0; e < j.length; e += 1) j[e].c();\n      w = m(), N = h(\"div\"), E = m(), S = h(\"span\"), T = g(z), M = m(), x = h(\"div\"), k = h(\"button\"), te.c(), F = m();\n      for (let e = 0; e < ie.length; e += 1) ie[e].c();\n      O = m(), K(B.$$.fragment), V = m(), _ = h(\"button\"), _.innerHTML = '<svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\"><defs><style type=\"text/css\"></style></defs><path d=\"M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4\\n            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4\\n            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0\\n            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48\\n            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48\\n            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4\\n            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z\" p-id=\"1286\"></path></svg>', y(i, \"class\", \"rr-timeline__time svelte-19ke1iv\"), y(p, \"class\", \"rr-progress__step svelte-19ke1iv\"), C(p, \"width\", e[13]), y(N, \"class\", \"rr-progress__handler svelte-19ke1iv\"), C(N, \"left\", e[13]), y(a, \"class\", \"rr-progress svelte-19ke1iv\"), I(a, \"disabled\", \"skipping\" === e[10]), y(S, \"class\", \"rr-timeline__time svelte-19ke1iv\"), y(n, \"class\", \"rr-timeline svelte-19ke1iv\"), y(k, \"class\", \"svelte-19ke1iv\"), y(_, \"class\", \"svelte-19ke1iv\"), y(x, \"class\", \"rr-controller__btns svelte-19ke1iv\"), y(t, \"class\", \"rr-controller svelte-19ke1iv\");\n    },\n    m(o, d) {\n      c(o, t, d), l(t, n), l(n, i), l(i, r), l(n, s), l(n, a), l(a, p), e[27](p), l(a, A);\n      for (let e = 0; e < X.length; e += 1) X[e].m(a, null);\n      l(a, b);\n      for (let e = 0; e < j.length; e += 1) j[e].m(a, null);\n      l(a, w), l(a, N), e[28](a), l(n, E), l(n, S), l(S, T), l(t, M), l(t, x), l(x, k), te.m(k, null), l(x, F);\n      for (let e = 0; e < ie.length; e += 1) ie[e].m(x, null);\n      l(x, O), Y(B, x, null), l(x, V), l(x, _), G = !0, W || (U = [f(a, \"click\", e[16]), f(k, \"click\", e[4]), f(_, \"click\", e[31])], W = !0);\n    },\n    p(e, t) {\n      if ((!G || 64 & t[0]) && Q !== (Q = wn(e[6]) + \"\") && v(r, Q), (!G || 8192 & t[0]) && C(p, \"width\", e[13]), 16384 & t[0]) {\n        let n;\n        for (J = e[14], n = 0; n < J.length; n += 1) {\n          const i = kn(e, J, n);\n          X[n] ? X[n].p(i, t) : (X[n] = On(i), X[n].c(), X[n].m(a, b));\n        }\n        for (; n < X.length; n += 1) X[n].d(1);\n        X.length = J.length;\n      }\n      if (512 & t[0]) {\n        let n;\n        for (H = e[9], n = 0; n < H.length; n += 1) {\n          const i = xn(e, H, n);\n          j[n] ? j[n].p(i, t) : (j[n] = Bn(i), j[n].c(), j[n].m(a, w));\n        }\n        for (; n < j.length; n += 1) j[n].d(1);\n        j.length = H.length;\n      }\n      if ((!G || 8192 & t[0]) && C(N, \"left\", e[13]), 1024 & t[0] && I(a, \"disabled\", \"skipping\" === e[10]), (!G || 256 & t[0]) && z !== (z = wn(e[8].totalTime) + \"\") && v(T, z), ee !== (ee = q(e)) && (te.d(1), te = ee(e), te && (te.c(), te.m(k, null))), 1066 & t[0]) {\n        let n;\n        for (ne = e[3], n = 0; n < ne.length; n += 1) {\n          const i = Rn(e, ne, n);\n          ie[n] ? ie[n].p(i, t) : (ie[n] = _n(i), ie[n].c(), ie[n].m(x, O));\n        }\n        for (; n < ie.length; n += 1) ie[n].d(1);\n        ie.length = ne.length;\n      }\n      const n = {};\n      var i;\n      1024 & t[0] && (n.disabled = \"skipping\" === e[10]), !L && 1 & t[0] && (L = !0, n.checked = e[0], i = () => L = !1, R.push(i)), B.$set(n);\n    },\n    i(e) {\n      G || (Z(B.$$.fragment, e), G = !0);\n    },\n    o(e) {\n      $(B.$$.fragment, e), G = !1;\n    },\n    d(n) {\n      n && d(t), e[27](null), u(X, n), u(j, n), e[28](null), te.d(), u(ie, n), P(B), W = !1, o(U);\n    }\n  };\n}\nfunction On(e) {\n  let t, n;\n  return {\n    c() {\n      t = h(\"div\"), y(t, \"title\", n = e[45].name), C(t, \"width\", e[45].width), C(t, \"height\", \"4px\"), C(t, \"position\", \"absolute\"), C(t, \"background\", e[45].background), C(t, \"left\", e[45].position);\n    },\n    m(e, n) {\n      c(e, t, n);\n    },\n    p(e, i) {\n      16384 & i[0] && n !== (n = e[45].name) && y(t, \"title\", n), 16384 & i[0] && C(t, \"width\", e[45].width), 16384 & i[0] && C(t, \"background\", e[45].background), 16384 & i[0] && C(t, \"left\", e[45].position);\n    },\n    d(e) {\n      e && d(t);\n    }\n  };\n}\nfunction Bn(e) {\n  let t, n;\n  return {\n    c() {\n      t = h(\"div\"), y(t, \"title\", n = e[42].name), C(t, \"width\", \"10px\"), C(t, \"height\", \"5px\"), C(t, \"position\", \"absolute\"), C(t, \"top\", \"2px\"), C(t, \"transform\", \"translate(-50%, -50%)\"), C(t, \"background\", e[42].background), C(t, \"left\", e[42].position);\n    },\n    m(e, n) {\n      c(e, t, n);\n    },\n    p(e, i) {\n      512 & i[0] && n !== (n = e[42].name) && y(t, \"title\", n), 512 & i[0] && C(t, \"background\", e[42].background), 512 & i[0] && C(t, \"left\", e[42].position);\n    },\n    d(e) {\n      e && d(t);\n    }\n  };\n}\nfunction Ln(e) {\n  let t, n;\n  return {\n    c() {\n      t = p(\"svg\"), n = p(\"path\"), y(n, \"d\", \"M170.65984 896l0-768 640 384zM644.66944\\n              512l-388.66944-233.32864 0 466.65728z\"), y(t, \"class\", \"icon\"), y(t, \"viewBox\", \"0 0 1024 1024\"), y(t, \"version\", \"1.1\"), y(t, \"xmlns\", \"http://www.w3.org/2000/svg\"), y(t, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\"), y(t, \"width\", \"16\"), y(t, \"height\", \"16\");\n    },\n    m(e, i) {\n      c(e, t, i), l(t, n);\n    },\n    d(e) {\n      e && d(t);\n    }\n  };\n}\nfunction Vn(e) {\n  let t, n;\n  return {\n    c() {\n      t = p(\"svg\"), n = p(\"path\"), y(n, \"d\", \"M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0\\n              512q0 53.00224-37.49888 90.50112t-90.50112\\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\\n              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0\\n              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888\\n              90.50112t-90.50112\\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\\n              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424\\n              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928\\n              30.16704t30.16704 12.4928 30.16704-12.4928\\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984\\n              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0\\n              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928\\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z\"), y(t, \"class\", \"icon\"), y(t, \"viewBox\", \"0 0 1024 1024\"), y(t, \"version\", \"1.1\"), y(t, \"xmlns\", \"http://www.w3.org/2000/svg\"), y(t, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\"), y(t, \"width\", \"16\"), y(t, \"height\", \"16\");\n    },\n    m(e, i) {\n      c(e, t, i), l(t, n);\n    },\n    d(e) {\n      e && d(t);\n    }\n  };\n}\nfunction _n(e) {\n  let t,\n    n,\n    i,\n    o,\n    r,\n    s,\n    a = e[39] + \"\";\n  function u() {\n    return e[29](e[39]);\n  }\n  return {\n    c() {\n      t = h(\"button\"), n = g(a), i = g(\"x\"), t.disabled = o = \"skipping\" === e[10], y(t, \"class\", \"svelte-19ke1iv\"), I(t, \"active\", e[39] === e[1] && \"skipping\" !== e[10]);\n    },\n    m(e, o) {\n      c(e, t, o), l(t, n), l(t, i), r || (s = f(t, \"click\", u), r = !0);\n    },\n    p(i, r) {\n      e = i, 8 & r[0] && a !== (a = e[39] + \"\") && v(n, a), 1024 & r[0] && o !== (o = \"skipping\" === e[10]) && (t.disabled = o), 1034 & r[0] && I(t, \"active\", e[39] === e[1] && \"skipping\" !== e[10]);\n    },\n    d(e) {\n      e && d(t), r = !1, s();\n    }\n  };\n}\nfunction Gn(e) {\n  let t,\n    n,\n    i = e[2] && Fn(e);\n  return {\n    c() {\n      i && i.c(), t = g(\"\");\n    },\n    m(e, o) {\n      i && i.m(e, o), c(e, t, o), n = !0;\n    },\n    p(e, n) {\n      e[2] ? i ? (i.p(e, n), 4 & n[0] && Z(i, 1)) : (i = Fn(e), i.c(), Z(i, 1), i.m(t.parentNode, t)) : i && (W(), $(i, 1, 1, () => {\n        i = null;\n      }), U());\n    },\n    i(e) {\n      n || (Z(i), n = !0);\n    },\n    o(e) {\n      $(i), n = !1;\n    },\n    d(e) {\n      i && i.d(e), e && d(t);\n    }\n  };\n}\nfunction Wn(e, t, n) {\n  return (100 - (t - n) / (t - e) * 100).toFixed(2);\n}\nfunction Un(e, t, n) {\n  const i = S();\n  let o,\n    r,\n    s,\n    a,\n    l,\n    c,\n    d,\n    u,\n    h,\n    p,\n    {\n      replayer: g\n    } = t,\n    {\n      showController: m\n    } = t,\n    {\n      autoPlay: f\n    } = t,\n    {\n      skipInactive: y\n    } = t,\n    {\n      speedOption: v\n    } = t,\n    {\n      speed: C = v.length ? v[0] : 1\n    } = t,\n    {\n      tags: I = {}\n    } = t,\n    {\n      inactiveColor: A\n    } = t,\n    b = 0,\n    T = null,\n    M = !1,\n    R = null;\n  const x = () => {\n      T && (cancelAnimationFrame(T), T = null);\n    },\n    k = () => {\n      \"paused\" === o && (l ? (g.play(), l = !1) : g.play(b));\n    },\n    F = () => {\n      \"playing\" === o && (g.pause(), M = !1);\n    },\n    O = (e, t) => {\n      n(6, b = e), M = !1;\n      (\"boolean\" == typeof t ? t : \"playing\" === o) ? g.play(e) : g.pause(e);\n    },\n    B = (e, t, i = !1, o) => {\n      R = i ? {\n        start: e,\n        end: t\n      } : null, n(6, b = e), M = t, c = o, g.play(e);\n    },\n    L = e => {\n      let t = \"playing\" === o;\n      n(1, C = e), t && g.pause(), g.setConfig({\n        speed: C\n      }), t && g.play(b);\n    };\n  var V;\n  N(() => {\n    n(7, o = g.service.state.value), n(10, r = g.speedService.state.value), g.on(\"state-change\", e => {\n      const {\n        player: t,\n        speed: i\n      } = e;\n      if ((null == t ? void 0 : t.value) && o !== t.value) switch (n(7, o = t.value), o) {\n        case \"playing\":\n          x(), T = requestAnimationFrame(function e() {\n            n(6, b = g.getCurrentTime()), M && b >= M && (R ? B(R.start, R.end, !0, void 0) : (g.pause(), c && (c(), c = null))), b < d.totalTime && (T = requestAnimationFrame(e));\n          });\n          break;\n        case \"paused\":\n          x();\n      }\n      (null == i ? void 0 : i.value) && r !== i.value && n(10, r = i.value);\n    }), g.on(\"finish\", () => {\n      l = !0, c && (c(), c = null);\n    }), f && g.play();\n  }), V = () => {\n    y !== g.config.skipInactive && g.setConfig({\n      skipInactive: y\n    });\n  }, w().$$.after_update.push(V), E(() => {\n    g.pause(), x();\n  });\n  return e.$$set = e => {\n    \"replayer\" in e && n(17, g = e.replayer), \"showController\" in e && n(2, m = e.showController), \"autoPlay\" in e && n(18, f = e.autoPlay), \"skipInactive\" in e && n(0, y = e.skipInactive), \"speedOption\" in e && n(3, v = e.speedOption), \"speed\" in e && n(1, C = e.speed), \"tags\" in e && n(19, I = e.tags), \"inactiveColor\" in e && n(20, A = e.inactiveColor);\n  }, e.$$.update = () => {\n    if (64 & e.$$.dirty[0] && i(\"ui-update-current-time\", {\n      payload: b\n    }), 128 & e.$$.dirty[0] && i(\"ui-update-player-state\", {\n      payload: o\n    }), 131072 & e.$$.dirty[0] && n(8, d = g.getMetaData()), 320 & e.$$.dirty[0]) {\n      const e = Math.min(1, b / d.totalTime);\n      n(13, u = 100 * e + \"%\"), i(\"ui-update-progress\", {\n        payload: e\n      });\n    }\n    655360 & e.$$.dirty[0] && n(9, h = (() => {\n      const {\n          context: e\n        } = g.service.state,\n        t = e.events.length,\n        n = e.events[0].timestamp,\n        i = e.events[t - 1].timestamp,\n        o = [];\n      return e.events.forEach(e => {\n        if (e.type === be.Custom) {\n          const t = {\n            name: e.data.tag,\n            background: I[e.data.tag] || \"rgb(73, 80, 246)\",\n            position: `${Wn(n, i, e.timestamp)}%`\n          };\n          o.push(t);\n        }\n      }), o;\n    })()), 1179648 & e.$$.dirty[0] && n(14, p = (() => {\n      try {\n        const {\n            context: e\n          } = g.service.state,\n          t = e.events.length,\n          n = e.events[0].timestamp,\n          i = e.events[t - 1].timestamp,\n          o = function (e) {\n            const t = [];\n            let n = e[0].timestamp;\n            for (const i of e) Sn(i) && (i.timestamp - n > 1e4 && t.push([n, i.timestamp]), n = i.timestamp);\n            return t;\n          }(e.events),\n          r = (e, t, n, i) => ((i - n) / (t - e) * 100).toFixed(2);\n        return o.map(e => ({\n          name: \"inactive period\",\n          background: A,\n          position: `${Wn(n, i, e[0])}%`,\n          width: `${r(n, i, e[0], e[1])}%`\n        }));\n      } catch (e) {\n        return [];\n      }\n    })());\n  }, [y, C, m, v, () => {\n    switch (o) {\n      case \"playing\":\n        F();\n        break;\n      case \"paused\":\n        k();\n    }\n  }, L, b, o, d, h, r, s, a, u, p, i, e => {\n    if (\"skipping\" === r) return;\n    const t = s.getBoundingClientRect();\n    let n = (e.clientX - t.left) / t.width;\n    n < 0 ? n = 0 : n > 1 && (n = 1);\n    const i = d.totalTime * n;\n    l = !1, O(i);\n  }, g, f, I, A, k, F, O, B, () => {\n    n(0, y = !y);\n  }, () => Promise.resolve().then(() => {\n    n(8, d = g.getMetaData());\n  }), function (e) {\n    D[e ? \"unshift\" : \"push\"](() => {\n      a = e, n(12, a);\n    });\n  }, function (e) {\n    D[e ? \"unshift\" : \"push\"](() => {\n      s = e, n(11, s);\n    });\n  }, e => L(e), function (e) {\n    y = e, n(0, y);\n  }, () => i(\"fullscreen\")];\n}\nclass Zn extends J {\n  constructor(e) {\n    super(), z(this, e, Un, Gn, s, {\n      replayer: 17,\n      showController: 2,\n      autoPlay: 18,\n      skipInactive: 0,\n      speedOption: 3,\n      speed: 1,\n      tags: 19,\n      inactiveColor: 20,\n      toggle: 4,\n      play: 21,\n      pause: 22,\n      goto: 23,\n      playRange: 24,\n      setSpeed: 5,\n      toggleSkipInactive: 25,\n      triggerUpdateMeta: 26\n    }, null, [-1, -1]);\n  }\n  get toggle() {\n    return this.$$.ctx[4];\n  }\n  get play() {\n    return this.$$.ctx[21];\n  }\n  get pause() {\n    return this.$$.ctx[22];\n  }\n  get goto() {\n    return this.$$.ctx[23];\n  }\n  get playRange() {\n    return this.$$.ctx[24];\n  }\n  get setSpeed() {\n    return this.$$.ctx[5];\n  }\n  get toggleSkipInactive() {\n    return this.$$.ctx[25];\n  }\n  get triggerUpdateMeta() {\n    return this.$$.ctx[26];\n  }\n}\nfunction $n(e) {\n  let t,\n    n,\n    i = {\n      replayer: e[7],\n      showController: e[3],\n      autoPlay: e[1],\n      speedOption: e[2],\n      skipInactive: e[0],\n      tags: e[4],\n      inactiveColor: e[5]\n    };\n  return t = new Zn({\n    props: i\n  }), e[32](t), t.$on(\"fullscreen\", e[33]), {\n    c() {\n      K(t.$$.fragment);\n    },\n    m(e, i) {\n      Y(t, e, i), n = !0;\n    },\n    p(e, n) {\n      const i = {};\n      128 & n[0] && (i.replayer = e[7]), 8 & n[0] && (i.showController = e[3]), 2 & n[0] && (i.autoPlay = e[1]), 4 & n[0] && (i.speedOption = e[2]), 1 & n[0] && (i.skipInactive = e[0]), 16 & n[0] && (i.tags = e[4]), 32 & n[0] && (i.inactiveColor = e[5]), t.$set(i);\n    },\n    i(e) {\n      n || (Z(t.$$.fragment, e), n = !0);\n    },\n    o(e) {\n      $(t.$$.fragment, e), n = !1;\n    },\n    d(n) {\n      e[32](null), P(t, n);\n    }\n  };\n}\nfunction Kn(e) {\n  let t,\n    n,\n    i,\n    o,\n    r = e[7] && $n(e);\n  return {\n    c() {\n      t = h(\"div\"), n = h(\"div\"), i = m(), r && r.c(), y(n, \"class\", \"rr-player__frame\"), y(n, \"style\", e[11]), y(t, \"class\", \"rr-player\"), y(t, \"style\", e[12]);\n    },\n    m(s, a) {\n      c(s, t, a), l(t, n), e[31](n), l(t, i), r && r.m(t, null), e[34](t), o = !0;\n    },\n    p(e, i) {\n      (!o || 2048 & i[0]) && y(n, \"style\", e[11]), e[7] ? r ? (r.p(e, i), 128 & i[0] && Z(r, 1)) : (r = $n(e), r.c(), Z(r, 1), r.m(t, null)) : r && (W(), $(r, 1, 1, () => {\n        r = null;\n      }), U()), (!o || 4096 & i[0]) && y(t, \"style\", e[12]);\n    },\n    i(e) {\n      o || (Z(r), o = !0);\n    },\n    o(e) {\n      $(r), o = !1;\n    },\n    d(n) {\n      n && d(t), e[31](null), r && r.d(), e[34](null);\n    }\n  };\n}\nfunction Yn(e, n, i) {\n  let o,\n    {\n      width: r = 1024\n    } = n,\n    {\n      height: s = 576\n    } = n,\n    {\n      maxScale: l = 1\n    } = n,\n    {\n      events: c = []\n    } = n,\n    {\n      skipInactive: d = !0\n    } = n,\n    {\n      autoPlay: u = !0\n    } = n,\n    {\n      speedOption: h = [1, 2, 4, 8]\n    } = n,\n    {\n      speed: p = 1\n    } = n,\n    {\n      showController: g = !0\n    } = n,\n    {\n      tags: m = {}\n    } = n,\n    {\n      inactiveColor: f = \"#D4D4D4\"\n    } = n;\n  let y,\n    v,\n    C,\n    I,\n    A,\n    b,\n    w = r,\n    S = s;\n  const T = (e, t) => {\n      const n = [r / t.width, s / t.height];\n      l && n.push(l), e.style.transform = `scale(${Math.min(...n)})translate(-50%, -50%)`;\n    },\n    M = () => {\n      var e;\n      y && (Nn() ? document.exitFullscreen ? document.exitFullscreen() : document.mozExitFullscreen ? document.mozExitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.msExitFullscreen && document.msExitFullscreen() : (e = y).requestFullscreen ? e.requestFullscreen() : e.mozRequestFullScreen ? e.mozRequestFullScreen() : e.webkitRequestFullscreen ? e.webkitRequestFullscreen() : e.msRequestFullscreen && e.msRequestFullscreen());\n    };\n  N(() => {\n    if (void 0 !== h && \"array\" !== En(h)) throw new Error(\"speedOption must be array\");\n    if (h.forEach(e => {\n      if (\"number\" !== En(e)) throw new Error(\"item of speedOption must be number\");\n    }), h.indexOf(p) < 0) throw new Error(`speed must be one of speedOption,\\n        current config:\\n        {\\n          ...\\n          speed: ${p},\\n          speedOption: [${h.toString()}]\\n          ...\\n        }\\n        `);\n    var e;\n    i(7, o = new In(c, Object.assign({\n      speed: p,\n      root: v,\n      unpackFn: $t\n    }, n))), o.on(\"resize\", e => {\n      T(o.wrapper, e);\n    }), e = () => {\n      Nn() ? setTimeout(() => {\n        w = r, S = s, i(13, r = y.offsetWidth), i(14, s = y.offsetHeight - (g ? 80 : 0)), T(o.wrapper, {\n          width: o.iframe.offsetWidth,\n          height: o.iframe.offsetHeight\n        });\n      }, 0) : (i(13, r = w), i(14, s = S), T(o.wrapper, {\n        width: o.iframe.offsetWidth,\n        height: o.iframe.offsetHeight\n      }));\n    }, document.addEventListener(\"fullscreenchange\", e), document.addEventListener(\"webkitfullscreenchange\", e), document.addEventListener(\"mozfullscreenchange\", e), document.addEventListener(\"MSFullscreenChange\", e), C = () => {\n      document.removeEventListener(\"fullscreenchange\", e), document.removeEventListener(\"webkitfullscreenchange\", e), document.removeEventListener(\"mozfullscreenchange\", e), document.removeEventListener(\"MSFullscreenChange\", e);\n    };\n  }), E(() => {\n    C && C();\n  });\n  return e.$$set = e => {\n    i(39, n = t(t({}, n), a(e))), \"width\" in e && i(13, r = e.width), \"height\" in e && i(14, s = e.height), \"maxScale\" in e && i(15, l = e.maxScale), \"events\" in e && i(16, c = e.events), \"skipInactive\" in e && i(0, d = e.skipInactive), \"autoPlay\" in e && i(1, u = e.autoPlay), \"speedOption\" in e && i(2, h = e.speedOption), \"speed\" in e && i(17, p = e.speed), \"showController\" in e && i(3, g = e.showController), \"tags\" in e && i(4, m = e.tags), \"inactiveColor\" in e && i(5, f = e.inactiveColor);\n  }, e.$$.update = () => {\n    24576 & e.$$.dirty[0] && i(11, A = An({\n      width: `${r}px`,\n      height: `${s}px`\n    })), 24584 & e.$$.dirty[0] && i(12, b = An({\n      width: `${r}px`,\n      height: `${s + (g ? 80 : 0)}px`\n    }));\n  }, n = a(n), [d, u, h, g, m, f, M, o, y, v, I, A, b, r, s, l, c, p, () => o.getMirror(), () => {\n    T(o.wrapper, {\n      width: o.iframe.offsetWidth,\n      height: o.iframe.offsetHeight\n    });\n  }, (e, t) => {\n    switch (o.on(e, t), e) {\n      case \"ui-update-current-time\":\n      case \"ui-update-progress\":\n      case \"ui-update-player-state\":\n        I.$on(e, ({\n          detail: e\n        }) => t(e));\n    }\n  }, e => {\n    o.addEvent(e), I.triggerUpdateMeta();\n  }, () => o.getMetaData(), () => o, () => {\n    I.toggle();\n  }, e => {\n    I.setSpeed(e);\n  }, () => {\n    I.toggleSkipInactive();\n  }, () => {\n    I.play();\n  }, () => {\n    I.pause();\n  }, (e, t) => {\n    I.goto(e, t);\n  }, (e, t, n = !1, i) => {\n    I.playRange(e, t, n, i);\n  }, function (e) {\n    D[e ? \"unshift\" : \"push\"](() => {\n      v = e, i(9, v);\n    });\n  }, function (e) {\n    D[e ? \"unshift\" : \"push\"](() => {\n      I = e, i(10, I);\n    });\n  }, () => M(), function (e) {\n    D[e ? \"unshift\" : \"push\"](() => {\n      y = e, i(8, y);\n    });\n  }];\n}\nclass Pn extends J {\n  constructor(e) {\n    super(), z(this, e, Yn, Kn, s, {\n      width: 13,\n      height: 14,\n      maxScale: 15,\n      events: 16,\n      skipInactive: 0,\n      autoPlay: 1,\n      speedOption: 2,\n      speed: 17,\n      showController: 3,\n      tags: 4,\n      inactiveColor: 5,\n      getMirror: 18,\n      triggerResize: 19,\n      toggleFullscreen: 6,\n      addEventListener: 20,\n      addEvent: 21,\n      getMetaData: 22,\n      getReplayer: 23,\n      toggle: 24,\n      setSpeed: 25,\n      toggleSkipInactive: 26,\n      play: 27,\n      pause: 28,\n      goto: 29,\n      playRange: 30\n    }, null, [-1, -1]);\n  }\n  get getMirror() {\n    return this.$$.ctx[18];\n  }\n  get triggerResize() {\n    return this.$$.ctx[19];\n  }\n  get toggleFullscreen() {\n    return this.$$.ctx[6];\n  }\n  get addEventListener() {\n    return this.$$.ctx[20];\n  }\n  get addEvent() {\n    return this.$$.ctx[21];\n  }\n  get getMetaData() {\n    return this.$$.ctx[22];\n  }\n  get getReplayer() {\n    return this.$$.ctx[23];\n  }\n  get toggle() {\n    return this.$$.ctx[24];\n  }\n  get setSpeed() {\n    return this.$$.ctx[25];\n  }\n  get toggleSkipInactive() {\n    return this.$$.ctx[26];\n  }\n  get play() {\n    return this.$$.ctx[27];\n  }\n  get pause() {\n    return this.$$.ctx[28];\n  }\n  get goto() {\n    return this.$$.ctx[29];\n  }\n  get playRange() {\n    return this.$$.ctx[30];\n  }\n}\nclass Qn extends Pn {\n  constructor(e) {\n    super({\n      target: e.target,\n      props: e.data || e.props\n    });\n  }\n}\nexport { Qn as default };","map":{"version":3,"names":["e","t","n","i","Object","create","o","forEach","r","s","a","l","appendChild","c","insertBefore","d","parentNode","removeChild","u","length","h","document","createElement","p","createElementNS","g","createTextNode","m","f","addEventListener","removeEventListener","y","removeAttribute","getAttribute","setAttribute","v","wholeText","data","C","style","removeProperty","setProperty","I","classList","A","b","w","Error","N","$$","on_mount","push","E","on_destroy","S","cancelable","callbacks","bubbles","createEvent","initCustomEvent","slice","call","defaultPrevented","T","D","M","R","x","Promise","resolve","k","F","O","Set","B","L","V","pop","has","add","clear","fragment","update","before_update","dirty","ctx","after_update","_","G","W","U","Z","delete","$","K","Y","map","filter","P","Q","then","fill","z","props","not_equal","bound","on_disconnect","context","Map","skip_bound","root","target","hydrate","Array","from","childNodes","intro","anchor","customElement","J","$destroy","$on","indexOf","splice","$set","$$set","keys","X","H","nodeType","ELEMENT_NODE","Document","DocumentType","Element","Text","CDATA","Comment","j","idNodeMap","nodeMetaMap","WeakMap","prototype","getId","getMeta","id","getNode","get","getIds","removeNodeFromMap","hasNode","set","replace","reset","q","ee","te","match","lastIndexOf","line","column","position","Position","start","end","source","content","concat","reason","filename","silent","charAt","exec","type","comment","ne","split","property","value","values","declarations","RegExp","trim","name","vendor","keyframes","media","rules","supports","selectors","ie","stylesheet","parsingErrors","isArray","defineProperty","configurable","writable","enumerable","oe","script","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","clippath","feblend","fecolormatrix","fecomponenttransfer","fecomposite","feconvolvematrix","fediffuselighting","fedisplacementmap","fedistantlight","fedropshadow","feflood","fefunca","fefuncb","fefuncg","fefuncr","fegaussianblur","feimage","femerge","femergenode","femorphology","feoffset","fepointlight","fespecularlighting","fespotlight","fetile","feturbulence","foreignobject","glyphref","lineargradient","radialgradient","re","se","ae","stylesWithHoverClass","test","sort","join","le","ce","doc","hackCss","cache","implementation","createDocument","createDocumentType","publicId","systemId","tagName","attributes","_cssText","isSVG","hasOwnProperty","startsWith","setAttributeNS","toString","substring","rel","as","href","endsWith","srcset","rr_dataURL","TEXT_NODE","_loop_1","onload","getContext","drawImage","width","height","src","RRNodeType","currentSrc","currentTime","play","catch","console","warn","pause","isShadowHost","shadowRoot","firstChild","attachShadow","mode","isStyle","textContent","createCDATASection","createComment","de","mirror","skipChild","afterAppend","rootId","close","open","compatMode","xmlns","write","isShadow","ue","onVisit","scrollLeft","scrollTop","he","pe","error","ge","putIntoMap","parent","children","node","nextId","parentId","me","fe","Boolean","nodeName","ye","ownerDocument","defaultView","frameElement","relativeScale","absoluteScale","getBoundingClientRect","clientHeight","ve","Ce","cssRules","Ie","positions","index","window","Proxy","Reflect","Ae","constructor","styleIDMap","idStyleMap","getStyle","generateId","be","DomContentLoaded","Load","FullSnapshot","IncrementalSnapshot","Meta","Custom","Plugin","we","Mutation","MouseMove","MouseInteraction","Scroll","ViewportResize","Input","TouchMove","MediaInteraction","StyleSheetRule","CanvasMutation","Font","Log","Drag","StyleDeclaration","Selection","AdoptedStyleSheet","Ne","MouseUp","MouseDown","Click","ContextMenu","DblClick","Focus","Blur","TouchStart","TouchMove_Departed","TouchEnd","TouchCancel","Ee","WebGL","WebGL2","Se","Start","Pause","Resume","Resize","Finish","FullsnapshotRebuilded","LoadStylesheetStart","LoadStylesheetEnd","SkipStart","SkipEnd","EventCast","CustomEvent","Flush","StateChange","PlayBack","Destroy","Te","next","throw","done","apply","De","Me","Uint8Array","Re","charCodeAt","xe","ke","module","require","__non_webpack_require__","Worker","Ht","Fe","Buffer","assign","eval","Oe","Be","Le","Ve","_e","process","Ge","We","Ye","Ue","Ze","$e","toUpperCase","Ke","toLowerCase","Pe","parentElement","qe","lastChild","nextSibling","contains","Qe","DOCUMENT_TYPE_NODE","ze","je","class","className","dispatchEvent","Je","JSON","stringify","Xe","COMMENT_NODE","He","CDATA_SECTION_NODE","classes","String","onChange","remove","PLACEHOLDER","ATTRIBUTE_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","et","svg","tt","nt","it","scrollData","inputData","paused","muted","volume","playbackRate","canvasMutations","applyCanvas","event","mutation","sheet","applyStyleSheetMutation","applyScroll","applyInput","contentDocument","ot","documentElement","rt","arguments","find","body","head","firstElementChild","some","UNSERIALIZED_STARTING_ID","_unserializedId","yt","unserializedId","st","lt","ut","ct","dt","at","pt","gt","ht","destroyTree","mt","HTMLFormElement","vt","ft","Ct","It","Uint16Array","At","Uint32Array","bt","wt","Nt","Et","freb","St","Tt","Dt","Mt","Rt","xt","kt","Ft","Ot","Bt","Lt","Vt","_t","max","Gt","bits","Wt","bits16","Ut","slc","subarray","Zt","cbuf","Math","$t","parse","timestamp","TextDecoder","decode","fromCharCode","TextEncoder","encode","Kt","all","on","off","emit","Yt","Pt","freeze","__proto__","default","Qt","__forceSmoothScrollPolyfill__","HTMLElement","scroll","scrollTo","scrollBy","elementScroll","scrollIntoView","performance","now","bind","Date","navigator","userAgent","behavior","TypeError","scrollHeight","clientWidth","scrollWidth","getComputedStyle","host","startTime","cos","PI","startX","startY","method","scrollable","requestAnimationFrame","scrollX","pageXOffset","scrollY","pageYOffset","left","top","SyntaxError","zt","timeOffset","raf","actions","speed","liveMode","addAction","delay","findActionIndex","check","shift","doAction","cancelAnimationFrame","setSpeed","toggleLiveMode","isActive","floor","Jt","Xt","Symbol","iterator","return","NotStarted","Running","Stopped","jt","qt","assignment","en","tn","nn","changed","matches","rn","sn","states","initial","entry","config","_options","initialState","transition","cond","exit","an","ln","_machine","send","subscribe","unsubscribe","stop","state","status","cn","getCastFn","applyEventsSynchronously","emitter","playing","PAUSE","CAST_EVENT","END","ADD_EVENT","PLAY","TO_LIVE","live","castEvent","lastPlayedEvent","payload","recordTimeOffset","baselineTime","events","timer","resetLastPlayedEvent","startLive","addEvent","dn","un","hn","isUnchanged","rr_type","args","createImageBitmap","ArrayBuffer","base64","Image","Blob","pn","gn","imageMap","errorHandler","setter","includes","mn","fn","canvasEventMap","commands","yn","vn","duration","lineCap","lineWidth","strokeStyle","Cn","In","usingVirtualDom","virtualDom","mouseTail","tailPositions","legacy_missingNodeRetryMap","styleMirror","firstFullSnapshot","newDocumentQueue","mousePos","touchActive","lastSelectionData","constructedStyleMutations","adoptedStyleSheets","handleResize","iframe","display","mouse","castFn","rebuildFullSnapshot","contentWindow","initialOffset","applyIncremental","nextUserInteractionEvent","backToNormal","skipInactive","service","isUserInteraction","speedService","min","round","maxSpeed","plugins","handler","replayer","finish","setTimeout","loadTimeout","showWarning","showDebug","blockClass","insertStyleRules","triggerFocus","UNSAFE_replayCanvas","pauseAnimation","useVirtualDom","setupDom","getMirror","nodeMirror","warnCanvasMutationFailed","applyStyleSheetRule","applyStyleDeclaration","applyAdoptedStyleSheet","moveAndHover","debugData","applySelection","unpackFn","player","normalSpeed","normal","FAST_FORWARD","SET_SPEED","skipping","BACK_TO_NORMAL","recordSpeed","restoreSpeed","setConfig","Number","parseFloat","wrapper","getMetaData","endTime","totalTime","getCurrentTime","getTimeOffset","getElementsByTagName","resume","destroy","enableInteract","pointerEvents","disableInteract","resetCache","NodeList","DOMTokenList","Node","collectIframeAndAttachDocument","onBuild","mutationInQueue","builtNode","attachDocumentToIframe","waitForStylesheetLoad","preloadAllImages","adds","rule","insertRule","stateHandler","querySelectorAll","size","clearTimeout","deserializeAndPreloadCanvasEvents","preloadImages","createImageData","putImageData","applyMutation","message","Event","debugNodeNotFound","blur","focus","preventScroll","offsetWidth","styleId","FontFace","family","buffer","fontSource","descriptors","fonts","removes","warnNodeNotFound","DOMException","previousId","legacy_resolveMissingNode","debug","texts","checked","isChecked","text","ranges","startOffset","endOffset","Range","setStart","setEnd","getSelection","range","selection","removeAllRanges","addRange","deleteRule","replaceSync","priority","styles","CSSStyleSheet","adoptStyleSheets","styleIds","drawMouseTail","hoverElements","draw","clearRect","beginPath","moveTo","lineTo","stroke","log","An","bn","pow","wn","Nn","En","Sn","Tn","disabled","Dn","label","Mn","Rn","xn","kn","Fn","On","Bn","Vn","Ln","_n","innerHTML","background","Gn","Wn","toFixed","Un","showController","autoPlay","speedOption","tags","inactiveColor","stopTimer","goto","playRange","tag","clientX","Zn","toggle","toggleSkipInactive","triggerUpdateMeta","$n","Kn","Yn","maxScale","updateScale","transform","toggleFullscreen","exitFullscreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","offsetHeight","fullscreenListener","detail","Pn","triggerResize","getReplayer","Qn"],"sources":["/Users/ogonen/rrweb/node_modules/svelte/internal/index.mjs","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb-snapshot/es/rrweb-snapshot.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/utils.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/types/dist/types.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/ext/tslib/tslib.es6.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/ext/base64-arraybuffer/dist/base64-arraybuffer.es5.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/_rollup-plugin-web-worker-loader__helper__node__WorkerClass.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/_rollup-plugin-web-worker-loader__helper__node__createBase64WorkerFactory.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/_rollup-plugin-web-worker-loader__helper__auto__isNodeJS.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/_rollup-plugin-web-worker-loader__helper__auto__createBase64WorkerFactory.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrdom/es/rrdom.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/image-bitmap-data-url-worker.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/_virtual/_rollup-plugin-web-worker-loader__helper__browser__createBase64WorkerFactory.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/record/index.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/ext/fflate/esm/browser.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/packer/base.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/packer/unpack.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/ext/mitt/dist/mitt.mjs.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/ext/@xstate/fsm/es/index.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/smoothscroll.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/timer.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/machine.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/styles/inject-style.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/canvas/deserialize-args.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/canvas/webgl.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/canvas/2d.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/canvas/index.js","/Users/ogonen/rrweb/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js","/Users/ogonen/rrweb/node_modules/rrweb-player/src/utils.ts","/Users/ogonen/rrweb/node_modules/rrweb-player/src/components/Switch.svelte","/Users/ogonen/rrweb/node_modules/rrweb-player/src/Controller.svelte","/Users/ogonen/rrweb/node_modules/rrweb-player/src/Player.svelte","/Users/ogonen/rrweb/node_modules/rrweb-player/src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            else\n                this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro â€” we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro â€” needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.49.0' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        throw new Error(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","var NodeType;\r\n(function (NodeType) {\r\n    NodeType[NodeType[\"Document\"] = 0] = \"Document\";\r\n    NodeType[NodeType[\"DocumentType\"] = 1] = \"DocumentType\";\r\n    NodeType[NodeType[\"Element\"] = 2] = \"Element\";\r\n    NodeType[NodeType[\"Text\"] = 3] = \"Text\";\r\n    NodeType[NodeType[\"CDATA\"] = 4] = \"CDATA\";\r\n    NodeType[NodeType[\"Comment\"] = 5] = \"Comment\";\r\n})(NodeType || (NodeType = {}));\n\nfunction isElement(n) {\r\n    return n.nodeType === n.ELEMENT_NODE;\r\n}\r\nfunction isShadowRoot(n) {\r\n    var host = n === null || n === void 0 ? void 0 : n.host;\r\n    return Boolean((host === null || host === void 0 ? void 0 : host.shadowRoot) === n);\r\n}\r\nfunction isNativeShadowDom(shadowRoot) {\r\n    return Object.prototype.toString.call(shadowRoot) === '[object ShadowRoot]';\r\n}\r\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\r\n    if (cssText.includes(' background-clip: text;') &&\r\n        !cssText.includes(' -webkit-background-clip: text;')) {\r\n        cssText = cssText.replace(' background-clip: text;', ' -webkit-background-clip: text; background-clip: text;');\r\n    }\r\n    return cssText;\r\n}\r\nfunction getCssRulesString(s) {\r\n    try {\r\n        var rules = s.rules || s.cssRules;\r\n        return rules\r\n            ? fixBrowserCompatibilityIssuesInCSS(Array.from(rules).map(getCssRuleString).join(''))\r\n            : null;\r\n    }\r\n    catch (error) {\r\n        return null;\r\n    }\r\n}\r\nfunction getCssRuleString(rule) {\r\n    var cssStringified = rule.cssText;\r\n    if (isCSSImportRule(rule)) {\r\n        try {\r\n            cssStringified = getCssRulesString(rule.styleSheet) || cssStringified;\r\n        }\r\n        catch (_a) {\r\n        }\r\n    }\r\n    return cssStringified;\r\n}\r\nfunction isCSSImportRule(rule) {\r\n    return 'styleSheet' in rule;\r\n}\r\nvar Mirror = (function () {\r\n    function Mirror() {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    }\r\n    Mirror.prototype.getId = function (n) {\r\n        var _a;\r\n        if (!n)\r\n            return -1;\r\n        var id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\r\n        return id !== null && id !== void 0 ? id : -1;\r\n    };\r\n    Mirror.prototype.getNode = function (id) {\r\n        return this.idNodeMap.get(id) || null;\r\n    };\r\n    Mirror.prototype.getIds = function () {\r\n        return Array.from(this.idNodeMap.keys());\r\n    };\r\n    Mirror.prototype.getMeta = function (n) {\r\n        return this.nodeMetaMap.get(n) || null;\r\n    };\r\n    Mirror.prototype.removeNodeFromMap = function (n) {\r\n        var _this = this;\r\n        var id = this.getId(n);\r\n        this.idNodeMap[\"delete\"](id);\r\n        if (n.childNodes) {\r\n            n.childNodes.forEach(function (childNode) {\r\n                return _this.removeNodeFromMap(childNode);\r\n            });\r\n        }\r\n    };\r\n    Mirror.prototype.has = function (id) {\r\n        return this.idNodeMap.has(id);\r\n    };\r\n    Mirror.prototype.hasNode = function (node) {\r\n        return this.nodeMetaMap.has(node);\r\n    };\r\n    Mirror.prototype.add = function (n, meta) {\r\n        var id = meta.id;\r\n        this.idNodeMap.set(id, n);\r\n        this.nodeMetaMap.set(n, meta);\r\n    };\r\n    Mirror.prototype.replace = function (id, n) {\r\n        var oldNode = this.getNode(id);\r\n        if (oldNode) {\r\n            var meta = this.nodeMetaMap.get(oldNode);\r\n            if (meta)\r\n                this.nodeMetaMap.set(n, meta);\r\n        }\r\n        this.idNodeMap.set(id, n);\r\n    };\r\n    Mirror.prototype.reset = function () {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    };\r\n    return Mirror;\r\n}());\r\nfunction createMirror() {\r\n    return new Mirror();\r\n}\r\nfunction maskInputValue(_a) {\r\n    var maskInputOptions = _a.maskInputOptions, tagName = _a.tagName, type = _a.type, value = _a.value, maskInputFn = _a.maskInputFn;\r\n    var text = value || '';\r\n    if (maskInputOptions[tagName.toLowerCase()] ||\r\n        maskInputOptions[type]) {\r\n        if (maskInputFn) {\r\n            text = maskInputFn(text);\r\n        }\r\n        else {\r\n            text = '*'.repeat(text.length);\r\n        }\r\n    }\r\n    return text;\r\n}\r\nvar ORIGINAL_ATTRIBUTE_NAME = '__rrweb_original__';\r\nfunction is2DCanvasBlank(canvas) {\r\n    var ctx = canvas.getContext('2d');\r\n    if (!ctx)\r\n        return true;\r\n    var chunkSize = 50;\r\n    for (var x = 0; x < canvas.width; x += chunkSize) {\r\n        for (var y = 0; y < canvas.height; y += chunkSize) {\r\n            var getImageData = ctx.getImageData;\r\n            var originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData\r\n                ? getImageData[ORIGINAL_ATTRIBUTE_NAME]\r\n                : getImageData;\r\n            var pixelBuffer = new Uint32Array(originalGetImageData.call(ctx, x, y, Math.min(chunkSize, canvas.width - x), Math.min(chunkSize, canvas.height - y)).data.buffer);\r\n            if (pixelBuffer.some(function (pixel) { return pixel !== 0; }))\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nvar _id = 1;\r\nvar tagNameRegex = new RegExp('[^a-z0-9-_:]');\r\nvar IGNORED_NODE = -2;\r\nfunction genId() {\r\n    return _id++;\r\n}\r\nfunction getValidTagName(element) {\r\n    if (element instanceof HTMLFormElement) {\r\n        return 'form';\r\n    }\r\n    var processedTagName = element.tagName.toLowerCase().trim();\r\n    if (tagNameRegex.test(processedTagName)) {\r\n        return 'div';\r\n    }\r\n    return processedTagName;\r\n}\r\nfunction stringifyStyleSheet(sheet) {\r\n    return sheet.cssRules\r\n        ? Array.from(sheet.cssRules)\r\n            .map(function (rule) { return rule.cssText || ''; })\r\n            .join('')\r\n        : '';\r\n}\r\nfunction extractOrigin(url) {\r\n    var origin = '';\r\n    if (url.indexOf('//') > -1) {\r\n        origin = url.split('/').slice(0, 3).join('/');\r\n    }\r\n    else {\r\n        origin = url.split('/')[0];\r\n    }\r\n    origin = origin.split('?')[0];\r\n    return origin;\r\n}\r\nvar canvasService;\r\nvar canvasCtx;\r\nvar URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\r\nvar RELATIVE_PATH = /^(?!www\\.|(?:http|ftp)s?:\\/\\/|[A-Za-z]:\\\\|\\/\\/|#).*/;\r\nvar DATA_URI = /^(data:)([^,]*),(.*)/i;\r\nfunction absoluteToStylesheet(cssText, href) {\r\n    return (cssText || '').replace(URL_IN_CSS_REF, function (origin, quote1, path1, quote2, path2, path3) {\r\n        var filePath = path1 || path2 || path3;\r\n        var maybeQuote = quote1 || quote2 || '';\r\n        if (!filePath) {\r\n            return origin;\r\n        }\r\n        if (!RELATIVE_PATH.test(filePath)) {\r\n            return \"url(\".concat(maybeQuote).concat(filePath).concat(maybeQuote, \")\");\r\n        }\r\n        if (DATA_URI.test(filePath)) {\r\n            return \"url(\".concat(maybeQuote).concat(filePath).concat(maybeQuote, \")\");\r\n        }\r\n        if (filePath[0] === '/') {\r\n            return \"url(\".concat(maybeQuote).concat(extractOrigin(href) + filePath).concat(maybeQuote, \")\");\r\n        }\r\n        var stack = href.split('/');\r\n        var parts = filePath.split('/');\r\n        stack.pop();\r\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\r\n            var part = parts_1[_i];\r\n            if (part === '.') {\r\n                continue;\r\n            }\r\n            else if (part === '..') {\r\n                stack.pop();\r\n            }\r\n            else {\r\n                stack.push(part);\r\n            }\r\n        }\r\n        return \"url(\".concat(maybeQuote).concat(stack.join('/')).concat(maybeQuote, \")\");\r\n    });\r\n}\r\nvar SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\r\nvar SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\r\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\r\n    if (attributeValue.trim() === '') {\r\n        return attributeValue;\r\n    }\r\n    var pos = 0;\r\n    function collectCharacters(regEx) {\r\n        var chars;\r\n        var match = regEx.exec(attributeValue.substring(pos));\r\n        if (match) {\r\n            chars = match[0];\r\n            pos += chars.length;\r\n            return chars;\r\n        }\r\n        return '';\r\n    }\r\n    var output = [];\r\n    while (true) {\r\n        collectCharacters(SRCSET_COMMAS_OR_SPACES);\r\n        if (pos >= attributeValue.length) {\r\n            break;\r\n        }\r\n        var url = collectCharacters(SRCSET_NOT_SPACES);\r\n        if (url.slice(-1) === ',') {\r\n            url = absoluteToDoc(doc, url.substring(0, url.length - 1));\r\n            output.push(url);\r\n        }\r\n        else {\r\n            var descriptorsStr = '';\r\n            url = absoluteToDoc(doc, url);\r\n            var inParens = false;\r\n            while (true) {\r\n                var c = attributeValue.charAt(pos);\r\n                if (c === '') {\r\n                    output.push((url + descriptorsStr).trim());\r\n                    break;\r\n                }\r\n                else if (!inParens) {\r\n                    if (c === ',') {\r\n                        pos += 1;\r\n                        output.push((url + descriptorsStr).trim());\r\n                        break;\r\n                    }\r\n                    else if (c === '(') {\r\n                        inParens = true;\r\n                    }\r\n                }\r\n                else {\r\n                    if (c === ')') {\r\n                        inParens = false;\r\n                    }\r\n                }\r\n                descriptorsStr += c;\r\n                pos += 1;\r\n            }\r\n        }\r\n    }\r\n    return output.join(', ');\r\n}\r\nfunction absoluteToDoc(doc, attributeValue) {\r\n    if (!attributeValue || attributeValue.trim() === '') {\r\n        return attributeValue;\r\n    }\r\n    var a = doc.createElement('a');\r\n    a.href = attributeValue;\r\n    return a.href;\r\n}\r\nfunction isSVGElement(el) {\r\n    return Boolean(el.tagName === 'svg' || el.ownerSVGElement);\r\n}\r\nfunction getHref() {\r\n    var a = document.createElement('a');\r\n    a.href = '';\r\n    return a.href;\r\n}\r\nfunction transformAttribute(doc, tagName, name, value) {\r\n    if (name === 'src' ||\r\n        (name === 'href' && value && !(tagName === 'use' && value[0] === '#'))) {\r\n        return absoluteToDoc(doc, value);\r\n    }\r\n    else if (name === 'xlink:href' && value && value[0] !== '#') {\r\n        return absoluteToDoc(doc, value);\r\n    }\r\n    else if (name === 'background' &&\r\n        value &&\r\n        (tagName === 'table' || tagName === 'td' || tagName === 'th')) {\r\n        return absoluteToDoc(doc, value);\r\n    }\r\n    else if (name === 'srcset' && value) {\r\n        return getAbsoluteSrcsetString(doc, value);\r\n    }\r\n    else if (name === 'style' && value) {\r\n        return absoluteToStylesheet(value, getHref());\r\n    }\r\n    else if (tagName === 'object' && name === 'data' && value) {\r\n        return absoluteToDoc(doc, value);\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nfunction _isBlockedElement(element, blockClass, blockSelector) {\r\n    if (typeof blockClass === 'string') {\r\n        if (element.classList.contains(blockClass)) {\r\n            return true;\r\n        }\r\n    }\r\n    else {\r\n        for (var eIndex = element.classList.length; eIndex--;) {\r\n            var className = element.classList[eIndex];\r\n            if (blockClass.test(className)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    if (blockSelector) {\r\n        return element.matches(blockSelector);\r\n    }\r\n    return false;\r\n}\r\nfunction classMatchesRegex(node, regex, checkAncestors) {\r\n    if (!node)\r\n        return false;\r\n    if (node.nodeType !== node.ELEMENT_NODE) {\r\n        if (!checkAncestors)\r\n            return false;\r\n        return classMatchesRegex(node.parentNode, regex, checkAncestors);\r\n    }\r\n    for (var eIndex = node.classList.length; eIndex--;) {\r\n        var className = node.classList[eIndex];\r\n        if (regex.test(className)) {\r\n            return true;\r\n        }\r\n    }\r\n    if (!checkAncestors)\r\n        return false;\r\n    return classMatchesRegex(node.parentNode, regex, checkAncestors);\r\n}\r\nfunction needMaskingText(node, maskTextClass, maskTextSelector) {\r\n    var el = node.nodeType === node.ELEMENT_NODE\r\n        ? node\r\n        : node.parentElement;\r\n    if (el === null)\r\n        return false;\r\n    if (typeof maskTextClass === 'string') {\r\n        if (el.classList.contains(maskTextClass))\r\n            return true;\r\n        if (el.closest(\".\".concat(maskTextClass)))\r\n            return true;\r\n    }\r\n    else {\r\n        if (classMatchesRegex(el, maskTextClass, true))\r\n            return true;\r\n    }\r\n    if (maskTextSelector) {\r\n        if (el.matches(maskTextSelector))\r\n            return true;\r\n        if (el.closest(maskTextSelector))\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\r\n    var win = iframeEl.contentWindow;\r\n    if (!win) {\r\n        return;\r\n    }\r\n    var fired = false;\r\n    var readyState;\r\n    try {\r\n        readyState = win.document.readyState;\r\n    }\r\n    catch (error) {\r\n        return;\r\n    }\r\n    if (readyState !== 'complete') {\r\n        var timer_1 = setTimeout(function () {\r\n            if (!fired) {\r\n                listener();\r\n                fired = true;\r\n            }\r\n        }, iframeLoadTimeout);\r\n        iframeEl.addEventListener('load', function () {\r\n            clearTimeout(timer_1);\r\n            fired = true;\r\n            listener();\r\n        });\r\n        return;\r\n    }\r\n    var blankUrl = 'about:blank';\r\n    if (win.location.href !== blankUrl ||\r\n        iframeEl.src === blankUrl ||\r\n        iframeEl.src === '') {\r\n        setTimeout(listener, 0);\r\n        return iframeEl.addEventListener('load', listener);\r\n    }\r\n    iframeEl.addEventListener('load', listener);\r\n}\r\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\r\n    var fired = false;\r\n    var styleSheetLoaded;\r\n    try {\r\n        styleSheetLoaded = link.sheet;\r\n    }\r\n    catch (error) {\r\n        return;\r\n    }\r\n    if (styleSheetLoaded)\r\n        return;\r\n    var timer = setTimeout(function () {\r\n        if (!fired) {\r\n            listener();\r\n            fired = true;\r\n        }\r\n    }, styleSheetLoadTimeout);\r\n    link.addEventListener('load', function () {\r\n        clearTimeout(timer);\r\n        fired = true;\r\n        listener();\r\n    });\r\n}\r\nfunction serializeNode(n, options) {\r\n    var doc = options.doc, mirror = options.mirror, blockClass = options.blockClass, blockSelector = options.blockSelector, maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, inlineStylesheet = options.inlineStylesheet, _a = options.maskInputOptions, maskInputOptions = _a === void 0 ? {} : _a, maskTextFn = options.maskTextFn, maskInputFn = options.maskInputFn, _b = options.dataURLOptions, dataURLOptions = _b === void 0 ? {} : _b, inlineImages = options.inlineImages, recordCanvas = options.recordCanvas, keepIframeSrcFn = options.keepIframeSrcFn, _c = options.newlyAddedElement, newlyAddedElement = _c === void 0 ? false : _c;\r\n    var rootId = getRootId(doc, mirror);\r\n    switch (n.nodeType) {\r\n        case n.DOCUMENT_NODE:\r\n            if (n.compatMode !== 'CSS1Compat') {\r\n                return {\r\n                    type: NodeType.Document,\r\n                    childNodes: [],\r\n                    compatMode: n.compatMode\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    type: NodeType.Document,\r\n                    childNodes: []\r\n                };\r\n            }\r\n        case n.DOCUMENT_TYPE_NODE:\r\n            return {\r\n                type: NodeType.DocumentType,\r\n                name: n.name,\r\n                publicId: n.publicId,\r\n                systemId: n.systemId,\r\n                rootId: rootId\r\n            };\r\n        case n.ELEMENT_NODE:\r\n            return serializeElementNode(n, {\r\n                doc: doc,\r\n                blockClass: blockClass,\r\n                blockSelector: blockSelector,\r\n                inlineStylesheet: inlineStylesheet,\r\n                maskInputOptions: maskInputOptions,\r\n                maskInputFn: maskInputFn,\r\n                dataURLOptions: dataURLOptions,\r\n                inlineImages: inlineImages,\r\n                recordCanvas: recordCanvas,\r\n                keepIframeSrcFn: keepIframeSrcFn,\r\n                newlyAddedElement: newlyAddedElement,\r\n                rootId: rootId\r\n            });\r\n        case n.TEXT_NODE:\r\n            return serializeTextNode(n, {\r\n                maskTextClass: maskTextClass,\r\n                maskTextSelector: maskTextSelector,\r\n                maskTextFn: maskTextFn,\r\n                rootId: rootId\r\n            });\r\n        case n.CDATA_SECTION_NODE:\r\n            return {\r\n                type: NodeType.CDATA,\r\n                textContent: '',\r\n                rootId: rootId\r\n            };\r\n        case n.COMMENT_NODE:\r\n            return {\r\n                type: NodeType.Comment,\r\n                textContent: n.textContent || '',\r\n                rootId: rootId\r\n            };\r\n        default:\r\n            return false;\r\n    }\r\n}\r\nfunction getRootId(doc, mirror) {\r\n    if (!mirror.hasNode(doc))\r\n        return undefined;\r\n    var docId = mirror.getId(doc);\r\n    return docId === 1 ? undefined : docId;\r\n}\r\nfunction serializeTextNode(n, options) {\r\n    var _a;\r\n    var maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, maskTextFn = options.maskTextFn, rootId = options.rootId;\r\n    var parentTagName = n.parentNode && n.parentNode.tagName;\r\n    var textContent = n.textContent;\r\n    var isStyle = parentTagName === 'STYLE' ? true : undefined;\r\n    var isScript = parentTagName === 'SCRIPT' ? true : undefined;\r\n    if (isStyle && textContent) {\r\n        try {\r\n            if (n.nextSibling || n.previousSibling) {\r\n            }\r\n            else if ((_a = n.parentNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) {\r\n                textContent = stringifyStyleSheet(n.parentNode.sheet);\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.warn(\"Cannot get CSS styles from text's parentNode. Error: \".concat(err), n);\r\n        }\r\n        textContent = absoluteToStylesheet(textContent, getHref());\r\n    }\r\n    if (isScript) {\r\n        textContent = 'SCRIPT_PLACEHOLDER';\r\n    }\r\n    if (!isStyle &&\r\n        !isScript &&\r\n        textContent &&\r\n        needMaskingText(n, maskTextClass, maskTextSelector)) {\r\n        textContent = maskTextFn\r\n            ? maskTextFn(textContent)\r\n            : textContent.replace(/[\\S]/g, '*');\r\n    }\r\n    return {\r\n        type: NodeType.Text,\r\n        textContent: textContent || '',\r\n        isStyle: isStyle,\r\n        rootId: rootId\r\n    };\r\n}\r\nfunction serializeElementNode(n, options) {\r\n    var doc = options.doc, blockClass = options.blockClass, blockSelector = options.blockSelector, inlineStylesheet = options.inlineStylesheet, _a = options.maskInputOptions, maskInputOptions = _a === void 0 ? {} : _a, maskInputFn = options.maskInputFn, _b = options.dataURLOptions, dataURLOptions = _b === void 0 ? {} : _b, inlineImages = options.inlineImages, recordCanvas = options.recordCanvas, keepIframeSrcFn = options.keepIframeSrcFn, _c = options.newlyAddedElement, newlyAddedElement = _c === void 0 ? false : _c, rootId = options.rootId;\r\n    var needBlock = _isBlockedElement(n, blockClass, blockSelector);\r\n    var tagName = getValidTagName(n);\r\n    var attributes = {};\r\n    var len = n.attributes.length;\r\n    for (var i = 0; i < len; i++) {\r\n        var attr = n.attributes[i];\r\n        attributes[attr.name] = transformAttribute(doc, tagName, attr.name, attr.value);\r\n    }\r\n    if (tagName === 'link' && inlineStylesheet) {\r\n        var stylesheet = Array.from(doc.styleSheets).find(function (s) {\r\n            return s.href === n.href;\r\n        });\r\n        var cssText = null;\r\n        if (stylesheet) {\r\n            cssText = getCssRulesString(stylesheet);\r\n        }\r\n        if (cssText) {\r\n            delete attributes.rel;\r\n            delete attributes.href;\r\n            attributes._cssText = absoluteToStylesheet(cssText, stylesheet.href);\r\n        }\r\n    }\r\n    if (tagName === 'style' &&\r\n        n.sheet &&\r\n        !(n.innerText || n.textContent || '').trim().length) {\r\n        var cssText = getCssRulesString(n.sheet);\r\n        if (cssText) {\r\n            attributes._cssText = absoluteToStylesheet(cssText, getHref());\r\n        }\r\n    }\r\n    if (tagName === 'input' || tagName === 'textarea' || tagName === 'select') {\r\n        var value = n.value;\r\n        var checked = n.checked;\r\n        if (attributes.type !== 'radio' &&\r\n            attributes.type !== 'checkbox' &&\r\n            attributes.type !== 'submit' &&\r\n            attributes.type !== 'button' &&\r\n            value) {\r\n            attributes.value = maskInputValue({\r\n                type: attributes.type,\r\n                tagName: tagName,\r\n                value: value,\r\n                maskInputOptions: maskInputOptions,\r\n                maskInputFn: maskInputFn\r\n            });\r\n        }\r\n        else if (checked) {\r\n            attributes.checked = checked;\r\n        }\r\n    }\r\n    if (tagName === 'option') {\r\n        if (n.selected && !maskInputOptions['select']) {\r\n            attributes.selected = true;\r\n        }\r\n        else {\r\n            delete attributes.selected;\r\n        }\r\n    }\r\n    if (tagName === 'canvas' && recordCanvas) {\r\n        if (n.__context === '2d') {\r\n            if (!is2DCanvasBlank(n)) {\r\n                attributes.rr_dataURL = n.toDataURL(dataURLOptions.type, dataURLOptions.quality);\r\n            }\r\n        }\r\n        else if (!('__context' in n)) {\r\n            var canvasDataURL = n.toDataURL(dataURLOptions.type, dataURLOptions.quality);\r\n            var blankCanvas = document.createElement('canvas');\r\n            blankCanvas.width = n.width;\r\n            blankCanvas.height = n.height;\r\n            var blankCanvasDataURL = blankCanvas.toDataURL(dataURLOptions.type, dataURLOptions.quality);\r\n            if (canvasDataURL !== blankCanvasDataURL) {\r\n                attributes.rr_dataURL = canvasDataURL;\r\n            }\r\n        }\r\n    }\r\n    if (tagName === 'img' && inlineImages) {\r\n        if (!canvasService) {\r\n            canvasService = doc.createElement('canvas');\r\n            canvasCtx = canvasService.getContext('2d');\r\n        }\r\n        var image_1 = n;\r\n        var oldValue_1 = image_1.crossOrigin;\r\n        image_1.crossOrigin = 'anonymous';\r\n        var recordInlineImage = function () {\r\n            try {\r\n                canvasService.width = image_1.naturalWidth;\r\n                canvasService.height = image_1.naturalHeight;\r\n                canvasCtx.drawImage(image_1, 0, 0);\r\n                attributes.rr_dataURL = canvasService.toDataURL(dataURLOptions.type, dataURLOptions.quality);\r\n            }\r\n            catch (err) {\r\n                console.warn(\"Cannot inline img src=\".concat(image_1.currentSrc, \"! Error: \").concat(err));\r\n            }\r\n            oldValue_1\r\n                ? (attributes.crossOrigin = oldValue_1)\r\n                : image_1.removeAttribute('crossorigin');\r\n        };\r\n        if (image_1.complete && image_1.naturalWidth !== 0)\r\n            recordInlineImage();\r\n        else\r\n            image_1.onload = recordInlineImage;\r\n    }\r\n    if (tagName === 'audio' || tagName === 'video') {\r\n        attributes.rr_mediaState = n.paused\r\n            ? 'paused'\r\n            : 'played';\r\n        attributes.rr_mediaCurrentTime = n.currentTime;\r\n    }\r\n    if (!newlyAddedElement) {\r\n        if (n.scrollLeft) {\r\n            attributes.rr_scrollLeft = n.scrollLeft;\r\n        }\r\n        if (n.scrollTop) {\r\n            attributes.rr_scrollTop = n.scrollTop;\r\n        }\r\n    }\r\n    if (needBlock) {\r\n        var _d = n.getBoundingClientRect(), width = _d.width, height = _d.height;\r\n        attributes = {\r\n            \"class\": attributes[\"class\"],\r\n            rr_width: \"\".concat(width, \"px\"),\r\n            rr_height: \"\".concat(height, \"px\")\r\n        };\r\n    }\r\n    if (tagName === 'iframe' && !keepIframeSrcFn(attributes.src)) {\r\n        if (!n.contentDocument) {\r\n            attributes.rr_src = attributes.src;\r\n        }\r\n        delete attributes.src;\r\n    }\r\n    return {\r\n        type: NodeType.Element,\r\n        tagName: tagName,\r\n        attributes: attributes,\r\n        childNodes: [],\r\n        isSVG: isSVGElement(n) || undefined,\r\n        needBlock: needBlock,\r\n        rootId: rootId\r\n    };\r\n}\r\nfunction lowerIfExists(maybeAttr) {\r\n    if (maybeAttr === undefined) {\r\n        return '';\r\n    }\r\n    else {\r\n        return maybeAttr.toLowerCase();\r\n    }\r\n}\r\nfunction slimDOMExcluded(sn, slimDOMOptions) {\r\n    if (slimDOMOptions.comment && sn.type === NodeType.Comment) {\r\n        return true;\r\n    }\r\n    else if (sn.type === NodeType.Element) {\r\n        if (slimDOMOptions.script &&\r\n            (sn.tagName === 'script' ||\r\n                (sn.tagName === 'link' &&\r\n                    sn.attributes.rel === 'preload' &&\r\n                    sn.attributes.as === 'script') ||\r\n                (sn.tagName === 'link' &&\r\n                    sn.attributes.rel === 'prefetch' &&\r\n                    typeof sn.attributes.href === 'string' &&\r\n                    sn.attributes.href.endsWith('.js')))) {\r\n            return true;\r\n        }\r\n        else if (slimDOMOptions.headFavicon &&\r\n            ((sn.tagName === 'link' && sn.attributes.rel === 'shortcut icon') ||\r\n                (sn.tagName === 'meta' &&\r\n                    (lowerIfExists(sn.attributes.name).match(/^msapplication-tile(image|color)$/) ||\r\n                        lowerIfExists(sn.attributes.name) === 'application-name' ||\r\n                        lowerIfExists(sn.attributes.rel) === 'icon' ||\r\n                        lowerIfExists(sn.attributes.rel) === 'apple-touch-icon' ||\r\n                        lowerIfExists(sn.attributes.rel) === 'shortcut icon')))) {\r\n            return true;\r\n        }\r\n        else if (sn.tagName === 'meta') {\r\n            if (slimDOMOptions.headMetaDescKeywords &&\r\n                lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\r\n                return true;\r\n            }\r\n            else if (slimDOMOptions.headMetaSocial &&\r\n                (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) ||\r\n                    lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) ||\r\n                    lowerIfExists(sn.attributes.name) === 'pinterest')) {\r\n                return true;\r\n            }\r\n            else if (slimDOMOptions.headMetaRobots &&\r\n                (lowerIfExists(sn.attributes.name) === 'robots' ||\r\n                    lowerIfExists(sn.attributes.name) === 'googlebot' ||\r\n                    lowerIfExists(sn.attributes.name) === 'bingbot')) {\r\n                return true;\r\n            }\r\n            else if (slimDOMOptions.headMetaHttpEquiv &&\r\n                sn.attributes['http-equiv'] !== undefined) {\r\n                return true;\r\n            }\r\n            else if (slimDOMOptions.headMetaAuthorship &&\r\n                (lowerIfExists(sn.attributes.name) === 'author' ||\r\n                    lowerIfExists(sn.attributes.name) === 'generator' ||\r\n                    lowerIfExists(sn.attributes.name) === 'framework' ||\r\n                    lowerIfExists(sn.attributes.name) === 'publisher' ||\r\n                    lowerIfExists(sn.attributes.name) === 'progid' ||\r\n                    lowerIfExists(sn.attributes.property).match(/^article:/) ||\r\n                    lowerIfExists(sn.attributes.property).match(/^product:/))) {\r\n                return true;\r\n            }\r\n            else if (slimDOMOptions.headMetaVerification &&\r\n                (lowerIfExists(sn.attributes.name) === 'google-site-verification' ||\r\n                    lowerIfExists(sn.attributes.name) === 'yandex-verification' ||\r\n                    lowerIfExists(sn.attributes.name) === 'csrf-token' ||\r\n                    lowerIfExists(sn.attributes.name) === 'p:domain_verify' ||\r\n                    lowerIfExists(sn.attributes.name) === 'verify-v1' ||\r\n                    lowerIfExists(sn.attributes.name) === 'verification' ||\r\n                    lowerIfExists(sn.attributes.name) === 'shopify-checkout-api-token')) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction serializeNodeWithId(n, options) {\r\n    var doc = options.doc, mirror = options.mirror, blockClass = options.blockClass, blockSelector = options.blockSelector, maskTextClass = options.maskTextClass, maskTextSelector = options.maskTextSelector, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.inlineStylesheet, inlineStylesheet = _b === void 0 ? true : _b, _c = options.maskInputOptions, maskInputOptions = _c === void 0 ? {} : _c, maskTextFn = options.maskTextFn, maskInputFn = options.maskInputFn, slimDOMOptions = options.slimDOMOptions, _d = options.dataURLOptions, dataURLOptions = _d === void 0 ? {} : _d, _e = options.inlineImages, inlineImages = _e === void 0 ? false : _e, _f = options.recordCanvas, recordCanvas = _f === void 0 ? false : _f, onSerialize = options.onSerialize, onIframeLoad = options.onIframeLoad, _g = options.iframeLoadTimeout, iframeLoadTimeout = _g === void 0 ? 5000 : _g, onStylesheetLoad = options.onStylesheetLoad, _h = options.stylesheetLoadTimeout, stylesheetLoadTimeout = _h === void 0 ? 5000 : _h, _j = options.keepIframeSrcFn, keepIframeSrcFn = _j === void 0 ? function () { return false; } : _j, _k = options.newlyAddedElement, newlyAddedElement = _k === void 0 ? false : _k;\r\n    var _l = options.preserveWhiteSpace, preserveWhiteSpace = _l === void 0 ? true : _l;\r\n    var _serializedNode = serializeNode(n, {\r\n        doc: doc,\r\n        mirror: mirror,\r\n        blockClass: blockClass,\r\n        blockSelector: blockSelector,\r\n        maskTextClass: maskTextClass,\r\n        maskTextSelector: maskTextSelector,\r\n        inlineStylesheet: inlineStylesheet,\r\n        maskInputOptions: maskInputOptions,\r\n        maskTextFn: maskTextFn,\r\n        maskInputFn: maskInputFn,\r\n        dataURLOptions: dataURLOptions,\r\n        inlineImages: inlineImages,\r\n        recordCanvas: recordCanvas,\r\n        keepIframeSrcFn: keepIframeSrcFn,\r\n        newlyAddedElement: newlyAddedElement\r\n    });\r\n    if (!_serializedNode) {\r\n        console.warn(n, 'not serialized');\r\n        return null;\r\n    }\r\n    var id;\r\n    if (mirror.hasNode(n)) {\r\n        id = mirror.getId(n);\r\n    }\r\n    else if (slimDOMExcluded(_serializedNode, slimDOMOptions) ||\r\n        (!preserveWhiteSpace &&\r\n            _serializedNode.type === NodeType.Text &&\r\n            !_serializedNode.isStyle &&\r\n            !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, '').length)) {\r\n        id = IGNORED_NODE;\r\n    }\r\n    else {\r\n        id = genId();\r\n    }\r\n    var serializedNode = Object.assign(_serializedNode, { id: id });\r\n    mirror.add(n, serializedNode);\r\n    if (id === IGNORED_NODE) {\r\n        return null;\r\n    }\r\n    if (onSerialize) {\r\n        onSerialize(n);\r\n    }\r\n    var recordChild = !skipChild;\r\n    if (serializedNode.type === NodeType.Element) {\r\n        recordChild = recordChild && !serializedNode.needBlock;\r\n        delete serializedNode.needBlock;\r\n        var shadowRoot = n.shadowRoot;\r\n        if (shadowRoot && isNativeShadowDom(shadowRoot))\r\n            serializedNode.isShadowHost = true;\r\n    }\r\n    if ((serializedNode.type === NodeType.Document ||\r\n        serializedNode.type === NodeType.Element) &&\r\n        recordChild) {\r\n        if (slimDOMOptions.headWhitespace &&\r\n            serializedNode.type === NodeType.Element &&\r\n            serializedNode.tagName === 'head') {\r\n            preserveWhiteSpace = false;\r\n        }\r\n        var bypassOptions = {\r\n            doc: doc,\r\n            mirror: mirror,\r\n            blockClass: blockClass,\r\n            blockSelector: blockSelector,\r\n            maskTextClass: maskTextClass,\r\n            maskTextSelector: maskTextSelector,\r\n            skipChild: skipChild,\r\n            inlineStylesheet: inlineStylesheet,\r\n            maskInputOptions: maskInputOptions,\r\n            maskTextFn: maskTextFn,\r\n            maskInputFn: maskInputFn,\r\n            slimDOMOptions: slimDOMOptions,\r\n            dataURLOptions: dataURLOptions,\r\n            inlineImages: inlineImages,\r\n            recordCanvas: recordCanvas,\r\n            preserveWhiteSpace: preserveWhiteSpace,\r\n            onSerialize: onSerialize,\r\n            onIframeLoad: onIframeLoad,\r\n            iframeLoadTimeout: iframeLoadTimeout,\r\n            onStylesheetLoad: onStylesheetLoad,\r\n            stylesheetLoadTimeout: stylesheetLoadTimeout,\r\n            keepIframeSrcFn: keepIframeSrcFn\r\n        };\r\n        for (var _i = 0, _m = Array.from(n.childNodes); _i < _m.length; _i++) {\r\n            var childN = _m[_i];\r\n            var serializedChildNode = serializeNodeWithId(childN, bypassOptions);\r\n            if (serializedChildNode) {\r\n                serializedNode.childNodes.push(serializedChildNode);\r\n            }\r\n        }\r\n        if (isElement(n) && n.shadowRoot) {\r\n            for (var _o = 0, _p = Array.from(n.shadowRoot.childNodes); _o < _p.length; _o++) {\r\n                var childN = _p[_o];\r\n                var serializedChildNode = serializeNodeWithId(childN, bypassOptions);\r\n                if (serializedChildNode) {\r\n                    isNativeShadowDom(n.shadowRoot) &&\r\n                        (serializedChildNode.isShadow = true);\r\n                    serializedNode.childNodes.push(serializedChildNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (n.parentNode &&\r\n        isShadowRoot(n.parentNode) &&\r\n        isNativeShadowDom(n.parentNode)) {\r\n        serializedNode.isShadow = true;\r\n    }\r\n    if (serializedNode.type === NodeType.Element &&\r\n        serializedNode.tagName === 'iframe') {\r\n        onceIframeLoaded(n, function () {\r\n            var iframeDoc = n.contentDocument;\r\n            if (iframeDoc && onIframeLoad) {\r\n                var serializedIframeNode = serializeNodeWithId(iframeDoc, {\r\n                    doc: iframeDoc,\r\n                    mirror: mirror,\r\n                    blockClass: blockClass,\r\n                    blockSelector: blockSelector,\r\n                    maskTextClass: maskTextClass,\r\n                    maskTextSelector: maskTextSelector,\r\n                    skipChild: false,\r\n                    inlineStylesheet: inlineStylesheet,\r\n                    maskInputOptions: maskInputOptions,\r\n                    maskTextFn: maskTextFn,\r\n                    maskInputFn: maskInputFn,\r\n                    slimDOMOptions: slimDOMOptions,\r\n                    dataURLOptions: dataURLOptions,\r\n                    inlineImages: inlineImages,\r\n                    recordCanvas: recordCanvas,\r\n                    preserveWhiteSpace: preserveWhiteSpace,\r\n                    onSerialize: onSerialize,\r\n                    onIframeLoad: onIframeLoad,\r\n                    iframeLoadTimeout: iframeLoadTimeout,\r\n                    onStylesheetLoad: onStylesheetLoad,\r\n                    stylesheetLoadTimeout: stylesheetLoadTimeout,\r\n                    keepIframeSrcFn: keepIframeSrcFn\r\n                });\r\n                if (serializedIframeNode) {\r\n                    onIframeLoad(n, serializedIframeNode);\r\n                }\r\n            }\r\n        }, iframeLoadTimeout);\r\n    }\r\n    if (serializedNode.type === NodeType.Element &&\r\n        serializedNode.tagName === 'link' &&\r\n        serializedNode.attributes.rel === 'stylesheet') {\r\n        onceStylesheetLoaded(n, function () {\r\n            if (onStylesheetLoad) {\r\n                var serializedLinkNode = serializeNodeWithId(n, {\r\n                    doc: doc,\r\n                    mirror: mirror,\r\n                    blockClass: blockClass,\r\n                    blockSelector: blockSelector,\r\n                    maskTextClass: maskTextClass,\r\n                    maskTextSelector: maskTextSelector,\r\n                    skipChild: false,\r\n                    inlineStylesheet: inlineStylesheet,\r\n                    maskInputOptions: maskInputOptions,\r\n                    maskTextFn: maskTextFn,\r\n                    maskInputFn: maskInputFn,\r\n                    slimDOMOptions: slimDOMOptions,\r\n                    dataURLOptions: dataURLOptions,\r\n                    inlineImages: inlineImages,\r\n                    recordCanvas: recordCanvas,\r\n                    preserveWhiteSpace: preserveWhiteSpace,\r\n                    onSerialize: onSerialize,\r\n                    onIframeLoad: onIframeLoad,\r\n                    iframeLoadTimeout: iframeLoadTimeout,\r\n                    onStylesheetLoad: onStylesheetLoad,\r\n                    stylesheetLoadTimeout: stylesheetLoadTimeout,\r\n                    keepIframeSrcFn: keepIframeSrcFn\r\n                });\r\n                if (serializedLinkNode) {\r\n                    onStylesheetLoad(n, serializedLinkNode);\r\n                }\r\n            }\r\n        }, stylesheetLoadTimeout);\r\n    }\r\n    return serializedNode;\r\n}\r\nfunction snapshot(n, options) {\r\n    var _a = options || {}, _b = _a.mirror, mirror = _b === void 0 ? new Mirror() : _b, _c = _a.blockClass, blockClass = _c === void 0 ? 'rr-block' : _c, _d = _a.blockSelector, blockSelector = _d === void 0 ? null : _d, _e = _a.maskTextClass, maskTextClass = _e === void 0 ? 'rr-mask' : _e, _f = _a.maskTextSelector, maskTextSelector = _f === void 0 ? null : _f, _g = _a.inlineStylesheet, inlineStylesheet = _g === void 0 ? true : _g, _h = _a.inlineImages, inlineImages = _h === void 0 ? false : _h, _j = _a.recordCanvas, recordCanvas = _j === void 0 ? false : _j, _k = _a.maskAllInputs, maskAllInputs = _k === void 0 ? false : _k, maskTextFn = _a.maskTextFn, maskInputFn = _a.maskInputFn, _l = _a.slimDOM, slimDOM = _l === void 0 ? false : _l, dataURLOptions = _a.dataURLOptions, preserveWhiteSpace = _a.preserveWhiteSpace, onSerialize = _a.onSerialize, onIframeLoad = _a.onIframeLoad, iframeLoadTimeout = _a.iframeLoadTimeout, onStylesheetLoad = _a.onStylesheetLoad, stylesheetLoadTimeout = _a.stylesheetLoadTimeout, _m = _a.keepIframeSrcFn, keepIframeSrcFn = _m === void 0 ? function () { return false; } : _m;\r\n    var maskInputOptions = maskAllInputs === true\r\n        ? {\r\n            color: true,\r\n            date: true,\r\n            'datetime-local': true,\r\n            email: true,\r\n            month: true,\r\n            number: true,\r\n            range: true,\r\n            search: true,\r\n            tel: true,\r\n            text: true,\r\n            time: true,\r\n            url: true,\r\n            week: true,\r\n            textarea: true,\r\n            select: true,\r\n            password: true\r\n        }\r\n        : maskAllInputs === false\r\n            ? {\r\n                password: true\r\n            }\r\n            : maskAllInputs;\r\n    var slimDOMOptions = slimDOM === true || slimDOM === 'all'\r\n        ?\r\n            {\r\n                script: true,\r\n                comment: true,\r\n                headFavicon: true,\r\n                headWhitespace: true,\r\n                headMetaDescKeywords: slimDOM === 'all',\r\n                headMetaSocial: true,\r\n                headMetaRobots: true,\r\n                headMetaHttpEquiv: true,\r\n                headMetaAuthorship: true,\r\n                headMetaVerification: true\r\n            }\r\n        : slimDOM === false\r\n            ? {}\r\n            : slimDOM;\r\n    return serializeNodeWithId(n, {\r\n        doc: n,\r\n        mirror: mirror,\r\n        blockClass: blockClass,\r\n        blockSelector: blockSelector,\r\n        maskTextClass: maskTextClass,\r\n        maskTextSelector: maskTextSelector,\r\n        skipChild: false,\r\n        inlineStylesheet: inlineStylesheet,\r\n        maskInputOptions: maskInputOptions,\r\n        maskTextFn: maskTextFn,\r\n        maskInputFn: maskInputFn,\r\n        slimDOMOptions: slimDOMOptions,\r\n        dataURLOptions: dataURLOptions,\r\n        inlineImages: inlineImages,\r\n        recordCanvas: recordCanvas,\r\n        preserveWhiteSpace: preserveWhiteSpace,\r\n        onSerialize: onSerialize,\r\n        onIframeLoad: onIframeLoad,\r\n        iframeLoadTimeout: iframeLoadTimeout,\r\n        onStylesheetLoad: onStylesheetLoad,\r\n        stylesheetLoadTimeout: stylesheetLoadTimeout,\r\n        keepIframeSrcFn: keepIframeSrcFn,\r\n        newlyAddedElement: false\r\n    });\r\n}\r\n\nvar commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\r\nfunction parse(css, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var lineno = 1;\r\n    var column = 1;\r\n    function updatePosition(str) {\r\n        var lines = str.match(/\\n/g);\r\n        if (lines) {\r\n            lineno += lines.length;\r\n        }\r\n        var i = str.lastIndexOf('\\n');\r\n        column = i === -1 ? column + str.length : str.length - i;\r\n    }\r\n    function position() {\r\n        var start = { line: lineno, column: column };\r\n        return function (node) {\r\n            node.position = new Position(start);\r\n            whitespace();\r\n            return node;\r\n        };\r\n    }\r\n    var Position = (function () {\r\n        function Position(start) {\r\n            this.start = start;\r\n            this.end = { line: lineno, column: column };\r\n            this.source = options.source;\r\n        }\r\n        return Position;\r\n    }());\r\n    Position.prototype.content = css;\r\n    var errorsList = [];\r\n    function error(msg) {\r\n        var err = new Error(\"\".concat(options.source || '', \":\").concat(lineno, \":\").concat(column, \": \").concat(msg));\r\n        err.reason = msg;\r\n        err.filename = options.source;\r\n        err.line = lineno;\r\n        err.column = column;\r\n        err.source = css;\r\n        if (options.silent) {\r\n            errorsList.push(err);\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    function stylesheet() {\r\n        var rulesList = rules();\r\n        return {\r\n            type: 'stylesheet',\r\n            stylesheet: {\r\n                source: options.source,\r\n                rules: rulesList,\r\n                parsingErrors: errorsList\r\n            }\r\n        };\r\n    }\r\n    function open() {\r\n        return match(/^{\\s*/);\r\n    }\r\n    function close() {\r\n        return match(/^}/);\r\n    }\r\n    function rules() {\r\n        var node;\r\n        var rules = [];\r\n        whitespace();\r\n        comments(rules);\r\n        while (css.length && css.charAt(0) !== '}' && (node = atrule() || rule())) {\r\n            if (node !== false) {\r\n                rules.push(node);\r\n                comments(rules);\r\n            }\r\n        }\r\n        return rules;\r\n    }\r\n    function match(re) {\r\n        var m = re.exec(css);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var str = m[0];\r\n        updatePosition(str);\r\n        css = css.slice(str.length);\r\n        return m;\r\n    }\r\n    function whitespace() {\r\n        match(/^\\s*/);\r\n    }\r\n    function comments(rules) {\r\n        if (rules === void 0) { rules = []; }\r\n        var c;\r\n        while ((c = comment())) {\r\n            if (c !== false) {\r\n                rules.push(c);\r\n            }\r\n            c = comment();\r\n        }\r\n        return rules;\r\n    }\r\n    function comment() {\r\n        var pos = position();\r\n        if ('/' !== css.charAt(0) || '*' !== css.charAt(1)) {\r\n            return;\r\n        }\r\n        var i = 2;\r\n        while ('' !== css.charAt(i) &&\r\n            ('*' !== css.charAt(i) || '/' !== css.charAt(i + 1))) {\r\n            ++i;\r\n        }\r\n        i += 2;\r\n        if ('' === css.charAt(i - 1)) {\r\n            return error('End of comment missing');\r\n        }\r\n        var str = css.slice(2, i - 2);\r\n        column += 2;\r\n        updatePosition(str);\r\n        css = css.slice(i);\r\n        column += 2;\r\n        return pos({\r\n            type: 'comment',\r\n            comment: str\r\n        });\r\n    }\r\n    function selector() {\r\n        var m = match(/^([^{]+)/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        return trim(m[0])\r\n            .replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '')\r\n            .replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function (m) {\r\n            return m.replace(/,/g, '\\u200C');\r\n        })\r\n            .split(/\\s*(?![^(]*\\)),\\s*/)\r\n            .map(function (s) {\r\n            return s.replace(/\\u200C/g, ',');\r\n        });\r\n    }\r\n    function declaration() {\r\n        var pos = position();\r\n        var propMatch = match(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\r\n        if (!propMatch) {\r\n            return;\r\n        }\r\n        var prop = trim(propMatch[0]);\r\n        if (!match(/^:\\s*/)) {\r\n            return error(\"property missing ':'\");\r\n        }\r\n        var val = match(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/);\r\n        var ret = pos({\r\n            type: 'declaration',\r\n            property: prop.replace(commentre, ''),\r\n            value: val ? trim(val[0]).replace(commentre, '') : ''\r\n        });\r\n        match(/^[;\\s]*/);\r\n        return ret;\r\n    }\r\n    function declarations() {\r\n        var decls = [];\r\n        if (!open()) {\r\n            return error(\"missing '{'\");\r\n        }\r\n        comments(decls);\r\n        var decl;\r\n        while ((decl = declaration())) {\r\n            if (decl !== false) {\r\n                decls.push(decl);\r\n                comments(decls);\r\n            }\r\n            decl = declaration();\r\n        }\r\n        if (!close()) {\r\n            return error(\"missing '}'\");\r\n        }\r\n        return decls;\r\n    }\r\n    function keyframe() {\r\n        var m;\r\n        var vals = [];\r\n        var pos = position();\r\n        while ((m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/))) {\r\n            vals.push(m[1]);\r\n            match(/^,\\s*/);\r\n        }\r\n        if (!vals.length) {\r\n            return;\r\n        }\r\n        return pos({\r\n            type: 'keyframe',\r\n            values: vals,\r\n            declarations: declarations()\r\n        });\r\n    }\r\n    function atkeyframes() {\r\n        var pos = position();\r\n        var m = match(/^@([-\\w]+)?keyframes\\s*/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var vendor = m[1];\r\n        m = match(/^([-\\w]+)\\s*/);\r\n        if (!m) {\r\n            return error('@keyframes missing name');\r\n        }\r\n        var name = m[1];\r\n        if (!open()) {\r\n            return error(\"@keyframes missing '{'\");\r\n        }\r\n        var frame;\r\n        var frames = comments();\r\n        while ((frame = keyframe())) {\r\n            frames.push(frame);\r\n            frames = frames.concat(comments());\r\n        }\r\n        if (!close()) {\r\n            return error(\"@keyframes missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'keyframes',\r\n            name: name,\r\n            vendor: vendor,\r\n            keyframes: frames\r\n        });\r\n    }\r\n    function atsupports() {\r\n        var pos = position();\r\n        var m = match(/^@supports *([^{]+)/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var supports = trim(m[1]);\r\n        if (!open()) {\r\n            return error(\"@supports missing '{'\");\r\n        }\r\n        var style = comments().concat(rules());\r\n        if (!close()) {\r\n            return error(\"@supports missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'supports',\r\n            supports: supports,\r\n            rules: style\r\n        });\r\n    }\r\n    function athost() {\r\n        var pos = position();\r\n        var m = match(/^@host\\s*/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        if (!open()) {\r\n            return error(\"@host missing '{'\");\r\n        }\r\n        var style = comments().concat(rules());\r\n        if (!close()) {\r\n            return error(\"@host missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'host',\r\n            rules: style\r\n        });\r\n    }\r\n    function atmedia() {\r\n        var pos = position();\r\n        var m = match(/^@media *([^{]+)/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var media = trim(m[1]);\r\n        if (!open()) {\r\n            return error(\"@media missing '{'\");\r\n        }\r\n        var style = comments().concat(rules());\r\n        if (!close()) {\r\n            return error(\"@media missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'media',\r\n            media: media,\r\n            rules: style\r\n        });\r\n    }\r\n    function atcustommedia() {\r\n        var pos = position();\r\n        var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        return pos({\r\n            type: 'custom-media',\r\n            name: trim(m[1]),\r\n            media: trim(m[2])\r\n        });\r\n    }\r\n    function atpage() {\r\n        var pos = position();\r\n        var m = match(/^@page */);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var sel = selector() || [];\r\n        if (!open()) {\r\n            return error(\"@page missing '{'\");\r\n        }\r\n        var decls = comments();\r\n        var decl;\r\n        while ((decl = declaration())) {\r\n            decls.push(decl);\r\n            decls = decls.concat(comments());\r\n        }\r\n        if (!close()) {\r\n            return error(\"@page missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'page',\r\n            selectors: sel,\r\n            declarations: decls\r\n        });\r\n    }\r\n    function atdocument() {\r\n        var pos = position();\r\n        var m = match(/^@([-\\w]+)?document *([^{]+)/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        var vendor = trim(m[1]);\r\n        var doc = trim(m[2]);\r\n        if (!open()) {\r\n            return error(\"@document missing '{'\");\r\n        }\r\n        var style = comments().concat(rules());\r\n        if (!close()) {\r\n            return error(\"@document missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'document',\r\n            document: doc,\r\n            vendor: vendor,\r\n            rules: style\r\n        });\r\n    }\r\n    function atfontface() {\r\n        var pos = position();\r\n        var m = match(/^@font-face\\s*/);\r\n        if (!m) {\r\n            return;\r\n        }\r\n        if (!open()) {\r\n            return error(\"@font-face missing '{'\");\r\n        }\r\n        var decls = comments();\r\n        var decl;\r\n        while ((decl = declaration())) {\r\n            decls.push(decl);\r\n            decls = decls.concat(comments());\r\n        }\r\n        if (!close()) {\r\n            return error(\"@font-face missing '}'\");\r\n        }\r\n        return pos({\r\n            type: 'font-face',\r\n            declarations: decls\r\n        });\r\n    }\r\n    var atimport = _compileAtrule('import');\r\n    var atcharset = _compileAtrule('charset');\r\n    var atnamespace = _compileAtrule('namespace');\r\n    function _compileAtrule(name) {\r\n        var re = new RegExp('^@' + name + '\\\\s*([^;]+);');\r\n        return function () {\r\n            var pos = position();\r\n            var m = match(re);\r\n            if (!m) {\r\n                return;\r\n            }\r\n            var ret = { type: name };\r\n            ret[name] = m[1].trim();\r\n            return pos(ret);\r\n        };\r\n    }\r\n    function atrule() {\r\n        if (css[0] !== '@') {\r\n            return;\r\n        }\r\n        return (atkeyframes() ||\r\n            atmedia() ||\r\n            atcustommedia() ||\r\n            atsupports() ||\r\n            atimport() ||\r\n            atcharset() ||\r\n            atnamespace() ||\r\n            atdocument() ||\r\n            atpage() ||\r\n            athost() ||\r\n            atfontface());\r\n    }\r\n    function rule() {\r\n        var pos = position();\r\n        var sel = selector();\r\n        if (!sel) {\r\n            return error('selector missing');\r\n        }\r\n        comments();\r\n        return pos({\r\n            type: 'rule',\r\n            selectors: sel,\r\n            declarations: declarations()\r\n        });\r\n    }\r\n    return addParent(stylesheet());\r\n}\r\nfunction trim(str) {\r\n    return str ? str.replace(/^\\s+|\\s+$/g, '') : '';\r\n}\r\nfunction addParent(obj, parent) {\r\n    var isNode = obj && typeof obj.type === 'string';\r\n    var childParent = isNode ? obj : parent;\r\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\r\n        var k = _a[_i];\r\n        var value = obj[k];\r\n        if (Array.isArray(value)) {\r\n            value.forEach(function (v) {\r\n                addParent(v, childParent);\r\n            });\r\n        }\r\n        else if (value && typeof value === 'object') {\r\n            addParent(value, childParent);\r\n        }\r\n    }\r\n    if (isNode) {\r\n        Object.defineProperty(obj, 'parent', {\r\n            configurable: true,\r\n            writable: true,\r\n            enumerable: false,\r\n            value: parent || null\r\n        });\r\n    }\r\n    return obj;\r\n}\n\nvar tagMap = {\r\n    script: 'noscript',\r\n    altglyph: 'altGlyph',\r\n    altglyphdef: 'altGlyphDef',\r\n    altglyphitem: 'altGlyphItem',\r\n    animatecolor: 'animateColor',\r\n    animatemotion: 'animateMotion',\r\n    animatetransform: 'animateTransform',\r\n    clippath: 'clipPath',\r\n    feblend: 'feBlend',\r\n    fecolormatrix: 'feColorMatrix',\r\n    fecomponenttransfer: 'feComponentTransfer',\r\n    fecomposite: 'feComposite',\r\n    feconvolvematrix: 'feConvolveMatrix',\r\n    fediffuselighting: 'feDiffuseLighting',\r\n    fedisplacementmap: 'feDisplacementMap',\r\n    fedistantlight: 'feDistantLight',\r\n    fedropshadow: 'feDropShadow',\r\n    feflood: 'feFlood',\r\n    fefunca: 'feFuncA',\r\n    fefuncb: 'feFuncB',\r\n    fefuncg: 'feFuncG',\r\n    fefuncr: 'feFuncR',\r\n    fegaussianblur: 'feGaussianBlur',\r\n    feimage: 'feImage',\r\n    femerge: 'feMerge',\r\n    femergenode: 'feMergeNode',\r\n    femorphology: 'feMorphology',\r\n    feoffset: 'feOffset',\r\n    fepointlight: 'fePointLight',\r\n    fespecularlighting: 'feSpecularLighting',\r\n    fespotlight: 'feSpotLight',\r\n    fetile: 'feTile',\r\n    feturbulence: 'feTurbulence',\r\n    foreignobject: 'foreignObject',\r\n    glyphref: 'glyphRef',\r\n    lineargradient: 'linearGradient',\r\n    radialgradient: 'radialGradient'\r\n};\r\nfunction getTagName(n) {\r\n    var tagName = tagMap[n.tagName] ? tagMap[n.tagName] : n.tagName;\r\n    if (tagName === 'link' && n.attributes._cssText) {\r\n        tagName = 'style';\r\n    }\r\n    return tagName;\r\n}\r\nfunction escapeRegExp(str) {\r\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\nvar HOVER_SELECTOR = /([^\\\\]):hover/;\r\nvar HOVER_SELECTOR_GLOBAL = new RegExp(HOVER_SELECTOR.source, 'g');\r\nfunction addHoverClass(cssText, cache) {\r\n    var cachedStyle = cache === null || cache === void 0 ? void 0 : cache.stylesWithHoverClass.get(cssText);\r\n    if (cachedStyle)\r\n        return cachedStyle;\r\n    var ast = parse(cssText, {\r\n        silent: true\r\n    });\r\n    if (!ast.stylesheet) {\r\n        return cssText;\r\n    }\r\n    var selectors = [];\r\n    ast.stylesheet.rules.forEach(function (rule) {\r\n        if ('selectors' in rule) {\r\n            (rule.selectors || []).forEach(function (selector) {\r\n                if (HOVER_SELECTOR.test(selector)) {\r\n                    selectors.push(selector);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    if (selectors.length === 0) {\r\n        return cssText;\r\n    }\r\n    var selectorMatcher = new RegExp(selectors\r\n        .filter(function (selector, index) { return selectors.indexOf(selector) === index; })\r\n        .sort(function (a, b) { return b.length - a.length; })\r\n        .map(function (selector) {\r\n        return escapeRegExp(selector);\r\n    })\r\n        .join('|'), 'g');\r\n    var result = cssText.replace(selectorMatcher, function (selector) {\r\n        var newSelector = selector.replace(HOVER_SELECTOR_GLOBAL, '$1.\\\\:hover');\r\n        return \"\".concat(selector, \", \").concat(newSelector);\r\n    });\r\n    cache === null || cache === void 0 ? void 0 : cache.stylesWithHoverClass.set(cssText, result);\r\n    return result;\r\n}\r\nfunction createCache() {\r\n    var stylesWithHoverClass = new Map();\r\n    return {\r\n        stylesWithHoverClass: stylesWithHoverClass\r\n    };\r\n}\r\nfunction buildNode(n, options) {\r\n    var doc = options.doc, hackCss = options.hackCss, cache = options.cache;\r\n    switch (n.type) {\r\n        case NodeType.Document:\r\n            return doc.implementation.createDocument(null, '', null);\r\n        case NodeType.DocumentType:\r\n            return doc.implementation.createDocumentType(n.name || 'html', n.publicId, n.systemId);\r\n        case NodeType.Element: {\r\n            var tagName = getTagName(n);\r\n            var node_1;\r\n            if (n.isSVG) {\r\n                node_1 = doc.createElementNS('http://www.w3.org/2000/svg', tagName);\r\n            }\r\n            else {\r\n                node_1 = doc.createElement(tagName);\r\n            }\r\n            var specialAttributes = {};\r\n            for (var name_1 in n.attributes) {\r\n                if (!Object.prototype.hasOwnProperty.call(n.attributes, name_1)) {\r\n                    continue;\r\n                }\r\n                var value = n.attributes[name_1];\r\n                if (tagName === 'option' &&\r\n                    name_1 === 'selected' &&\r\n                    value === false) {\r\n                    continue;\r\n                }\r\n                if (value === true)\r\n                    value = '';\r\n                if (name_1.startsWith('rr_')) {\r\n                    specialAttributes[name_1] = value;\r\n                    continue;\r\n                }\r\n                var isTextarea = tagName === 'textarea' && name_1 === 'value';\r\n                var isRemoteOrDynamicCss = tagName === 'style' && name_1 === '_cssText';\r\n                if (isRemoteOrDynamicCss && hackCss && typeof value === 'string') {\r\n                    value = addHoverClass(value, cache);\r\n                }\r\n                if ((isTextarea || isRemoteOrDynamicCss) && typeof value === 'string') {\r\n                    var child = doc.createTextNode(value);\r\n                    for (var _i = 0, _a = Array.from(node_1.childNodes); _i < _a.length; _i++) {\r\n                        var c = _a[_i];\r\n                        if (c.nodeType === node_1.TEXT_NODE) {\r\n                            node_1.removeChild(c);\r\n                        }\r\n                    }\r\n                    node_1.appendChild(child);\r\n                    continue;\r\n                }\r\n                try {\r\n                    if (n.isSVG && name_1 === 'xlink:href') {\r\n                        node_1.setAttributeNS('http://www.w3.org/1999/xlink', name_1, value.toString());\r\n                    }\r\n                    else if (name_1 === 'onload' ||\r\n                        name_1 === 'onclick' ||\r\n                        name_1.substring(0, 7) === 'onmouse') {\r\n                        node_1.setAttribute('_' + name_1, value.toString());\r\n                    }\r\n                    else if (tagName === 'meta' &&\r\n                        n.attributes['http-equiv'] === 'Content-Security-Policy' &&\r\n                        name_1 === 'content') {\r\n                        node_1.setAttribute('csp-content', value.toString());\r\n                        continue;\r\n                    }\r\n                    else if (tagName === 'link' &&\r\n                        n.attributes.rel === 'preload' &&\r\n                        n.attributes.as === 'script') {\r\n                    }\r\n                    else if (tagName === 'link' &&\r\n                        n.attributes.rel === 'prefetch' &&\r\n                        typeof n.attributes.href === 'string' &&\r\n                        n.attributes.href.endsWith('.js')) {\r\n                    }\r\n                    else if (tagName === 'img' &&\r\n                        n.attributes.srcset &&\r\n                        n.attributes.rr_dataURL) {\r\n                        node_1.setAttribute('rrweb-original-srcset', n.attributes.srcset);\r\n                    }\r\n                    else {\r\n                        node_1.setAttribute(name_1, value.toString());\r\n                    }\r\n                }\r\n                catch (error) {\r\n                }\r\n            }\r\n            var _loop_1 = function (name_2) {\r\n                var value = specialAttributes[name_2];\r\n                if (tagName === 'canvas' && name_2 === 'rr_dataURL') {\r\n                    var image_1 = document.createElement('img');\r\n                    image_1.onload = function () {\r\n                        var ctx = node_1.getContext('2d');\r\n                        if (ctx) {\r\n                            ctx.drawImage(image_1, 0, 0, image_1.width, image_1.height);\r\n                        }\r\n                    };\r\n                    image_1.src = value.toString();\r\n                    if (node_1.RRNodeType)\r\n                        node_1.rr_dataURL = value.toString();\r\n                }\r\n                else if (tagName === 'img' && name_2 === 'rr_dataURL') {\r\n                    var image = node_1;\r\n                    if (!image.currentSrc.startsWith('data:')) {\r\n                        image.setAttribute('rrweb-original-src', n.attributes.src);\r\n                        image.src = value.toString();\r\n                    }\r\n                }\r\n                if (name_2 === 'rr_width') {\r\n                    node_1.style.width = value.toString();\r\n                }\r\n                else if (name_2 === 'rr_height') {\r\n                    node_1.style.height = value.toString();\r\n                }\r\n                else if (name_2 === 'rr_mediaCurrentTime' &&\r\n                    typeof value === 'number') {\r\n                    node_1.currentTime = value;\r\n                }\r\n                else if (name_2 === 'rr_mediaState') {\r\n                    switch (value) {\r\n                        case 'played':\r\n                            node_1\r\n                                .play()[\"catch\"](function (e) { return console.warn('media playback error', e); });\r\n                            break;\r\n                        case 'paused':\r\n                            node_1.pause();\r\n                            break;\r\n                    }\r\n                }\r\n            };\r\n            for (var name_2 in specialAttributes) {\r\n                _loop_1(name_2);\r\n            }\r\n            if (n.isShadowHost) {\r\n                if (!node_1.shadowRoot) {\r\n                    node_1.attachShadow({ mode: 'open' });\r\n                }\r\n                else {\r\n                    while (node_1.shadowRoot.firstChild) {\r\n                        node_1.shadowRoot.removeChild(node_1.shadowRoot.firstChild);\r\n                    }\r\n                }\r\n            }\r\n            return node_1;\r\n        }\r\n        case NodeType.Text:\r\n            return doc.createTextNode(n.isStyle && hackCss\r\n                ? addHoverClass(n.textContent, cache)\r\n                : n.textContent);\r\n        case NodeType.CDATA:\r\n            return doc.createCDATASection(n.textContent);\r\n        case NodeType.Comment:\r\n            return doc.createComment(n.textContent);\r\n        default:\r\n            return null;\r\n    }\r\n}\r\nfunction buildNodeWithSN(n, options) {\r\n    var doc = options.doc, mirror = options.mirror, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.hackCss, hackCss = _b === void 0 ? true : _b, afterAppend = options.afterAppend, cache = options.cache;\r\n    var node = buildNode(n, { doc: doc, hackCss: hackCss, cache: cache });\r\n    if (!node) {\r\n        return null;\r\n    }\r\n    if (n.rootId && mirror.getNode(n.rootId) !== doc) {\r\n        mirror.replace(n.rootId, doc);\r\n    }\r\n    if (n.type === NodeType.Document) {\r\n        doc.close();\r\n        doc.open();\r\n        if (n.compatMode === 'BackCompat' &&\r\n            n.childNodes &&\r\n            n.childNodes[0].type !== NodeType.DocumentType) {\r\n            if (n.childNodes[0].type === NodeType.Element &&\r\n                'xmlns' in n.childNodes[0].attributes &&\r\n                n.childNodes[0].attributes.xmlns === 'http://www.w3.org/1999/xhtml') {\r\n                doc.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">');\r\n            }\r\n            else {\r\n                doc.write('<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">');\r\n            }\r\n        }\r\n        node = doc;\r\n    }\r\n    mirror.add(node, n);\r\n    if ((n.type === NodeType.Document || n.type === NodeType.Element) &&\r\n        !skipChild) {\r\n        for (var _i = 0, _c = n.childNodes; _i < _c.length; _i++) {\r\n            var childN = _c[_i];\r\n            var childNode = buildNodeWithSN(childN, {\r\n                doc: doc,\r\n                mirror: mirror,\r\n                skipChild: false,\r\n                hackCss: hackCss,\r\n                afterAppend: afterAppend,\r\n                cache: cache\r\n            });\r\n            if (!childNode) {\r\n                console.warn('Failed to rebuild', childN);\r\n                continue;\r\n            }\r\n            if (childN.isShadow && isElement(node) && node.shadowRoot) {\r\n                node.shadowRoot.appendChild(childNode);\r\n            }\r\n            else {\r\n                node.appendChild(childNode);\r\n            }\r\n            if (afterAppend) {\r\n                afterAppend(childNode, childN.id);\r\n            }\r\n        }\r\n    }\r\n    return node;\r\n}\r\nfunction visit(mirror, onVisit) {\r\n    function walk(node) {\r\n        onVisit(node);\r\n    }\r\n    for (var _i = 0, _a = mirror.getIds(); _i < _a.length; _i++) {\r\n        var id = _a[_i];\r\n        if (mirror.has(id)) {\r\n            walk(mirror.getNode(id));\r\n        }\r\n    }\r\n}\r\nfunction handleScroll(node, mirror) {\r\n    var n = mirror.getMeta(node);\r\n    if ((n === null || n === void 0 ? void 0 : n.type) !== NodeType.Element) {\r\n        return;\r\n    }\r\n    var el = node;\r\n    for (var name_3 in n.attributes) {\r\n        if (!(Object.prototype.hasOwnProperty.call(n.attributes, name_3) &&\r\n            name_3.startsWith('rr_'))) {\r\n            continue;\r\n        }\r\n        var value = n.attributes[name_3];\r\n        if (name_3 === 'rr_scrollLeft') {\r\n            el.scrollLeft = value;\r\n        }\r\n        if (name_3 === 'rr_scrollTop') {\r\n            el.scrollTop = value;\r\n        }\r\n    }\r\n}\r\nfunction rebuild(n, options) {\r\n    var doc = options.doc, onVisit = options.onVisit, _a = options.hackCss, hackCss = _a === void 0 ? true : _a, afterAppend = options.afterAppend, cache = options.cache, _b = options.mirror, mirror = _b === void 0 ? new Mirror() : _b;\r\n    var node = buildNodeWithSN(n, {\r\n        doc: doc,\r\n        mirror: mirror,\r\n        skipChild: false,\r\n        hackCss: hackCss,\r\n        afterAppend: afterAppend,\r\n        cache: cache\r\n    });\r\n    visit(mirror, function (visitedNode) {\r\n        if (onVisit) {\r\n            onVisit(visitedNode);\r\n        }\r\n        handleScroll(visitedNode, mirror);\r\n    });\r\n    return node;\r\n}\n\nexport { IGNORED_NODE, Mirror, NodeType, addHoverClass, buildNodeWithSN, classMatchesRegex, createCache, createMirror, genId, getCssRuleString, getCssRulesString, is2DCanvasBlank, isCSSImportRule, isElement, isNativeShadowDom, isShadowRoot, maskInputValue, needMaskingText, rebuild, serializeNodeWithId, snapshot, transformAttribute };\n","import { classMatchesRegex, IGNORED_NODE, isShadowRoot } from '../../rrweb-snapshot/es/rrweb-snapshot.js';\n\nfunction on(type, fn, target = document) {\r\n    const options = { capture: true, passive: true };\r\n    target.addEventListener(type, fn, options);\r\n    return () => target.removeEventListener(type, fn, options);\r\n}\r\nconst DEPARTED_MIRROR_ACCESS_WARNING = 'Please stop import mirror directly. Instead of that,' +\r\n    '\\r\\n' +\r\n    'now you can use replayer.getMirror() to access the mirror instance of a replayer,' +\r\n    '\\r\\n' +\r\n    'or you can use record.mirror to access the mirror instance during recording.';\r\nlet _mirror = {\r\n    map: {},\r\n    getId() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return -1;\r\n    },\r\n    getNode() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return null;\r\n    },\r\n    removeNodeFromMap() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n    },\r\n    has() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n        return false;\r\n    },\r\n    reset() {\r\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n    },\r\n};\r\nif (typeof window !== 'undefined' && window.Proxy && window.Reflect) {\r\n    _mirror = new Proxy(_mirror, {\r\n        get(target, prop, receiver) {\r\n            if (prop === 'map') {\r\n                console.error(DEPARTED_MIRROR_ACCESS_WARNING);\r\n            }\r\n            return Reflect.get(target, prop, receiver);\r\n        },\r\n    });\r\n}\r\nfunction throttle(func, wait, options = {}) {\r\n    let timeout = null;\r\n    let previous = 0;\r\n    return function (...args) {\r\n        const now = Date.now();\r\n        if (!previous && options.leading === false) {\r\n            previous = now;\r\n        }\r\n        const remaining = wait - (now - previous);\r\n        const context = this;\r\n        if (remaining <= 0 || remaining > wait) {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n            }\r\n            previous = now;\r\n            func.apply(context, args);\r\n        }\r\n        else if (!timeout && options.trailing !== false) {\r\n            timeout = setTimeout(() => {\r\n                previous = options.leading === false ? 0 : Date.now();\r\n                timeout = null;\r\n                func.apply(context, args);\r\n            }, remaining);\r\n        }\r\n    };\r\n}\r\nfunction hookSetter(target, key, d, isRevoked, win = window) {\r\n    const original = win.Object.getOwnPropertyDescriptor(target, key);\r\n    win.Object.defineProperty(target, key, isRevoked\r\n        ? d\r\n        : {\r\n            set(value) {\r\n                setTimeout(() => {\r\n                    d.set.call(this, value);\r\n                }, 0);\r\n                if (original && original.set) {\r\n                    original.set.call(this, value);\r\n                }\r\n            },\r\n        });\r\n    return () => hookSetter(target, key, original || {}, true);\r\n}\r\nfunction patch(source, name, replacement) {\r\n    try {\r\n        if (!(name in source)) {\r\n            return () => {\r\n            };\r\n        }\r\n        const original = source[name];\r\n        const wrapped = replacement(original);\r\n        if (typeof wrapped === 'function') {\r\n            wrapped.prototype = wrapped.prototype || {};\r\n            Object.defineProperties(wrapped, {\r\n                __rrweb_original__: {\r\n                    enumerable: false,\r\n                    value: original,\r\n                },\r\n            });\r\n        }\r\n        source[name] = wrapped;\r\n        return () => {\r\n            source[name] = original;\r\n        };\r\n    }\r\n    catch (_a) {\r\n        return () => {\r\n        };\r\n    }\r\n}\r\nfunction getWindowHeight() {\r\n    return (window.innerHeight ||\r\n        (document.documentElement && document.documentElement.clientHeight) ||\r\n        (document.body && document.body.clientHeight));\r\n}\r\nfunction getWindowWidth() {\r\n    return (window.innerWidth ||\r\n        (document.documentElement && document.documentElement.clientWidth) ||\r\n        (document.body && document.body.clientWidth));\r\n}\r\nfunction isBlocked(node, blockClass, blockSelector, checkAncestors) {\r\n    if (!node) {\r\n        return false;\r\n    }\r\n    const el = node.nodeType === node.ELEMENT_NODE\r\n        ? node\r\n        : node.parentElement;\r\n    if (!el)\r\n        return false;\r\n    if (typeof blockClass === 'string') {\r\n        if (el.classList.contains(blockClass))\r\n            return true;\r\n        if (checkAncestors && el.closest('.' + blockClass) !== null)\r\n            return true;\r\n    }\r\n    else {\r\n        if (classMatchesRegex(el, blockClass, checkAncestors))\r\n            return true;\r\n    }\r\n    if (blockSelector) {\r\n        if (node.matches(blockSelector))\r\n            return true;\r\n        if (checkAncestors && el.closest(blockSelector) !== null)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isSerialized(n, mirror) {\r\n    return mirror.getId(n) !== -1;\r\n}\r\nfunction isIgnored(n, mirror) {\r\n    return mirror.getId(n) === IGNORED_NODE;\r\n}\r\nfunction isAncestorRemoved(target, mirror) {\r\n    if (isShadowRoot(target)) {\r\n        return false;\r\n    }\r\n    const id = mirror.getId(target);\r\n    if (!mirror.has(id)) {\r\n        return true;\r\n    }\r\n    if (target.parentNode &&\r\n        target.parentNode.nodeType === target.DOCUMENT_NODE) {\r\n        return false;\r\n    }\r\n    if (!target.parentNode) {\r\n        return true;\r\n    }\r\n    return isAncestorRemoved(target.parentNode, mirror);\r\n}\r\nfunction isTouchEvent(event) {\r\n    return Boolean(event.changedTouches);\r\n}\r\nfunction polyfill(win = window) {\r\n    if ('NodeList' in win && !win.NodeList.prototype.forEach) {\r\n        win.NodeList.prototype.forEach = Array.prototype\r\n            .forEach;\r\n    }\r\n    if ('DOMTokenList' in win && !win.DOMTokenList.prototype.forEach) {\r\n        win.DOMTokenList.prototype.forEach = Array.prototype\r\n            .forEach;\r\n    }\r\n    if (!Node.prototype.contains) {\r\n        Node.prototype.contains = (...args) => {\r\n            let node = args[0];\r\n            if (!(0 in args)) {\r\n                throw new TypeError('1 argument is required');\r\n            }\r\n            do {\r\n                if (this === node) {\r\n                    return true;\r\n                }\r\n            } while ((node = node && node.parentNode));\r\n            return false;\r\n        };\r\n    }\r\n}\r\nfunction queueToResolveTrees(queue) {\r\n    const queueNodeMap = {};\r\n    const putIntoMap = (m, parent) => {\r\n        const nodeInTree = {\r\n            value: m,\r\n            parent,\r\n            children: [],\r\n        };\r\n        queueNodeMap[m.node.id] = nodeInTree;\r\n        return nodeInTree;\r\n    };\r\n    const queueNodeTrees = [];\r\n    for (const mutation of queue) {\r\n        const { nextId, parentId } = mutation;\r\n        if (nextId && nextId in queueNodeMap) {\r\n            const nextInTree = queueNodeMap[nextId];\r\n            if (nextInTree.parent) {\r\n                const idx = nextInTree.parent.children.indexOf(nextInTree);\r\n                nextInTree.parent.children.splice(idx, 0, putIntoMap(mutation, nextInTree.parent));\r\n            }\r\n            else {\r\n                const idx = queueNodeTrees.indexOf(nextInTree);\r\n                queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\r\n            }\r\n            continue;\r\n        }\r\n        if (parentId in queueNodeMap) {\r\n            const parentInTree = queueNodeMap[parentId];\r\n            parentInTree.children.push(putIntoMap(mutation, parentInTree));\r\n            continue;\r\n        }\r\n        queueNodeTrees.push(putIntoMap(mutation, null));\r\n    }\r\n    return queueNodeTrees;\r\n}\r\nfunction iterateResolveTree(tree, cb) {\r\n    cb(tree.value);\r\n    for (let i = tree.children.length - 1; i >= 0; i--) {\r\n        iterateResolveTree(tree.children[i], cb);\r\n    }\r\n}\r\nfunction isSerializedIframe(n, mirror) {\r\n    return Boolean(n.nodeName === 'IFRAME' && mirror.getMeta(n));\r\n}\r\nfunction isSerializedStylesheet(n, mirror) {\r\n    return Boolean(n.nodeName === 'LINK' &&\r\n        n.nodeType === n.ELEMENT_NODE &&\r\n        n.getAttribute &&\r\n        n.getAttribute('rel') === 'stylesheet' &&\r\n        mirror.getMeta(n));\r\n}\r\nfunction getBaseDimension(node, rootIframe) {\r\n    var _a, _b;\r\n    const frameElement = (_b = (_a = node.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.frameElement;\r\n    if (!frameElement || frameElement === rootIframe) {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            relativeScale: 1,\r\n            absoluteScale: 1,\r\n        };\r\n    }\r\n    const frameDimension = frameElement.getBoundingClientRect();\r\n    const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\r\n    const relativeScale = frameDimension.height / frameElement.clientHeight;\r\n    return {\r\n        x: frameDimension.x * frameBaseDimension.relativeScale +\r\n            frameBaseDimension.x,\r\n        y: frameDimension.y * frameBaseDimension.relativeScale +\r\n            frameBaseDimension.y,\r\n        relativeScale,\r\n        absoluteScale: frameBaseDimension.absoluteScale * relativeScale,\r\n    };\r\n}\r\nfunction hasShadowRoot(n) {\r\n    return Boolean(n === null || n === void 0 ? void 0 : n.shadowRoot);\r\n}\r\nfunction getNestedRule(rules, position) {\r\n    const rule = rules[position[0]];\r\n    if (position.length === 1) {\r\n        return rule;\r\n    }\r\n    else {\r\n        return getNestedRule(rule.cssRules[position[1]].cssRules, position.slice(2));\r\n    }\r\n}\r\nfunction getPositionsAndIndex(nestedIndex) {\r\n    const positions = [...nestedIndex];\r\n    const index = positions.pop();\r\n    return { positions, index };\r\n}\r\nfunction uniqueTextMutations(mutations) {\r\n    const idSet = new Set();\r\n    const uniqueMutations = [];\r\n    for (let i = mutations.length; i--;) {\r\n        const mutation = mutations[i];\r\n        if (!idSet.has(mutation.id)) {\r\n            uniqueMutations.push(mutation);\r\n            idSet.add(mutation.id);\r\n        }\r\n    }\r\n    return uniqueMutations;\r\n}\r\nclass StyleSheetMirror {\r\n    constructor() {\r\n        this.id = 1;\r\n        this.styleIDMap = new WeakMap();\r\n        this.idStyleMap = new Map();\r\n    }\r\n    getId(stylesheet) {\r\n        var _a;\r\n        return (_a = this.styleIDMap.get(stylesheet)) !== null && _a !== void 0 ? _a : -1;\r\n    }\r\n    has(stylesheet) {\r\n        return this.styleIDMap.has(stylesheet);\r\n    }\r\n    add(stylesheet, id) {\r\n        if (this.has(stylesheet))\r\n            return this.getId(stylesheet);\r\n        let newId;\r\n        if (id === undefined) {\r\n            newId = this.id++;\r\n        }\r\n        else\r\n            newId = id;\r\n        this.styleIDMap.set(stylesheet, newId);\r\n        this.idStyleMap.set(newId, stylesheet);\r\n        return newId;\r\n    }\r\n    getStyle(id) {\r\n        return this.idStyleMap.get(id) || null;\r\n    }\r\n    reset() {\r\n        this.styleIDMap = new WeakMap();\r\n        this.idStyleMap = new Map();\r\n        this.id = 1;\r\n    }\r\n    generateId() {\r\n        return this.id++;\r\n    }\r\n}\n\nexport { StyleSheetMirror, _mirror, getBaseDimension, getNestedRule, getPositionsAndIndex, getWindowHeight, getWindowWidth, hasShadowRoot, hookSetter, isAncestorRemoved, isBlocked, isIgnored, isSerialized, isSerializedIframe, isSerializedStylesheet, isTouchEvent, iterateResolveTree, on, patch, polyfill, queueToResolveTrees, throttle, uniqueTextMutations };\n","var EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar ReplayerEvents = /* @__PURE__ */ ((ReplayerEvents2) => {\n  ReplayerEvents2[\"Start\"] = \"start\";\n  ReplayerEvents2[\"Pause\"] = \"pause\";\n  ReplayerEvents2[\"Resume\"] = \"resume\";\n  ReplayerEvents2[\"Resize\"] = \"resize\";\n  ReplayerEvents2[\"Finish\"] = \"finish\";\n  ReplayerEvents2[\"FullsnapshotRebuilded\"] = \"fullsnapshot-rebuilded\";\n  ReplayerEvents2[\"LoadStylesheetStart\"] = \"load-stylesheet-start\";\n  ReplayerEvents2[\"LoadStylesheetEnd\"] = \"load-stylesheet-end\";\n  ReplayerEvents2[\"SkipStart\"] = \"skip-start\";\n  ReplayerEvents2[\"SkipEnd\"] = \"skip-end\";\n  ReplayerEvents2[\"MouseInteraction\"] = \"mouse-interaction\";\n  ReplayerEvents2[\"EventCast\"] = \"event-cast\";\n  ReplayerEvents2[\"CustomEvent\"] = \"custom-event\";\n  ReplayerEvents2[\"Flush\"] = \"flush\";\n  ReplayerEvents2[\"StateChange\"] = \"state-change\";\n  ReplayerEvents2[\"PlayBack\"] = \"play-back\";\n  ReplayerEvents2[\"Destroy\"] = \"destroy\";\n  return ReplayerEvents2;\n})(ReplayerEvents || {});\n\nexport { CanvasContext, EventType, IncrementalSource, MouseInteractions, ReplayerEvents };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nexport { __awaiter, __rest };\n","/*\n * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nvar encode = function (arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nvar decode = function (base64) {\n    var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    var arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n\nexport { decode, encode };\n","var WorkerClass = null;\n\ntry {\n    var WorkerThreads =\n        typeof module !== 'undefined' && typeof module.require === 'function' && module.require('worker_threads') ||\n        typeof __non_webpack_require__ === 'function' && __non_webpack_require__('worker_threads') ||\n        typeof require === 'function' && require('worker_threads');\n    WorkerClass = WorkerThreads.Worker;\n} catch(e) {} // eslint-disable-line\n\nexport { WorkerClass };\n","import { WorkerClass } from './_rollup-plugin-web-worker-loader__helper__node__WorkerClass.js';\n\nfunction decodeBase64(base64, enableUnicode) {\n    return Buffer.from(base64, 'base64').toString(enableUnicode ? 'utf16' : 'utf8');\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    return function WorkerFactory(options) {\n        return new WorkerClass(body, Object.assign({}, options, { eval: true }));\n    };\n}\n\nexport { createBase64WorkerFactory };\n","var kIsNodeJS = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n\nfunction isNodeJS() {\n    return kIsNodeJS;\n}\n\nexport { isNodeJS };\n","import { createBase64WorkerFactory as createBase64WorkerFactory$1 } from './_rollup-plugin-web-worker-loader__helper__node__createBase64WorkerFactory.js';\nimport { createBase64WorkerFactory as createBase64WorkerFactory$2 } from './_rollup-plugin-web-worker-loader__helper__browser__createBase64WorkerFactory.js';\nimport { isNodeJS } from './_rollup-plugin-web-worker-loader__helper__auto__isNodeJS.js';\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    if (isNodeJS()) {\n        return createBase64WorkerFactory$1(base64, sourcemapArg, enableUnicodeArg);\n    }\n    return createBase64WorkerFactory$2(base64, sourcemapArg, enableUnicodeArg);\n}\n\nexport { createBase64WorkerFactory };\n","var NodeType$1;\r\n(function (NodeType) {\r\n    NodeType[NodeType[\"Document\"] = 0] = \"Document\";\r\n    NodeType[NodeType[\"DocumentType\"] = 1] = \"DocumentType\";\r\n    NodeType[NodeType[\"Element\"] = 2] = \"Element\";\r\n    NodeType[NodeType[\"Text\"] = 3] = \"Text\";\r\n    NodeType[NodeType[\"CDATA\"] = 4] = \"CDATA\";\r\n    NodeType[NodeType[\"Comment\"] = 5] = \"Comment\";\r\n})(NodeType$1 || (NodeType$1 = {}));\nvar Mirror$1 = (function () {\r\n    function Mirror() {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    }\r\n    Mirror.prototype.getId = function (n) {\r\n        var _a;\r\n        if (!n)\r\n            return -1;\r\n        var id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\r\n        return id !== null && id !== void 0 ? id : -1;\r\n    };\r\n    Mirror.prototype.getNode = function (id) {\r\n        return this.idNodeMap.get(id) || null;\r\n    };\r\n    Mirror.prototype.getIds = function () {\r\n        return Array.from(this.idNodeMap.keys());\r\n    };\r\n    Mirror.prototype.getMeta = function (n) {\r\n        return this.nodeMetaMap.get(n) || null;\r\n    };\r\n    Mirror.prototype.removeNodeFromMap = function (n) {\r\n        var _this = this;\r\n        var id = this.getId(n);\r\n        this.idNodeMap[\"delete\"](id);\r\n        if (n.childNodes) {\r\n            n.childNodes.forEach(function (childNode) {\r\n                return _this.removeNodeFromMap(childNode);\r\n            });\r\n        }\r\n    };\r\n    Mirror.prototype.has = function (id) {\r\n        return this.idNodeMap.has(id);\r\n    };\r\n    Mirror.prototype.hasNode = function (node) {\r\n        return this.nodeMetaMap.has(node);\r\n    };\r\n    Mirror.prototype.add = function (n, meta) {\r\n        var id = meta.id;\r\n        this.idNodeMap.set(id, n);\r\n        this.nodeMetaMap.set(n, meta);\r\n    };\r\n    Mirror.prototype.replace = function (id, n) {\r\n        var oldNode = this.getNode(id);\r\n        if (oldNode) {\r\n            var meta = this.nodeMetaMap.get(oldNode);\r\n            if (meta)\r\n                this.nodeMetaMap.set(n, meta);\r\n        }\r\n        this.idNodeMap.set(id, n);\r\n    };\r\n    Mirror.prototype.reset = function () {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    };\r\n    return Mirror;\r\n}());\r\nfunction createMirror$1() {\r\n    return new Mirror$1();\r\n}\n\nfunction parseCSSText(cssText) {\r\n    const res = {};\r\n    const listDelimiter = /;(?![^(]*\\))/g;\r\n    const propertyDelimiter = /:(.+)/;\r\n    const comment = /\\/\\*.*?\\*\\//g;\r\n    cssText\r\n        .replace(comment, '')\r\n        .split(listDelimiter)\r\n        .forEach(function (item) {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiter);\r\n            tmp.length > 1 && (res[camelize(tmp[0].trim())] = tmp[1].trim());\r\n        }\r\n    });\r\n    return res;\r\n}\r\nfunction toCSSText(style) {\r\n    const properties = [];\r\n    for (const name in style) {\r\n        const value = style[name];\r\n        if (typeof value !== 'string')\r\n            continue;\r\n        const normalizedName = hyphenate(name);\r\n        properties.push(`${normalizedName}: ${value};`);\r\n    }\r\n    return properties.join(' ');\r\n}\r\nconst camelizeRE = /-([a-z])/g;\r\nconst CUSTOM_PROPERTY_REGEX = /^--[a-zA-Z0-9-]+$/;\r\nconst camelize = (str) => {\r\n    if (CUSTOM_PROPERTY_REGEX.test(str))\r\n        return str;\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n};\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\nconst hyphenate = (str) => {\r\n    return str.replace(hyphenateRE, '-$1').toLowerCase();\r\n};\n\nclass BaseRRNode {\r\n    constructor(..._args) {\r\n        this.childNodes = [];\r\n        this.parentElement = null;\r\n        this.parentNode = null;\r\n        this.ELEMENT_NODE = NodeType.ELEMENT_NODE;\r\n        this.TEXT_NODE = NodeType.TEXT_NODE;\r\n    }\r\n    get firstChild() {\r\n        return this.childNodes[0] || null;\r\n    }\r\n    get lastChild() {\r\n        return this.childNodes[this.childNodes.length - 1] || null;\r\n    }\r\n    get nextSibling() {\r\n        const parentNode = this.parentNode;\r\n        if (!parentNode)\r\n            return null;\r\n        const siblings = parentNode.childNodes;\r\n        const index = siblings.indexOf(this);\r\n        return siblings[index + 1] || null;\r\n    }\r\n    contains(node) {\r\n        if (node === this)\r\n            return true;\r\n        for (const child of this.childNodes) {\r\n            if (child.contains(node))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    appendChild(_newChild) {\r\n        throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`);\r\n    }\r\n    insertBefore(_newChild, _refChild) {\r\n        throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`);\r\n    }\r\n    removeChild(_node) {\r\n        throw new Error(`RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`);\r\n    }\r\n    toString() {\r\n        return 'RRNode';\r\n    }\r\n}\r\nfunction BaseRRDocumentImpl(RRNodeClass) {\r\n    return class BaseRRDocument extends RRNodeClass {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.nodeType = NodeType.DOCUMENT_NODE;\r\n            this.nodeName = '#document';\r\n            this.compatMode = 'CSS1Compat';\r\n            this.RRNodeType = NodeType$1.Document;\r\n            this.textContent = null;\r\n        }\r\n        get documentElement() {\r\n            return (this.childNodes.find((node) => node.RRNodeType === NodeType$1.Element &&\r\n                node.tagName === 'HTML') || null);\r\n        }\r\n        get body() {\r\n            var _a;\r\n            return (((_a = this.documentElement) === null || _a === void 0 ? void 0 : _a.childNodes.find((node) => node.RRNodeType === NodeType$1.Element &&\r\n                node.tagName === 'BODY')) || null);\r\n        }\r\n        get head() {\r\n            var _a;\r\n            return (((_a = this.documentElement) === null || _a === void 0 ? void 0 : _a.childNodes.find((node) => node.RRNodeType === NodeType$1.Element &&\r\n                node.tagName === 'HEAD')) || null);\r\n        }\r\n        get implementation() {\r\n            return this;\r\n        }\r\n        get firstElementChild() {\r\n            return this.documentElement;\r\n        }\r\n        appendChild(childNode) {\r\n            const nodeType = childNode.RRNodeType;\r\n            if (nodeType === NodeType$1.Element ||\r\n                nodeType === NodeType$1.DocumentType) {\r\n                if (this.childNodes.some((s) => s.RRNodeType === nodeType)) {\r\n                    throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${nodeType === NodeType$1.Element ? 'RRElement' : 'RRDoctype'} on RRDocument allowed.`);\r\n                }\r\n            }\r\n            childNode.parentElement = null;\r\n            childNode.parentNode = this;\r\n            this.childNodes.push(childNode);\r\n            return childNode;\r\n        }\r\n        insertBefore(newChild, refChild) {\r\n            const nodeType = newChild.RRNodeType;\r\n            if (nodeType === NodeType$1.Element ||\r\n                nodeType === NodeType$1.DocumentType) {\r\n                if (this.childNodes.some((s) => s.RRNodeType === nodeType)) {\r\n                    throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${nodeType === NodeType$1.Element ? 'RRElement' : 'RRDoctype'} on RRDocument allowed.`);\r\n                }\r\n            }\r\n            if (refChild === null)\r\n                return this.appendChild(newChild);\r\n            const childIndex = this.childNodes.indexOf(refChild);\r\n            if (childIndex == -1)\r\n                throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\r\n            this.childNodes.splice(childIndex, 0, newChild);\r\n            newChild.parentElement = null;\r\n            newChild.parentNode = this;\r\n            return newChild;\r\n        }\r\n        removeChild(node) {\r\n            const indexOfChild = this.childNodes.indexOf(node);\r\n            if (indexOfChild === -1)\r\n                throw new Error(\"Failed to execute 'removeChild' on 'RRDocument': The RRNode to be removed is not a child of this RRNode.\");\r\n            this.childNodes.splice(indexOfChild, 1);\r\n            node.parentElement = null;\r\n            node.parentNode = null;\r\n            return node;\r\n        }\r\n        open() {\r\n            this.childNodes = [];\r\n        }\r\n        close() {\r\n        }\r\n        write(content) {\r\n            let publicId;\r\n            if (content ===\r\n                '<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\">')\r\n                publicId = '-//W3C//DTD XHTML 1.0 Transitional//EN';\r\n            else if (content ===\r\n                '<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"\">')\r\n                publicId = '-//W3C//DTD HTML 4.0 Transitional//EN';\r\n            if (publicId) {\r\n                const doctype = this.createDocumentType('html', publicId, '');\r\n                this.open();\r\n                this.appendChild(doctype);\r\n            }\r\n        }\r\n        createDocument(_namespace, _qualifiedName, _doctype) {\r\n            return new BaseRRDocument();\r\n        }\r\n        createDocumentType(qualifiedName, publicId, systemId) {\r\n            const doctype = new (BaseRRDocumentTypeImpl(BaseRRNode))(qualifiedName, publicId, systemId);\r\n            doctype.ownerDocument = this;\r\n            return doctype;\r\n        }\r\n        createElement(tagName) {\r\n            const element = new (BaseRRElementImpl(BaseRRNode))(tagName);\r\n            element.ownerDocument = this;\r\n            return element;\r\n        }\r\n        createElementNS(_namespaceURI, qualifiedName) {\r\n            return this.createElement(qualifiedName);\r\n        }\r\n        createTextNode(data) {\r\n            const text = new (BaseRRTextImpl(BaseRRNode))(data);\r\n            text.ownerDocument = this;\r\n            return text;\r\n        }\r\n        createComment(data) {\r\n            const comment = new (BaseRRCommentImpl(BaseRRNode))(data);\r\n            comment.ownerDocument = this;\r\n            return comment;\r\n        }\r\n        createCDATASection(data) {\r\n            const CDATASection = new (BaseRRCDATASectionImpl(BaseRRNode))(data);\r\n            CDATASection.ownerDocument = this;\r\n            return CDATASection;\r\n        }\r\n        toString() {\r\n            return 'RRDocument';\r\n        }\r\n    };\r\n}\r\nfunction BaseRRDocumentTypeImpl(RRNodeClass) {\r\n    return class BaseRRDocumentType extends RRNodeClass {\r\n        constructor(qualifiedName, publicId, systemId) {\r\n            super();\r\n            this.nodeType = NodeType.DOCUMENT_TYPE_NODE;\r\n            this.RRNodeType = NodeType$1.DocumentType;\r\n            this.textContent = null;\r\n            this.name = qualifiedName;\r\n            this.publicId = publicId;\r\n            this.systemId = systemId;\r\n            this.nodeName = qualifiedName;\r\n        }\r\n        toString() {\r\n            return 'RRDocumentType';\r\n        }\r\n    };\r\n}\r\nfunction BaseRRElementImpl(RRNodeClass) {\r\n    return class BaseRRElement extends RRNodeClass {\r\n        constructor(tagName) {\r\n            super();\r\n            this.nodeType = NodeType.ELEMENT_NODE;\r\n            this.RRNodeType = NodeType$1.Element;\r\n            this.attributes = {};\r\n            this.shadowRoot = null;\r\n            this.tagName = tagName.toUpperCase();\r\n            this.nodeName = tagName.toUpperCase();\r\n        }\r\n        get textContent() {\r\n            let result = '';\r\n            this.childNodes.forEach((node) => (result += node.textContent));\r\n            return result;\r\n        }\r\n        set textContent(textContent) {\r\n            this.childNodes = [this.ownerDocument.createTextNode(textContent)];\r\n        }\r\n        get classList() {\r\n            return new ClassList(this.attributes.class, (newClassName) => {\r\n                this.attributes.class = newClassName;\r\n            });\r\n        }\r\n        get id() {\r\n            return this.attributes.id || '';\r\n        }\r\n        get className() {\r\n            return this.attributes.class || '';\r\n        }\r\n        get style() {\r\n            const style = (this.attributes.style\r\n                ? parseCSSText(this.attributes.style)\r\n                : {});\r\n            const hyphenateRE = /\\B([A-Z])/g;\r\n            style.setProperty = (name, value, priority) => {\r\n                if (hyphenateRE.test(name))\r\n                    return;\r\n                const normalizedName = camelize(name);\r\n                if (!value)\r\n                    delete style[normalizedName];\r\n                else\r\n                    style[normalizedName] = value;\r\n                if (priority === 'important')\r\n                    style[normalizedName] += ' !important';\r\n                this.attributes.style = toCSSText(style);\r\n            };\r\n            style.removeProperty = (name) => {\r\n                if (hyphenateRE.test(name))\r\n                    return '';\r\n                const normalizedName = camelize(name);\r\n                const value = style[normalizedName] || '';\r\n                delete style[normalizedName];\r\n                this.attributes.style = toCSSText(style);\r\n                return value;\r\n            };\r\n            return style;\r\n        }\r\n        getAttribute(name) {\r\n            return this.attributes[name] || null;\r\n        }\r\n        setAttribute(name, attribute) {\r\n            this.attributes[name] = attribute;\r\n        }\r\n        setAttributeNS(_namespace, qualifiedName, value) {\r\n            this.setAttribute(qualifiedName, value);\r\n        }\r\n        removeAttribute(name) {\r\n            delete this.attributes[name];\r\n        }\r\n        appendChild(newChild) {\r\n            this.childNodes.push(newChild);\r\n            newChild.parentNode = this;\r\n            newChild.parentElement = this;\r\n            return newChild;\r\n        }\r\n        insertBefore(newChild, refChild) {\r\n            if (refChild === null)\r\n                return this.appendChild(newChild);\r\n            const childIndex = this.childNodes.indexOf(refChild);\r\n            if (childIndex == -1)\r\n                throw new Error(\"Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.\");\r\n            this.childNodes.splice(childIndex, 0, newChild);\r\n            newChild.parentElement = this;\r\n            newChild.parentNode = this;\r\n            return newChild;\r\n        }\r\n        removeChild(node) {\r\n            const indexOfChild = this.childNodes.indexOf(node);\r\n            if (indexOfChild === -1)\r\n                throw new Error(\"Failed to execute 'removeChild' on 'RRElement': The RRNode to be removed is not a child of this RRNode.\");\r\n            this.childNodes.splice(indexOfChild, 1);\r\n            node.parentElement = null;\r\n            node.parentNode = null;\r\n            return node;\r\n        }\r\n        attachShadow(_init) {\r\n            const shadowRoot = this.ownerDocument.createElement('SHADOWROOT');\r\n            this.shadowRoot = shadowRoot;\r\n            return shadowRoot;\r\n        }\r\n        dispatchEvent(_event) {\r\n            return true;\r\n        }\r\n        toString() {\r\n            let attributeString = '';\r\n            for (const attribute in this.attributes) {\r\n                attributeString += `${attribute}=\"${this.attributes[attribute]}\" `;\r\n            }\r\n            return `${this.tagName} ${attributeString}`;\r\n        }\r\n    };\r\n}\r\nfunction BaseRRMediaElementImpl(RRElementClass) {\r\n    return class BaseRRMediaElement extends RRElementClass {\r\n        attachShadow(_init) {\r\n            throw new Error(`RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow`);\r\n        }\r\n        play() {\r\n            this.paused = false;\r\n        }\r\n        pause() {\r\n            this.paused = true;\r\n        }\r\n    };\r\n}\r\nfunction BaseRRTextImpl(RRNodeClass) {\r\n    return class BaseRRText extends RRNodeClass {\r\n        constructor(data) {\r\n            super();\r\n            this.nodeType = NodeType.TEXT_NODE;\r\n            this.nodeName = '#text';\r\n            this.RRNodeType = NodeType$1.Text;\r\n            this.data = data;\r\n        }\r\n        get textContent() {\r\n            return this.data;\r\n        }\r\n        set textContent(textContent) {\r\n            this.data = textContent;\r\n        }\r\n        toString() {\r\n            return `RRText text=${JSON.stringify(this.data)}`;\r\n        }\r\n    };\r\n}\r\nfunction BaseRRCommentImpl(RRNodeClass) {\r\n    return class BaseRRComment extends RRNodeClass {\r\n        constructor(data) {\r\n            super();\r\n            this.nodeType = NodeType.COMMENT_NODE;\r\n            this.nodeName = '#comment';\r\n            this.RRNodeType = NodeType$1.Comment;\r\n            this.data = data;\r\n        }\r\n        get textContent() {\r\n            return this.data;\r\n        }\r\n        set textContent(textContent) {\r\n            this.data = textContent;\r\n        }\r\n        toString() {\r\n            return `RRComment text=${JSON.stringify(this.data)}`;\r\n        }\r\n    };\r\n}\r\nfunction BaseRRCDATASectionImpl(RRNodeClass) {\r\n    return class BaseRRCDATASection extends RRNodeClass {\r\n        constructor(data) {\r\n            super();\r\n            this.nodeName = '#cdata-section';\r\n            this.nodeType = NodeType.CDATA_SECTION_NODE;\r\n            this.RRNodeType = NodeType$1.CDATA;\r\n            this.data = data;\r\n        }\r\n        get textContent() {\r\n            return this.data;\r\n        }\r\n        set textContent(textContent) {\r\n            this.data = textContent;\r\n        }\r\n        toString() {\r\n            return `RRCDATASection data=${JSON.stringify(this.data)}`;\r\n        }\r\n    };\r\n}\r\nclass ClassList {\r\n    constructor(classText, onChange) {\r\n        this.classes = [];\r\n        this.add = (...classNames) => {\r\n            for (const item of classNames) {\r\n                const className = String(item);\r\n                if (this.classes.indexOf(className) >= 0)\r\n                    continue;\r\n                this.classes.push(className);\r\n            }\r\n            this.onChange && this.onChange(this.classes.join(' '));\r\n        };\r\n        this.remove = (...classNames) => {\r\n            this.classes = this.classes.filter((item) => classNames.indexOf(item) === -1);\r\n            this.onChange && this.onChange(this.classes.join(' '));\r\n        };\r\n        if (classText) {\r\n            const classes = classText.trim().split(/\\s+/);\r\n            this.classes.push(...classes);\r\n        }\r\n        this.onChange = onChange;\r\n    }\r\n}\r\nvar NodeType;\r\n(function (NodeType) {\r\n    NodeType[NodeType[\"PLACEHOLDER\"] = 0] = \"PLACEHOLDER\";\r\n    NodeType[NodeType[\"ELEMENT_NODE\"] = 1] = \"ELEMENT_NODE\";\r\n    NodeType[NodeType[\"ATTRIBUTE_NODE\"] = 2] = \"ATTRIBUTE_NODE\";\r\n    NodeType[NodeType[\"TEXT_NODE\"] = 3] = \"TEXT_NODE\";\r\n    NodeType[NodeType[\"CDATA_SECTION_NODE\"] = 4] = \"CDATA_SECTION_NODE\";\r\n    NodeType[NodeType[\"ENTITY_REFERENCE_NODE\"] = 5] = \"ENTITY_REFERENCE_NODE\";\r\n    NodeType[NodeType[\"ENTITY_NODE\"] = 6] = \"ENTITY_NODE\";\r\n    NodeType[NodeType[\"PROCESSING_INSTRUCTION_NODE\"] = 7] = \"PROCESSING_INSTRUCTION_NODE\";\r\n    NodeType[NodeType[\"COMMENT_NODE\"] = 8] = \"COMMENT_NODE\";\r\n    NodeType[NodeType[\"DOCUMENT_NODE\"] = 9] = \"DOCUMENT_NODE\";\r\n    NodeType[NodeType[\"DOCUMENT_TYPE_NODE\"] = 10] = \"DOCUMENT_TYPE_NODE\";\r\n    NodeType[NodeType[\"DOCUMENT_FRAGMENT_NODE\"] = 11] = \"DOCUMENT_FRAGMENT_NODE\";\r\n})(NodeType || (NodeType = {}));\n\nconst NAMESPACES = {\r\n    svg: 'http://www.w3.org/2000/svg',\r\n    'xlink:href': 'http://www.w3.org/1999/xlink',\r\n    xmlns: 'http://www.w3.org/2000/xmlns/',\r\n};\r\nconst SVGTagMap = {\r\n    altglyph: 'altGlyph',\r\n    altglyphdef: 'altGlyphDef',\r\n    altglyphitem: 'altGlyphItem',\r\n    animatecolor: 'animateColor',\r\n    animatemotion: 'animateMotion',\r\n    animatetransform: 'animateTransform',\r\n    clippath: 'clipPath',\r\n    feblend: 'feBlend',\r\n    fecolormatrix: 'feColorMatrix',\r\n    fecomponenttransfer: 'feComponentTransfer',\r\n    fecomposite: 'feComposite',\r\n    feconvolvematrix: 'feConvolveMatrix',\r\n    fediffuselighting: 'feDiffuseLighting',\r\n    fedisplacementmap: 'feDisplacementMap',\r\n    fedistantlight: 'feDistantLight',\r\n    fedropshadow: 'feDropShadow',\r\n    feflood: 'feFlood',\r\n    fefunca: 'feFuncA',\r\n    fefuncb: 'feFuncB',\r\n    fefuncg: 'feFuncG',\r\n    fefuncr: 'feFuncR',\r\n    fegaussianblur: 'feGaussianBlur',\r\n    feimage: 'feImage',\r\n    femerge: 'feMerge',\r\n    femergenode: 'feMergeNode',\r\n    femorphology: 'feMorphology',\r\n    feoffset: 'feOffset',\r\n    fepointlight: 'fePointLight',\r\n    fespecularlighting: 'feSpecularLighting',\r\n    fespotlight: 'feSpotLight',\r\n    fetile: 'feTile',\r\n    feturbulence: 'feTurbulence',\r\n    foreignobject: 'foreignObject',\r\n    glyphref: 'glyphRef',\r\n    lineargradient: 'linearGradient',\r\n    radialgradient: 'radialGradient',\r\n};\r\nfunction diff(oldTree, newTree, replayer, rrnodeMirror) {\r\n    const oldChildren = oldTree.childNodes;\r\n    const newChildren = newTree.childNodes;\r\n    rrnodeMirror =\r\n        rrnodeMirror ||\r\n            newTree.mirror ||\r\n            newTree.ownerDocument.mirror;\r\n    if (oldChildren.length > 0 || newChildren.length > 0) {\r\n        diffChildren(Array.from(oldChildren), newChildren, oldTree, replayer, rrnodeMirror);\r\n    }\r\n    let inputDataToApply = null, scrollDataToApply = null;\r\n    switch (newTree.RRNodeType) {\r\n        case NodeType$1.Document: {\r\n            const newRRDocument = newTree;\r\n            scrollDataToApply = newRRDocument.scrollData;\r\n            break;\r\n        }\r\n        case NodeType$1.Element: {\r\n            const oldElement = oldTree;\r\n            const newRRElement = newTree;\r\n            diffProps(oldElement, newRRElement, rrnodeMirror);\r\n            scrollDataToApply = newRRElement.scrollData;\r\n            inputDataToApply = newRRElement.inputData;\r\n            switch (newRRElement.tagName) {\r\n                case 'AUDIO':\r\n                case 'VIDEO': {\r\n                    const oldMediaElement = oldTree;\r\n                    const newMediaRRElement = newRRElement;\r\n                    if (newMediaRRElement.paused !== undefined)\r\n                        newMediaRRElement.paused\r\n                            ? void oldMediaElement.pause()\r\n                            : void oldMediaElement.play();\r\n                    if (newMediaRRElement.muted !== undefined)\r\n                        oldMediaElement.muted = newMediaRRElement.muted;\r\n                    if (newMediaRRElement.volume !== undefined)\r\n                        oldMediaElement.volume = newMediaRRElement.volume;\r\n                    if (newMediaRRElement.currentTime !== undefined)\r\n                        oldMediaElement.currentTime = newMediaRRElement.currentTime;\r\n                    if (newMediaRRElement.playbackRate !== undefined)\r\n                        oldMediaElement.playbackRate = newMediaRRElement.playbackRate;\r\n                    break;\r\n                }\r\n                case 'CANVAS':\r\n                    {\r\n                        const rrCanvasElement = newTree;\r\n                        if (rrCanvasElement.rr_dataURL !== null) {\r\n                            const image = document.createElement('img');\r\n                            image.onload = () => {\r\n                                const ctx = oldElement.getContext('2d');\r\n                                if (ctx) {\r\n                                    ctx.drawImage(image, 0, 0, image.width, image.height);\r\n                                }\r\n                            };\r\n                            image.src = rrCanvasElement.rr_dataURL;\r\n                        }\r\n                        rrCanvasElement.canvasMutations.forEach((canvasMutation) => replayer.applyCanvas(canvasMutation.event, canvasMutation.mutation, oldTree));\r\n                    }\r\n                    break;\r\n                case 'STYLE':\r\n                    {\r\n                        const styleSheet = oldElement.sheet;\r\n                        styleSheet &&\r\n                            newTree.rules.forEach((data) => replayer.applyStyleSheetMutation(data, styleSheet));\r\n                    }\r\n                    break;\r\n            }\r\n            if (newRRElement.shadowRoot) {\r\n                if (!oldElement.shadowRoot)\r\n                    oldElement.attachShadow({ mode: 'open' });\r\n                const oldChildren = oldElement.shadowRoot.childNodes;\r\n                const newChildren = newRRElement.shadowRoot.childNodes;\r\n                if (oldChildren.length > 0 || newChildren.length > 0)\r\n                    diffChildren(Array.from(oldChildren), newChildren, oldElement.shadowRoot, replayer, rrnodeMirror);\r\n            }\r\n            break;\r\n        }\r\n        case NodeType$1.Text:\r\n        case NodeType$1.Comment:\r\n        case NodeType$1.CDATA:\r\n            if (oldTree.textContent !==\r\n                newTree.data)\r\n                oldTree.textContent = newTree.data;\r\n            break;\r\n    }\r\n    scrollDataToApply && replayer.applyScroll(scrollDataToApply, true);\r\n    inputDataToApply && replayer.applyInput(inputDataToApply);\r\n    if (newTree.nodeName === 'IFRAME') {\r\n        const oldContentDocument = oldTree.contentDocument;\r\n        const newIFrameElement = newTree;\r\n        if (oldContentDocument) {\r\n            const sn = rrnodeMirror.getMeta(newIFrameElement.contentDocument);\r\n            if (sn) {\r\n                replayer.mirror.add(oldContentDocument, Object.assign({}, sn));\r\n            }\r\n            diff(oldContentDocument, newIFrameElement.contentDocument, replayer, rrnodeMirror);\r\n        }\r\n    }\r\n}\r\nfunction diffProps(oldTree, newTree, rrnodeMirror) {\r\n    const oldAttributes = oldTree.attributes;\r\n    const newAttributes = newTree.attributes;\r\n    for (const name in newAttributes) {\r\n        const newValue = newAttributes[name];\r\n        const sn = rrnodeMirror.getMeta(newTree);\r\n        if (sn && 'isSVG' in sn && sn.isSVG && NAMESPACES[name])\r\n            oldTree.setAttributeNS(NAMESPACES[name], name, newValue);\r\n        else if (newTree.tagName === 'CANVAS' && name === 'rr_dataURL') {\r\n            const image = document.createElement('img');\r\n            image.src = newValue;\r\n            image.onload = () => {\r\n                const ctx = oldTree.getContext('2d');\r\n                if (ctx) {\r\n                    ctx.drawImage(image, 0, 0, image.width, image.height);\r\n                }\r\n            };\r\n        }\r\n        else\r\n            oldTree.setAttribute(name, newValue);\r\n    }\r\n    for (const { name } of Array.from(oldAttributes))\r\n        if (!(name in newAttributes))\r\n            oldTree.removeAttribute(name);\r\n    newTree.scrollLeft && (oldTree.scrollLeft = newTree.scrollLeft);\r\n    newTree.scrollTop && (oldTree.scrollTop = newTree.scrollTop);\r\n}\r\nfunction diffChildren(oldChildren, newChildren, parentNode, replayer, rrnodeMirror) {\r\n    var _a;\r\n    let oldStartIndex = 0, oldEndIndex = oldChildren.length - 1, newStartIndex = 0, newEndIndex = newChildren.length - 1;\r\n    let oldStartNode = oldChildren[oldStartIndex], oldEndNode = oldChildren[oldEndIndex], newStartNode = newChildren[newStartIndex], newEndNode = newChildren[newEndIndex];\r\n    let oldIdToIndex = undefined, indexInOld;\r\n    while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n        const oldStartId = replayer.mirror.getId(oldStartNode);\r\n        const oldEndId = replayer.mirror.getId(oldEndNode);\r\n        const newStartId = rrnodeMirror.getId(newStartNode);\r\n        const newEndId = rrnodeMirror.getId(newEndNode);\r\n        if (oldStartNode === undefined) {\r\n            oldStartNode = oldChildren[++oldStartIndex];\r\n        }\r\n        else if (oldEndNode === undefined) {\r\n            oldEndNode = oldChildren[--oldEndIndex];\r\n        }\r\n        else if (oldStartId !== -1 &&\r\n            oldStartId === newStartId) {\r\n            diff(oldStartNode, newStartNode, replayer, rrnodeMirror);\r\n            oldStartNode = oldChildren[++oldStartIndex];\r\n            newStartNode = newChildren[++newStartIndex];\r\n        }\r\n        else if (oldEndId !== -1 &&\r\n            oldEndId === newEndId) {\r\n            diff(oldEndNode, newEndNode, replayer, rrnodeMirror);\r\n            oldEndNode = oldChildren[--oldEndIndex];\r\n            newEndNode = newChildren[--newEndIndex];\r\n        }\r\n        else if (oldStartId !== -1 &&\r\n            oldStartId === newEndId) {\r\n            parentNode.insertBefore(oldStartNode, oldEndNode.nextSibling);\r\n            diff(oldStartNode, newEndNode, replayer, rrnodeMirror);\r\n            oldStartNode = oldChildren[++oldStartIndex];\r\n            newEndNode = newChildren[--newEndIndex];\r\n        }\r\n        else if (oldEndId !== -1 &&\r\n            oldEndId === newStartId) {\r\n            parentNode.insertBefore(oldEndNode, oldStartNode);\r\n            diff(oldEndNode, newStartNode, replayer, rrnodeMirror);\r\n            oldEndNode = oldChildren[--oldEndIndex];\r\n            newStartNode = newChildren[++newStartIndex];\r\n        }\r\n        else {\r\n            if (!oldIdToIndex) {\r\n                oldIdToIndex = {};\r\n                for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n                    const oldChild = oldChildren[i];\r\n                    if (oldChild && replayer.mirror.hasNode(oldChild))\r\n                        oldIdToIndex[replayer.mirror.getId(oldChild)] = i;\r\n                }\r\n            }\r\n            indexInOld = oldIdToIndex[rrnodeMirror.getId(newStartNode)];\r\n            if (indexInOld) {\r\n                const nodeToMove = oldChildren[indexInOld];\r\n                parentNode.insertBefore(nodeToMove, oldStartNode);\r\n                diff(nodeToMove, newStartNode, replayer, rrnodeMirror);\r\n                oldChildren[indexInOld] = undefined;\r\n            }\r\n            else {\r\n                const newNode = createOrGetNode(newStartNode, replayer.mirror, rrnodeMirror);\r\n                if (parentNode.nodeName === '#document' &&\r\n                    ((_a = replayer.mirror.getMeta(newNode)) === null || _a === void 0 ? void 0 : _a.type) === NodeType$1.Element &&\r\n                    parentNode.documentElement) {\r\n                    parentNode.removeChild(parentNode.documentElement);\r\n                    oldChildren[oldStartIndex] = undefined;\r\n                    oldStartNode = undefined;\r\n                }\r\n                parentNode.insertBefore(newNode, oldStartNode || null);\r\n                diff(newNode, newStartNode, replayer, rrnodeMirror);\r\n            }\r\n            newStartNode = newChildren[++newStartIndex];\r\n        }\r\n    }\r\n    if (oldStartIndex > oldEndIndex) {\r\n        const referenceRRNode = newChildren[newEndIndex + 1];\r\n        let referenceNode = null;\r\n        if (referenceRRNode)\r\n            parentNode.childNodes.forEach((child) => {\r\n                if (replayer.mirror.getId(child) === rrnodeMirror.getId(referenceRRNode))\r\n                    referenceNode = child;\r\n            });\r\n        for (; newStartIndex <= newEndIndex; ++newStartIndex) {\r\n            const newNode = createOrGetNode(newChildren[newStartIndex], replayer.mirror, rrnodeMirror);\r\n            parentNode.insertBefore(newNode, referenceNode);\r\n            diff(newNode, newChildren[newStartIndex], replayer, rrnodeMirror);\r\n        }\r\n    }\r\n    else if (newStartIndex > newEndIndex) {\r\n        for (; oldStartIndex <= oldEndIndex; oldStartIndex++) {\r\n            const node = oldChildren[oldStartIndex];\r\n            if (node) {\r\n                parentNode.removeChild(node);\r\n                replayer.mirror.removeNodeFromMap(node);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction createOrGetNode(rrNode, domMirror, rrnodeMirror) {\r\n    const nodeId = rrnodeMirror.getId(rrNode);\r\n    const sn = rrnodeMirror.getMeta(rrNode);\r\n    let node = null;\r\n    if (nodeId > -1)\r\n        node = domMirror.getNode(nodeId);\r\n    if (node !== null)\r\n        return node;\r\n    switch (rrNode.RRNodeType) {\r\n        case NodeType$1.Document:\r\n            node = new Document();\r\n            break;\r\n        case NodeType$1.DocumentType:\r\n            node = document.implementation.createDocumentType(rrNode.name, rrNode.publicId, rrNode.systemId);\r\n            break;\r\n        case NodeType$1.Element: {\r\n            let tagName = rrNode.tagName.toLowerCase();\r\n            tagName = SVGTagMap[tagName] || tagName;\r\n            if (sn && 'isSVG' in sn && (sn === null || sn === void 0 ? void 0 : sn.isSVG)) {\r\n                node = document.createElementNS(NAMESPACES['svg'], tagName);\r\n            }\r\n            else\r\n                node = document.createElement(rrNode.tagName);\r\n            break;\r\n        }\r\n        case NodeType$1.Text:\r\n            node = document.createTextNode(rrNode.data);\r\n            break;\r\n        case NodeType$1.Comment:\r\n            node = document.createComment(rrNode.data);\r\n            break;\r\n        case NodeType$1.CDATA:\r\n            node = document.createCDATASection(rrNode.data);\r\n            break;\r\n    }\r\n    if (sn)\r\n        domMirror.add(node, Object.assign({}, sn));\r\n    return node;\r\n}\n\nclass RRDocument extends BaseRRDocumentImpl(BaseRRNode) {\r\n    constructor(mirror) {\r\n        super();\r\n        this.UNSERIALIZED_STARTING_ID = -2;\r\n        this._unserializedId = this.UNSERIALIZED_STARTING_ID;\r\n        this.mirror = createMirror();\r\n        this.scrollData = null;\r\n        if (mirror) {\r\n            this.mirror = mirror;\r\n        }\r\n    }\r\n    get unserializedId() {\r\n        return this._unserializedId--;\r\n    }\r\n    createDocument(_namespace, _qualifiedName, _doctype) {\r\n        return new RRDocument();\r\n    }\r\n    createDocumentType(qualifiedName, publicId, systemId) {\r\n        const documentTypeNode = new RRDocumentType(qualifiedName, publicId, systemId);\r\n        documentTypeNode.ownerDocument = this;\r\n        return documentTypeNode;\r\n    }\r\n    createElement(tagName) {\r\n        const upperTagName = tagName.toUpperCase();\r\n        let element;\r\n        switch (upperTagName) {\r\n            case 'AUDIO':\r\n            case 'VIDEO':\r\n                element = new RRMediaElement(upperTagName);\r\n                break;\r\n            case 'IFRAME':\r\n                element = new RRIFrameElement(upperTagName, this.mirror);\r\n                break;\r\n            case 'CANVAS':\r\n                element = new RRCanvasElement(upperTagName);\r\n                break;\r\n            case 'STYLE':\r\n                element = new RRStyleElement(upperTagName);\r\n                break;\r\n            default:\r\n                element = new RRElement(upperTagName);\r\n                break;\r\n        }\r\n        element.ownerDocument = this;\r\n        return element;\r\n    }\r\n    createComment(data) {\r\n        const commentNode = new RRComment(data);\r\n        commentNode.ownerDocument = this;\r\n        return commentNode;\r\n    }\r\n    createCDATASection(data) {\r\n        const sectionNode = new RRCDATASection(data);\r\n        sectionNode.ownerDocument = this;\r\n        return sectionNode;\r\n    }\r\n    createTextNode(data) {\r\n        const textNode = new RRText(data);\r\n        textNode.ownerDocument = this;\r\n        return textNode;\r\n    }\r\n    destroyTree() {\r\n        this.childNodes = [];\r\n        this.mirror.reset();\r\n    }\r\n    open() {\r\n        super.open();\r\n        this._unserializedId = this.UNSERIALIZED_STARTING_ID;\r\n    }\r\n}\r\nconst RRDocumentType = BaseRRDocumentTypeImpl(BaseRRNode);\r\nclass RRElement extends BaseRRElementImpl(BaseRRNode) {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.inputData = null;\r\n        this.scrollData = null;\r\n    }\r\n}\r\nclass RRMediaElement extends BaseRRMediaElementImpl(RRElement) {\r\n}\r\nclass RRCanvasElement extends RRElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.rr_dataURL = null;\r\n        this.canvasMutations = [];\r\n    }\r\n    getContext() {\r\n        return null;\r\n    }\r\n}\r\nclass RRStyleElement extends RRElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.rules = [];\r\n    }\r\n}\r\nclass RRIFrameElement extends RRElement {\r\n    constructor(upperTagName, mirror) {\r\n        super(upperTagName);\r\n        this.contentDocument = new RRDocument();\r\n        this.contentDocument.mirror = mirror;\r\n    }\r\n}\r\nconst RRText = BaseRRTextImpl(BaseRRNode);\r\nconst RRComment = BaseRRCommentImpl(BaseRRNode);\r\nconst RRCDATASection = BaseRRCDATASectionImpl(BaseRRNode);\r\nfunction getValidTagName(element) {\r\n    if (element instanceof HTMLFormElement) {\r\n        return 'FORM';\r\n    }\r\n    return element.tagName.toUpperCase();\r\n}\r\nfunction buildFromNode(node, rrdom, domMirror, parentRRNode) {\r\n    let rrNode;\r\n    switch (node.nodeType) {\r\n        case NodeType.DOCUMENT_NODE:\r\n            if (parentRRNode && parentRRNode.nodeName === 'IFRAME')\r\n                rrNode = parentRRNode.contentDocument;\r\n            else {\r\n                rrNode = rrdom;\r\n                rrNode.compatMode = node.compatMode;\r\n            }\r\n            break;\r\n        case NodeType.DOCUMENT_TYPE_NODE: {\r\n            const documentType = node;\r\n            rrNode = rrdom.createDocumentType(documentType.name, documentType.publicId, documentType.systemId);\r\n            break;\r\n        }\r\n        case NodeType.ELEMENT_NODE: {\r\n            const elementNode = node;\r\n            const tagName = getValidTagName(elementNode);\r\n            rrNode = rrdom.createElement(tagName);\r\n            const rrElement = rrNode;\r\n            for (const { name, value } of Array.from(elementNode.attributes)) {\r\n                rrElement.attributes[name] = value;\r\n            }\r\n            elementNode.scrollLeft && (rrElement.scrollLeft = elementNode.scrollLeft);\r\n            elementNode.scrollTop && (rrElement.scrollTop = elementNode.scrollTop);\r\n            break;\r\n        }\r\n        case NodeType.TEXT_NODE:\r\n            rrNode = rrdom.createTextNode(node.textContent || '');\r\n            break;\r\n        case NodeType.CDATA_SECTION_NODE:\r\n            rrNode = rrdom.createCDATASection(node.data);\r\n            break;\r\n        case NodeType.COMMENT_NODE:\r\n            rrNode = rrdom.createComment(node.textContent || '');\r\n            break;\r\n        case NodeType.DOCUMENT_FRAGMENT_NODE:\r\n            rrNode = parentRRNode.attachShadow({ mode: 'open' });\r\n            break;\r\n        default:\r\n            return null;\r\n    }\r\n    let sn = domMirror.getMeta(node);\r\n    if (rrdom instanceof RRDocument) {\r\n        if (!sn) {\r\n            sn = getDefaultSN(rrNode, rrdom.unserializedId);\r\n            domMirror.add(node, sn);\r\n        }\r\n        rrdom.mirror.add(rrNode, Object.assign({}, sn));\r\n    }\r\n    return rrNode;\r\n}\r\nfunction buildFromDom(dom, domMirror = createMirror$1(), rrdom = new RRDocument()) {\r\n    function walk(node, parentRRNode) {\r\n        const rrNode = buildFromNode(node, rrdom, domMirror, parentRRNode);\r\n        if (rrNode === null)\r\n            return;\r\n        if ((parentRRNode === null || parentRRNode === void 0 ? void 0 : parentRRNode.nodeName) !== 'IFRAME' &&\r\n            node.nodeType !== NodeType.DOCUMENT_FRAGMENT_NODE) {\r\n            parentRRNode === null || parentRRNode === void 0 ? void 0 : parentRRNode.appendChild(rrNode);\r\n            rrNode.parentNode = parentRRNode;\r\n            rrNode.parentElement = parentRRNode;\r\n        }\r\n        if (node.nodeName === 'IFRAME') {\r\n            const iframeDoc = node.contentDocument;\r\n            iframeDoc && walk(iframeDoc, rrNode);\r\n        }\r\n        else if (node.nodeType === NodeType.DOCUMENT_NODE ||\r\n            node.nodeType === NodeType.ELEMENT_NODE ||\r\n            node.nodeType === NodeType.DOCUMENT_FRAGMENT_NODE) {\r\n            if (node.nodeType === NodeType.ELEMENT_NODE &&\r\n                node.shadowRoot)\r\n                walk(node.shadowRoot, rrNode);\r\n            node.childNodes.forEach((childNode) => walk(childNode, rrNode));\r\n        }\r\n    }\r\n    walk(dom, null);\r\n    return rrdom;\r\n}\r\nfunction createMirror() {\r\n    return new Mirror();\r\n}\r\nclass Mirror {\r\n    constructor() {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    }\r\n    getId(n) {\r\n        var _a;\r\n        if (!n)\r\n            return -1;\r\n        const id = (_a = this.getMeta(n)) === null || _a === void 0 ? void 0 : _a.id;\r\n        return id !== null && id !== void 0 ? id : -1;\r\n    }\r\n    getNode(id) {\r\n        return this.idNodeMap.get(id) || null;\r\n    }\r\n    getIds() {\r\n        return Array.from(this.idNodeMap.keys());\r\n    }\r\n    getMeta(n) {\r\n        return this.nodeMetaMap.get(n) || null;\r\n    }\r\n    removeNodeFromMap(n) {\r\n        const id = this.getId(n);\r\n        this.idNodeMap.delete(id);\r\n        if (n.childNodes) {\r\n            n.childNodes.forEach((childNode) => this.removeNodeFromMap(childNode));\r\n        }\r\n    }\r\n    has(id) {\r\n        return this.idNodeMap.has(id);\r\n    }\r\n    hasNode(node) {\r\n        return this.nodeMetaMap.has(node);\r\n    }\r\n    add(n, meta) {\r\n        const id = meta.id;\r\n        this.idNodeMap.set(id, n);\r\n        this.nodeMetaMap.set(n, meta);\r\n    }\r\n    replace(id, n) {\r\n        const oldNode = this.getNode(id);\r\n        if (oldNode) {\r\n            const meta = this.nodeMetaMap.get(oldNode);\r\n            if (meta)\r\n                this.nodeMetaMap.set(n, meta);\r\n        }\r\n        this.idNodeMap.set(id, n);\r\n    }\r\n    reset() {\r\n        this.idNodeMap = new Map();\r\n        this.nodeMetaMap = new WeakMap();\r\n    }\r\n}\r\nfunction getDefaultSN(node, id) {\r\n    switch (node.RRNodeType) {\r\n        case NodeType$1.Document:\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                childNodes: [],\r\n            };\r\n        case NodeType$1.DocumentType: {\r\n            const doctype = node;\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                name: doctype.name,\r\n                publicId: doctype.publicId,\r\n                systemId: doctype.systemId,\r\n            };\r\n        }\r\n        case NodeType$1.Element:\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                tagName: node.tagName.toLowerCase(),\r\n                attributes: {},\r\n                childNodes: [],\r\n            };\r\n        case NodeType$1.Text:\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                textContent: node.textContent || '',\r\n            };\r\n        case NodeType$1.Comment:\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                textContent: node.textContent || '',\r\n            };\r\n        case NodeType$1.CDATA:\r\n            return {\r\n                id,\r\n                type: node.RRNodeType,\r\n                textContent: '',\r\n            };\r\n    }\r\n}\n\nexport { BaseRRCDATASectionImpl, BaseRRCommentImpl, BaseRRDocumentImpl, BaseRRDocumentTypeImpl, BaseRRElementImpl, BaseRRMediaElementImpl, BaseRRNode, BaseRRTextImpl, ClassList, Mirror, NodeType, RRCDATASection, RRCanvasElement, RRComment, RRDocument, RRDocumentType, RRElement, RRIFrameElement, RRMediaElement, BaseRRNode as RRNode, RRStyleElement, RRText, buildFromDom, buildFromNode, createMirror, createOrGetNode, diff, getDefaultSN };\n","import { createBase64WorkerFactory } from './_rollup-plugin-web-worker-loader__helper__auto__createBase64WorkerFactory.js';\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=', null, false);\n/* eslint-enable */\n\nexport { WorkerFactory as default };\n","function decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nexport { createBase64WorkerFactory };\n","import { createMirror, snapshot } from '../../../rrweb-snapshot/es/rrweb-snapshot.js';\nimport { initObservers, mutationBuffers } from './observer.js';\nimport { polyfill, on, getWindowWidth, getWindowHeight, isSerializedIframe, isSerializedStylesheet, hasShadowRoot } from '../utils.js';\nimport { EventType, IncrementalSource } from '../../../types/dist/types.js';\nimport { IframeManager } from './iframe-manager.js';\nimport { ShadowDomManager } from './shadow-dom-manager.js';\nimport { CanvasManager } from './observers/canvas/canvas-manager.js';\nimport { StylesheetManager } from './stylesheet-manager.js';\n\nfunction wrapEvent(e) {\r\n    return Object.assign(Object.assign({}, e), { timestamp: Date.now() });\r\n}\r\nlet wrappedEmit;\r\nlet takeFullSnapshot;\r\nlet canvasManager;\r\nlet recording = false;\r\nconst mirror = createMirror();\r\nfunction record(options = {}) {\r\n    const { emit, checkoutEveryNms, checkoutEveryNth, blockClass = 'rr-block', blockSelector = null, ignoreClass = 'rr-ignore', maskTextClass = 'rr-mask', maskTextSelector = null, inlineStylesheet = true, maskAllInputs, maskInputOptions: _maskInputOptions, slimDOMOptions: _slimDOMOptions, maskInputFn, maskTextFn, hooks, packFn, sampling = {}, dataURLOptions = {}, mousemoveWait, recordCanvas = false, recordCrossOriginIframes = false, userTriggeredOnInput = false, collectFonts = false, inlineImages = false, plugins, keepIframeSrcFn = () => false, ignoreCSSAttributes = new Set([]), } = options;\r\n    const inEmittingFrame = recordCrossOriginIframes\r\n        ? window.parent === window\r\n        : true;\r\n    let passEmitsToParent = false;\r\n    if (!inEmittingFrame) {\r\n        try {\r\n            window.parent.document;\r\n            passEmitsToParent = false;\r\n        }\r\n        catch (e) {\r\n            passEmitsToParent = true;\r\n        }\r\n    }\r\n    if (inEmittingFrame && !emit) {\r\n        throw new Error('emit function is required');\r\n    }\r\n    if (mousemoveWait !== undefined && sampling.mousemove === undefined) {\r\n        sampling.mousemove = mousemoveWait;\r\n    }\r\n    mirror.reset();\r\n    const maskInputOptions = maskAllInputs === true\r\n        ? {\r\n            color: true,\r\n            date: true,\r\n            'datetime-local': true,\r\n            email: true,\r\n            month: true,\r\n            number: true,\r\n            range: true,\r\n            search: true,\r\n            tel: true,\r\n            text: true,\r\n            time: true,\r\n            url: true,\r\n            week: true,\r\n            textarea: true,\r\n            select: true,\r\n            password: true,\r\n        }\r\n        : _maskInputOptions !== undefined\r\n            ? _maskInputOptions\r\n            : { password: true };\r\n    const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === 'all'\r\n        ? {\r\n            script: true,\r\n            comment: true,\r\n            headFavicon: true,\r\n            headWhitespace: true,\r\n            headMetaSocial: true,\r\n            headMetaRobots: true,\r\n            headMetaHttpEquiv: true,\r\n            headMetaVerification: true,\r\n            headMetaAuthorship: _slimDOMOptions === 'all',\r\n            headMetaDescKeywords: _slimDOMOptions === 'all',\r\n        }\r\n        : _slimDOMOptions\r\n            ? _slimDOMOptions\r\n            : {};\r\n    polyfill();\r\n    let lastFullSnapshotEvent;\r\n    let incrementalSnapshotCount = 0;\r\n    const eventProcessor = (e) => {\r\n        for (const plugin of plugins || []) {\r\n            if (plugin.eventProcessor) {\r\n                e = plugin.eventProcessor(e);\r\n            }\r\n        }\r\n        if (packFn) {\r\n            e = packFn(e);\r\n        }\r\n        return e;\r\n    };\r\n    wrappedEmit = (e, isCheckout) => {\r\n        var _a;\r\n        if (((_a = mutationBuffers[0]) === null || _a === void 0 ? void 0 : _a.isFrozen()) &&\r\n            e.type !== EventType.FullSnapshot &&\r\n            !(e.type === EventType.IncrementalSnapshot &&\r\n                e.data.source === IncrementalSource.Mutation)) {\r\n            mutationBuffers.forEach((buf) => buf.unfreeze());\r\n        }\r\n        if (inEmittingFrame) {\r\n            emit === null || emit === void 0 ? void 0 : emit(eventProcessor(e), isCheckout);\r\n        }\r\n        else if (passEmitsToParent) {\r\n            const message = {\r\n                type: 'rrweb',\r\n                event: eventProcessor(e),\r\n                isCheckout,\r\n            };\r\n            window.parent.postMessage(message, '*');\r\n        }\r\n        if (e.type === EventType.FullSnapshot) {\r\n            lastFullSnapshotEvent = e;\r\n            incrementalSnapshotCount = 0;\r\n        }\r\n        else if (e.type === EventType.IncrementalSnapshot) {\r\n            if (e.data.source === IncrementalSource.Mutation &&\r\n                e.data.isAttachIframe) {\r\n                return;\r\n            }\r\n            incrementalSnapshotCount++;\r\n            const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\r\n            const exceedTime = checkoutEveryNms &&\r\n                e.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\r\n            if (exceedCount || exceedTime) {\r\n                takeFullSnapshot(true);\r\n            }\r\n        }\r\n    };\r\n    const wrappedMutationEmit = (m) => {\r\n        wrappedEmit(wrapEvent({\r\n            type: EventType.IncrementalSnapshot,\r\n            data: Object.assign({ source: IncrementalSource.Mutation }, m),\r\n        }));\r\n    };\r\n    const wrappedScrollEmit = (p) => wrappedEmit(wrapEvent({\r\n        type: EventType.IncrementalSnapshot,\r\n        data: Object.assign({ source: IncrementalSource.Scroll }, p),\r\n    }));\r\n    const wrappedCanvasMutationEmit = (p) => wrappedEmit(wrapEvent({\r\n        type: EventType.IncrementalSnapshot,\r\n        data: Object.assign({ source: IncrementalSource.CanvasMutation }, p),\r\n    }));\r\n    const wrappedAdoptedStyleSheetEmit = (a) => wrappedEmit(wrapEvent({\r\n        type: EventType.IncrementalSnapshot,\r\n        data: Object.assign({ source: IncrementalSource.AdoptedStyleSheet }, a),\r\n    }));\r\n    const stylesheetManager = new StylesheetManager({\r\n        mutationCb: wrappedMutationEmit,\r\n        adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit,\r\n    });\r\n    const iframeManager = new IframeManager({\r\n        mirror,\r\n        mutationCb: wrappedMutationEmit,\r\n        stylesheetManager: stylesheetManager,\r\n        recordCrossOriginIframes,\r\n        wrappedEmit,\r\n    });\r\n    for (const plugin of plugins || []) {\r\n        if (plugin.getMirror)\r\n            plugin.getMirror({\r\n                nodeMirror: mirror,\r\n                crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\r\n                crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror,\r\n            });\r\n    }\r\n    canvasManager = new CanvasManager({\r\n        recordCanvas,\r\n        mutationCb: wrappedCanvasMutationEmit,\r\n        win: window,\r\n        blockClass,\r\n        blockSelector,\r\n        mirror,\r\n        sampling: sampling.canvas,\r\n        dataURLOptions,\r\n    });\r\n    const shadowDomManager = new ShadowDomManager({\r\n        mutationCb: wrappedMutationEmit,\r\n        scrollCb: wrappedScrollEmit,\r\n        bypassOptions: {\r\n            blockClass,\r\n            blockSelector,\r\n            maskTextClass,\r\n            maskTextSelector,\r\n            inlineStylesheet,\r\n            maskInputOptions,\r\n            dataURLOptions,\r\n            maskTextFn,\r\n            maskInputFn,\r\n            recordCanvas,\r\n            inlineImages,\r\n            sampling,\r\n            slimDOMOptions,\r\n            iframeManager,\r\n            stylesheetManager,\r\n            canvasManager,\r\n            keepIframeSrcFn,\r\n        },\r\n        mirror,\r\n    });\r\n    takeFullSnapshot = (isCheckout = false) => {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        wrappedEmit(wrapEvent({\r\n            type: EventType.Meta,\r\n            data: {\r\n                href: window.location.href,\r\n                width: getWindowWidth(),\r\n                height: getWindowHeight(),\r\n            },\r\n        }), isCheckout);\r\n        stylesheetManager.reset();\r\n        mutationBuffers.forEach((buf) => buf.lock());\r\n        const node = snapshot(document, {\r\n            mirror,\r\n            blockClass,\r\n            blockSelector,\r\n            maskTextClass,\r\n            maskTextSelector,\r\n            inlineStylesheet,\r\n            maskAllInputs: maskInputOptions,\r\n            maskTextFn,\r\n            slimDOM: slimDOMOptions,\r\n            dataURLOptions,\r\n            recordCanvas,\r\n            inlineImages,\r\n            onSerialize: (n) => {\r\n                if (isSerializedIframe(n, mirror)) {\r\n                    iframeManager.addIframe(n);\r\n                }\r\n                if (isSerializedStylesheet(n, mirror)) {\r\n                    stylesheetManager.trackLinkElement(n);\r\n                }\r\n                if (hasShadowRoot(n)) {\r\n                    shadowDomManager.addShadowRoot(n.shadowRoot, document);\r\n                }\r\n            },\r\n            onIframeLoad: (iframe, childSn) => {\r\n                iframeManager.attachIframe(iframe, childSn);\r\n                shadowDomManager.observeAttachShadow(iframe);\r\n            },\r\n            onStylesheetLoad: (linkEl, childSn) => {\r\n                stylesheetManager.attachLinkElement(linkEl, childSn);\r\n            },\r\n            keepIframeSrcFn,\r\n        });\r\n        if (!node) {\r\n            return console.warn('Failed to snapshot the document');\r\n        }\r\n        wrappedEmit(wrapEvent({\r\n            type: EventType.FullSnapshot,\r\n            data: {\r\n                node,\r\n                initialOffset: {\r\n                    left: window.pageXOffset !== undefined\r\n                        ? window.pageXOffset\r\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollLeft) ||\r\n                            ((_b = (_a = document === null || document === void 0 ? void 0 : document.body) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.scrollLeft) ||\r\n                            ((_c = document === null || document === void 0 ? void 0 : document.body) === null || _c === void 0 ? void 0 : _c.scrollLeft) ||\r\n                            0,\r\n                    top: window.pageYOffset !== undefined\r\n                        ? window.pageYOffset\r\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollTop) ||\r\n                            ((_e = (_d = document === null || document === void 0 ? void 0 : document.body) === null || _d === void 0 ? void 0 : _d.parentElement) === null || _e === void 0 ? void 0 : _e.scrollTop) ||\r\n                            ((_f = document === null || document === void 0 ? void 0 : document.body) === null || _f === void 0 ? void 0 : _f.scrollTop) ||\r\n                            0,\r\n                },\r\n            },\r\n        }));\r\n        mutationBuffers.forEach((buf) => buf.unlock());\r\n        if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\r\n            stylesheetManager.adoptStyleSheets(document.adoptedStyleSheets, mirror.getId(document));\r\n    };\r\n    try {\r\n        const handlers = [];\r\n        handlers.push(on('DOMContentLoaded', () => {\r\n            wrappedEmit(wrapEvent({\r\n                type: EventType.DomContentLoaded,\r\n                data: {},\r\n            }));\r\n        }));\r\n        const observe = (doc) => {\r\n            var _a;\r\n            return initObservers({\r\n                mutationCb: wrappedMutationEmit,\r\n                mousemoveCb: (positions, source) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: {\r\n                        source,\r\n                        positions,\r\n                    },\r\n                })),\r\n                mouseInteractionCb: (d) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.MouseInteraction }, d),\r\n                })),\r\n                scrollCb: wrappedScrollEmit,\r\n                viewportResizeCb: (d) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.ViewportResize }, d),\r\n                })),\r\n                inputCb: (v) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.Input }, v),\r\n                })),\r\n                mediaInteractionCb: (p) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.MediaInteraction }, p),\r\n                })),\r\n                styleSheetRuleCb: (r) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.StyleSheetRule }, r),\r\n                })),\r\n                styleDeclarationCb: (r) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.StyleDeclaration }, r),\r\n                })),\r\n                canvasMutationCb: wrappedCanvasMutationEmit,\r\n                fontCb: (p) => wrappedEmit(wrapEvent({\r\n                    type: EventType.IncrementalSnapshot,\r\n                    data: Object.assign({ source: IncrementalSource.Font }, p),\r\n                })),\r\n                selectionCb: (p) => {\r\n                    wrappedEmit(wrapEvent({\r\n                        type: EventType.IncrementalSnapshot,\r\n                        data: Object.assign({ source: IncrementalSource.Selection }, p),\r\n                    }));\r\n                },\r\n                blockClass,\r\n                ignoreClass,\r\n                maskTextClass,\r\n                maskTextSelector,\r\n                maskInputOptions,\r\n                inlineStylesheet,\r\n                sampling,\r\n                recordCanvas,\r\n                inlineImages,\r\n                userTriggeredOnInput,\r\n                collectFonts,\r\n                doc,\r\n                maskInputFn,\r\n                maskTextFn,\r\n                keepIframeSrcFn,\r\n                blockSelector,\r\n                slimDOMOptions,\r\n                dataURLOptions,\r\n                mirror,\r\n                iframeManager,\r\n                stylesheetManager,\r\n                shadowDomManager,\r\n                canvasManager,\r\n                ignoreCSSAttributes,\r\n                plugins: ((_a = plugins === null || plugins === void 0 ? void 0 : plugins.filter((p) => p.observer)) === null || _a === void 0 ? void 0 : _a.map((p) => ({\r\n                    observer: p.observer,\r\n                    options: p.options,\r\n                    callback: (payload) => wrappedEmit(wrapEvent({\r\n                        type: EventType.Plugin,\r\n                        data: {\r\n                            plugin: p.name,\r\n                            payload,\r\n                        },\r\n                    })),\r\n                }))) || [],\r\n            }, hooks);\r\n        };\r\n        iframeManager.addLoadListener((iframeEl) => {\r\n            handlers.push(observe(iframeEl.contentDocument));\r\n        });\r\n        const init = () => {\r\n            takeFullSnapshot();\r\n            handlers.push(observe(document));\r\n            recording = true;\r\n        };\r\n        if (document.readyState === 'interactive' ||\r\n            document.readyState === 'complete') {\r\n            init();\r\n        }\r\n        else {\r\n            handlers.push(on('load', () => {\r\n                wrappedEmit(wrapEvent({\r\n                    type: EventType.Load,\r\n                    data: {},\r\n                }));\r\n                init();\r\n            }, window));\r\n        }\r\n        return () => {\r\n            handlers.forEach((h) => h());\r\n            recording = false;\r\n        };\r\n    }\r\n    catch (error) {\r\n        console.warn(error);\r\n    }\r\n}\r\nrecord.addCustomEvent = (tag, payload) => {\r\n    if (!recording) {\r\n        throw new Error('please add custom event after start recording');\r\n    }\r\n    wrappedEmit(wrapEvent({\r\n        type: EventType.Custom,\r\n        data: {\r\n            tag,\r\n            payload,\r\n        },\r\n    }));\r\n};\r\nrecord.freezePage = () => {\r\n    mutationBuffers.forEach((buf) => buf.freeze());\r\n};\r\nrecord.takeFullSnapshot = (isCheckout) => {\r\n    if (!recording) {\r\n        throw new Error('please take full snapshot after start recording');\r\n    }\r\n    takeFullSnapshot(isCheckout);\r\n};\r\nrecord.mirror = mirror;\n\nexport { record as default };\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i)\n            co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                if (!noSt && pos + tl * (clb + 7) > tbts)\n                    break;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts)\n                throw 'unexpected EOF';\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var mxa = lbt + dbt + 18;\n        while (noSt || pos + mxa < tbts) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts)\n                throw 'unexpected EOF';\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = pos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [new u8(0), 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768\n            var imod = i & 32767;\n            // previous index with this value\n            var pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst)\n            pos = wfblk(w, pos, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 5552, l);\n                for (; i < e; ++i)\n                    n += d[i], m += n;\n                n %= 65521, m %= 65521;\n            }\n            a = n, b = m;\n        },\n        d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n    };\n};\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nfunction zlibSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nfunction unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nfunction strToU8(str, latin1) {\n    var l = str.length;\n    if (!latin1 && typeof TextEncoder != 'undefined')\n        return new TextEncoder().encode(str);\n    var ar = new u8(str.length + (str.length >>> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >>> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nfunction strFromU8(dat, latin1) {\n    var r = '';\n    if (!latin1 && typeof TextDecoder != 'undefined')\n        return new TextDecoder().decode(dat);\n    for (var i = 0; i < dat.length;) {\n        var c = dat[i++];\n        if (c < 128 || latin1)\n            r += String.fromCharCode(c);\n        else if (c < 224)\n            r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n        else if (c < 240)\n            r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n        else\n            c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n    }\n    return r;\n}\n\nexport { strFromU8, strToU8, unzlibSync, zlibSync };\n","const MARK = 'v1';\n\nexport { MARK };\n","import { strFromU8, unzlibSync, strToU8 } from './../../../../ext/fflate/esm/browser.js';\nimport { MARK } from './base.js';\n\nconst unpack = (raw) => {\r\n    if (typeof raw !== 'string') {\r\n        return raw;\r\n    }\r\n    try {\r\n        const e = JSON.parse(raw);\r\n        if (e.timestamp) {\r\n            return e;\r\n        }\r\n    }\r\n    catch (error) {\r\n    }\r\n    try {\r\n        const e = JSON.parse(strFromU8(unzlibSync(strToU8(raw, true))));\r\n        if (e.v === MARK) {\r\n            return e;\r\n        }\r\n        throw new Error(`These events were packed with packer ${e.v} which is incompatible with current packer ${MARK}.`);\r\n    }\r\n    catch (error) {\r\n        console.error(error);\r\n        throw new Error('Unknown data format.');\r\n    }\r\n};\n\nexport { unpack };\n","function mitt(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e);});}}}\n\nexport { mitt as default };\n","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction t(t,n){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)a.push(r.value);}catch(t){o={error:t};}finally{try{r&&!r.done&&(e=i.return)&&e.call(i);}finally{if(o)throw o.error}}return a}var n;!function(t){t[t.NotStarted=0]=\"NotStarted\",t[t.Running=1]=\"Running\",t[t.Stopped=2]=\"Stopped\";}(n||(n={}));var e={type:\"xstate.init\"};function r(t){return void 0===t?[]:[].concat(t)}function o(t){return {type:\"xstate.assign\",assignment:t}}function i(t,n){return \"string\"==typeof(t=\"string\"==typeof t&&n&&n[t]?n[t]:t)?{type:t}:\"function\"==typeof t?{type:t.name,exec:t}:t}function a(t){return function(n){return t===n}}function u(t){return \"string\"==typeof t?{type:t}:t}function c(t,n){return {value:t,context:n,actions:[],changed:!1,matches:a(t)}}function f(t,n,e){var r=n,o=!1;return [t.filter((function(t){if(\"xstate.assign\"===t.type){o=!0;var n=Object.assign({},r);return \"function\"==typeof t.assignment?n=t.assignment(r,e):Object.keys(t.assignment).forEach((function(o){n[o]=\"function\"==typeof t.assignment[o]?t.assignment[o](r,e):t.assignment[o];})),r=n,!1}return !0})),r,o]}function s(n,o){void 0===o&&(o={});var s=t(f(r(n.states[n.initial].entry).map((function(t){return i(t,o.actions)})),n.context,e),2),l=s[0],v=s[1],y={config:n,_options:o,initialState:{value:n.initial,actions:l,context:v,matches:a(n.initial)},transition:function(e,o){var s,l,v=\"string\"==typeof e?{value:e,context:n.context}:e,p=v.value,g=v.context,d=u(o),x=n.states[p];if(x.on){var m=r(x.on[d.type]);try{for(var h=function(t){var n=\"function\"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&\"number\"==typeof t.length)return {next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}(m),b=h.next();!b.done;b=h.next()){var S=b.value;if(void 0===S)return c(p,g);var w=\"string\"==typeof S?{target:S}:S,j=w.target,E=w.actions,R=void 0===E?[]:E,N=w.cond,O=void 0===N?function(){return !0}:N,_=void 0===j,k=null!=j?j:p,T=n.states[k];if(O(g,d)){var q=t(f((_?r(R):[].concat(x.exit,R,T.entry).filter((function(t){return t}))).map((function(t){return i(t,y._options.actions)})),g,d),3),z=q[0],A=q[1],B=q[2],C=null!=j?j:p;return {value:C,context:A,actions:z,changed:j!==p||z.length>0||B,matches:a(C)}}}}catch(t){s={error:t};}finally{try{b&&!b.done&&(l=h.return)&&l.call(h);}finally{if(s)throw s.error}}}return c(p,g)}};return y}var l=function(t,n){return t.actions.forEach((function(e){var r=e.exec;return r&&r(t.context,n)}))};function v(t){var r=t.initialState,o=n.NotStarted,i=new Set,c={_machine:t,send:function(e){o===n.Running&&(r=t.transition(r,e),l(r,u(e)),i.forEach((function(t){return t(r)})));},subscribe:function(t){return i.add(t),t(r),{unsubscribe:function(){return i.delete(t)}}},start:function(i){if(i){var u=\"object\"==typeof i?i:{context:t.config.context,value:i};r={value:u.value,actions:[],context:u.context,matches:a(u.value)};}return o=n.Running,l(r,e),c},stop:function(){return o=n.Stopped,i.clear(),c},get state(){return r},get status(){return o}};return c}\n\nexport { n as InterpreterStatus, o as assign, s as createMachine, v as interpret };\n","function polyfill(w = window, d = document) {\r\n    if ('scrollBehavior' in d.documentElement.style &&\r\n        w.__forceSmoothScrollPolyfill__ !== true) {\r\n        return;\r\n    }\r\n    const Element = w.HTMLElement || w.Element;\r\n    const SCROLL_TIME = 468;\r\n    const original = {\r\n        scroll: w.scroll || w.scrollTo,\r\n        scrollBy: w.scrollBy,\r\n        elementScroll: Element.prototype.scroll || scrollElement,\r\n        scrollIntoView: Element.prototype.scrollIntoView,\r\n    };\r\n    const now = w.performance && w.performance.now\r\n        ? w.performance.now.bind(w.performance)\r\n        : Date.now;\r\n    function isMicrosoftBrowser(userAgent) {\r\n        const userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\r\n        return new RegExp(userAgentPatterns.join('|')).test(userAgent);\r\n    }\r\n    const ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\r\n    function scrollElement(x, y) {\r\n        this.scrollLeft = x;\r\n        this.scrollTop = y;\r\n    }\r\n    function ease(k) {\r\n        return 0.5 * (1 - Math.cos(Math.PI * k));\r\n    }\r\n    function shouldBailOut(firstArg) {\r\n        if (firstArg === null ||\r\n            typeof firstArg !== 'object' ||\r\n            firstArg.behavior === undefined ||\r\n            firstArg.behavior === 'auto' ||\r\n            firstArg.behavior === 'instant') {\r\n            return true;\r\n        }\r\n        if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\r\n            return false;\r\n        }\r\n        throw new TypeError('behavior member of ScrollOptions ' +\r\n            firstArg.behavior +\r\n            ' is not a valid value for enumeration ScrollBehavior.');\r\n    }\r\n    function hasScrollableSpace(el, axis) {\r\n        if (axis === 'Y') {\r\n            return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\r\n        }\r\n        if (axis === 'X') {\r\n            return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\r\n        }\r\n    }\r\n    function canOverflow(el, axis) {\r\n        const overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\r\n        return overflowValue === 'auto' || overflowValue === 'scroll';\r\n    }\r\n    function isScrollable(el) {\r\n        const isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\r\n        const isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\r\n        return isScrollableY || isScrollableX;\r\n    }\r\n    function findScrollableParent(el) {\r\n        while (el !== d.body && isScrollable(el) === false) {\r\n            el = el.parentNode || el.host;\r\n        }\r\n        return el;\r\n    }\r\n    function step(context) {\r\n        const time = now();\r\n        let value;\r\n        let currentX;\r\n        let currentY;\r\n        let elapsed = (time - context.startTime) / SCROLL_TIME;\r\n        elapsed = elapsed > 1 ? 1 : elapsed;\r\n        value = ease(elapsed);\r\n        currentX = context.startX + (context.x - context.startX) * value;\r\n        currentY = context.startY + (context.y - context.startY) * value;\r\n        context.method.call(context.scrollable, currentX, currentY);\r\n        if (currentX !== context.x || currentY !== context.y) {\r\n            w.requestAnimationFrame(step.bind(w, context));\r\n        }\r\n    }\r\n    function smoothScroll(el, x, y) {\r\n        let scrollable;\r\n        let startX;\r\n        let startY;\r\n        let method;\r\n        const startTime = now();\r\n        if (el === d.body) {\r\n            scrollable = w;\r\n            startX = w.scrollX || w.pageXOffset;\r\n            startY = w.scrollY || w.pageYOffset;\r\n            method = original.scroll;\r\n        }\r\n        else {\r\n            scrollable = el;\r\n            startX = el.scrollLeft;\r\n            startY = el.scrollTop;\r\n            method = scrollElement;\r\n        }\r\n        step({\r\n            scrollable: scrollable,\r\n            method: method,\r\n            startTime: startTime,\r\n            startX: startX,\r\n            startY: startY,\r\n            x: x,\r\n            y: y,\r\n        });\r\n    }\r\n    w.scroll = w.scrollTo = function () {\r\n        if (arguments[0] === undefined) {\r\n            return;\r\n        }\r\n        if (shouldBailOut(arguments[0]) === true) {\r\n            original.scroll.call(w, arguments[0].left !== undefined\r\n                ? arguments[0].left\r\n                : typeof arguments[0] !== 'object'\r\n                    ? arguments[0]\r\n                    : w.scrollX || w.pageXOffset, arguments[0].top !== undefined\r\n                ? arguments[0].top\r\n                : arguments[1] !== undefined\r\n                    ? arguments[1]\r\n                    : w.scrollY || w.pageYOffset);\r\n            return;\r\n        }\r\n        smoothScroll.call(w, d.body, arguments[0].left !== undefined\r\n            ? ~~arguments[0].left\r\n            : w.scrollX || w.pageXOffset, arguments[0].top !== undefined\r\n            ? ~~arguments[0].top\r\n            : w.scrollY || w.pageYOffset);\r\n    };\r\n    w.scrollBy = function () {\r\n        if (arguments[0] === undefined) {\r\n            return;\r\n        }\r\n        if (shouldBailOut(arguments[0])) {\r\n            original.scrollBy.call(w, arguments[0].left !== undefined\r\n                ? arguments[0].left\r\n                : typeof arguments[0] !== 'object'\r\n                    ? arguments[0]\r\n                    : 0, arguments[0].top !== undefined\r\n                ? arguments[0].top\r\n                : arguments[1] !== undefined\r\n                    ? arguments[1]\r\n                    : 0);\r\n            return;\r\n        }\r\n        smoothScroll.call(w, d.body, ~~arguments[0].left + (w.scrollX || w.pageXOffset), ~~arguments[0].top + (w.scrollY || w.pageYOffset));\r\n    };\r\n    Element.prototype.scroll = Element.prototype.scrollTo = function () {\r\n        if (arguments[0] === undefined) {\r\n            return;\r\n        }\r\n        if (shouldBailOut(arguments[0]) === true) {\r\n            if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\r\n                throw new SyntaxError('Value could not be converted');\r\n            }\r\n            original.elementScroll.call(this, arguments[0].left !== undefined\r\n                ? ~~arguments[0].left\r\n                : typeof arguments[0] !== 'object'\r\n                    ? ~~arguments[0]\r\n                    : this.scrollLeft, arguments[0].top !== undefined\r\n                ? ~~arguments[0].top\r\n                : arguments[1] !== undefined\r\n                    ? ~~arguments[1]\r\n                    : this.scrollTop);\r\n            return;\r\n        }\r\n        const left = arguments[0].left;\r\n        const top = arguments[0].top;\r\n        smoothScroll.call(this, this, typeof left === 'undefined' ? this.scrollLeft : ~~left, typeof top === 'undefined' ? this.scrollTop : ~~top);\r\n    };\r\n    Element.prototype.scrollBy = function () {\r\n        if (arguments[0] === undefined) {\r\n            return;\r\n        }\r\n        if (shouldBailOut(arguments[0]) === true) {\r\n            original.elementScroll.call(this, arguments[0].left !== undefined\r\n                ? ~~arguments[0].left + this.scrollLeft\r\n                : ~~arguments[0] + this.scrollLeft, arguments[0].top !== undefined\r\n                ? ~~arguments[0].top + this.scrollTop\r\n                : ~~arguments[1] + this.scrollTop);\r\n            return;\r\n        }\r\n        this.scroll({\r\n            left: ~~arguments[0].left + this.scrollLeft,\r\n            top: ~~arguments[0].top + this.scrollTop,\r\n            behavior: arguments[0].behavior,\r\n        });\r\n    };\r\n    Element.prototype.scrollIntoView = function () {\r\n        if (shouldBailOut(arguments[0]) === true) {\r\n            original.scrollIntoView.call(this, arguments[0] === undefined ? true : arguments[0]);\r\n            return;\r\n        }\r\n        const scrollableParent = findScrollableParent(this);\r\n        const parentRects = scrollableParent.getBoundingClientRect();\r\n        const clientRects = this.getBoundingClientRect();\r\n        if (scrollableParent !== d.body) {\r\n            smoothScroll.call(this, scrollableParent, scrollableParent.scrollLeft + clientRects.left - parentRects.left, scrollableParent.scrollTop + clientRects.top - parentRects.top);\r\n            if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\r\n                w.scrollBy({\r\n                    left: parentRects.left,\r\n                    top: parentRects.top,\r\n                    behavior: 'smooth',\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            w.scrollBy({\r\n                left: clientRects.left,\r\n                top: clientRects.top,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    };\r\n}\n\nexport { polyfill };\n","import { EventType, IncrementalSource } from '../../../types/dist/types.js';\n\nclass Timer {\r\n    constructor(actions = [], config) {\r\n        this.timeOffset = 0;\r\n        this.raf = null;\r\n        this.actions = actions;\r\n        this.speed = config.speed;\r\n        this.liveMode = config.liveMode;\r\n    }\r\n    addAction(action) {\r\n        if (!this.actions.length ||\r\n            this.actions[this.actions.length - 1].delay <= action.delay) {\r\n            this.actions.push(action);\r\n            return;\r\n        }\r\n        const index = this.findActionIndex(action);\r\n        this.actions.splice(index, 0, action);\r\n    }\r\n    start() {\r\n        this.timeOffset = 0;\r\n        let lastTimestamp = performance.now();\r\n        const check = () => {\r\n            const time = performance.now();\r\n            this.timeOffset += (time - lastTimestamp) * this.speed;\r\n            lastTimestamp = time;\r\n            while (this.actions.length) {\r\n                const action = this.actions[0];\r\n                if (this.timeOffset >= action.delay) {\r\n                    this.actions.shift();\r\n                    action.doAction();\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (this.actions.length > 0 || this.liveMode) {\r\n                this.raf = requestAnimationFrame(check);\r\n            }\r\n        };\r\n        this.raf = requestAnimationFrame(check);\r\n    }\r\n    clear() {\r\n        if (this.raf) {\r\n            cancelAnimationFrame(this.raf);\r\n            this.raf = null;\r\n        }\r\n        this.actions.length = 0;\r\n    }\r\n    setSpeed(speed) {\r\n        this.speed = speed;\r\n    }\r\n    toggleLiveMode(mode) {\r\n        this.liveMode = mode;\r\n    }\r\n    isActive() {\r\n        return this.raf !== null;\r\n    }\r\n    findActionIndex(action) {\r\n        let start = 0;\r\n        let end = this.actions.length - 1;\r\n        while (start <= end) {\r\n            const mid = Math.floor((start + end) / 2);\r\n            if (this.actions[mid].delay < action.delay) {\r\n                start = mid + 1;\r\n            }\r\n            else if (this.actions[mid].delay > action.delay) {\r\n                end = mid - 1;\r\n            }\r\n            else {\r\n                return mid + 1;\r\n            }\r\n        }\r\n        return start;\r\n    }\r\n}\r\nfunction addDelay(event, baselineTime) {\r\n    if (event.type === EventType.IncrementalSnapshot &&\r\n        event.data.source === IncrementalSource.MouseMove &&\r\n        event.data.positions &&\r\n        event.data.positions.length) {\r\n        const firstOffset = event.data.positions[0].timeOffset;\r\n        const firstTimestamp = event.timestamp + firstOffset;\r\n        event.delay = firstTimestamp - baselineTime;\r\n        return firstTimestamp - baselineTime;\r\n    }\r\n    event.delay = event.timestamp - baselineTime;\r\n    return event.delay;\r\n}\n\nexport { Timer, addDelay };\n","import { interpret as v, createMachine as s, assign as o } from './../../../../ext/@xstate/fsm/es/index.js';\nimport { EventType, IncrementalSource, ReplayerEvents } from '../../../types/dist/types.js';\nimport { addDelay } from './timer.js';\n\nfunction discardPriorSnapshots(events, baselineTime) {\r\n    for (let idx = events.length - 1; idx >= 0; idx--) {\r\n        const event = events[idx];\r\n        if (event.type === EventType.Meta) {\r\n            if (event.timestamp <= baselineTime) {\r\n                return events.slice(idx);\r\n            }\r\n        }\r\n    }\r\n    return events;\r\n}\r\nfunction createPlayerService(context, { getCastFn, applyEventsSynchronously, emitter }) {\r\n    const playerMachine = s({\r\n        id: 'player',\r\n        context,\r\n        initial: 'paused',\r\n        states: {\r\n            playing: {\r\n                on: {\r\n                    PAUSE: {\r\n                        target: 'paused',\r\n                        actions: ['pause'],\r\n                    },\r\n                    CAST_EVENT: {\r\n                        target: 'playing',\r\n                        actions: 'castEvent',\r\n                    },\r\n                    END: {\r\n                        target: 'paused',\r\n                        actions: ['resetLastPlayedEvent', 'pause'],\r\n                    },\r\n                    ADD_EVENT: {\r\n                        target: 'playing',\r\n                        actions: ['addEvent'],\r\n                    },\r\n                },\r\n            },\r\n            paused: {\r\n                on: {\r\n                    PLAY: {\r\n                        target: 'playing',\r\n                        actions: ['recordTimeOffset', 'play'],\r\n                    },\r\n                    CAST_EVENT: {\r\n                        target: 'paused',\r\n                        actions: 'castEvent',\r\n                    },\r\n                    TO_LIVE: {\r\n                        target: 'live',\r\n                        actions: ['startLive'],\r\n                    },\r\n                    ADD_EVENT: {\r\n                        target: 'paused',\r\n                        actions: ['addEvent'],\r\n                    },\r\n                },\r\n            },\r\n            live: {\r\n                on: {\r\n                    ADD_EVENT: {\r\n                        target: 'live',\r\n                        actions: ['addEvent'],\r\n                    },\r\n                    CAST_EVENT: {\r\n                        target: 'live',\r\n                        actions: ['castEvent'],\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    }, {\r\n        actions: {\r\n            castEvent: o({\r\n                lastPlayedEvent: (ctx, event) => {\r\n                    if (event.type === 'CAST_EVENT') {\r\n                        return event.payload.event;\r\n                    }\r\n                    return ctx.lastPlayedEvent;\r\n                },\r\n            }),\r\n            recordTimeOffset: o((ctx, event) => {\r\n                let timeOffset = ctx.timeOffset;\r\n                if ('payload' in event && 'timeOffset' in event.payload) {\r\n                    timeOffset = event.payload.timeOffset;\r\n                }\r\n                return Object.assign(Object.assign({}, ctx), { timeOffset, baselineTime: ctx.events[0].timestamp + timeOffset });\r\n            }),\r\n            play(ctx) {\r\n                var _a;\r\n                const { timer, events, baselineTime, lastPlayedEvent } = ctx;\r\n                timer.clear();\r\n                for (const event of events) {\r\n                    addDelay(event, baselineTime);\r\n                }\r\n                const neededEvents = discardPriorSnapshots(events, baselineTime);\r\n                let lastPlayedTimestamp = lastPlayedEvent === null || lastPlayedEvent === void 0 ? void 0 : lastPlayedEvent.timestamp;\r\n                if ((lastPlayedEvent === null || lastPlayedEvent === void 0 ? void 0 : lastPlayedEvent.type) === EventType.IncrementalSnapshot &&\r\n                    lastPlayedEvent.data.source === IncrementalSource.MouseMove) {\r\n                    lastPlayedTimestamp =\r\n                        lastPlayedEvent.timestamp +\r\n                            ((_a = lastPlayedEvent.data.positions[0]) === null || _a === void 0 ? void 0 : _a.timeOffset);\r\n                }\r\n                if (baselineTime < (lastPlayedTimestamp || 0)) {\r\n                    emitter.emit(ReplayerEvents.PlayBack);\r\n                }\r\n                const syncEvents = new Array();\r\n                for (const event of neededEvents) {\r\n                    if (lastPlayedTimestamp &&\r\n                        lastPlayedTimestamp < baselineTime &&\r\n                        (event.timestamp <= lastPlayedTimestamp ||\r\n                            event === lastPlayedEvent)) {\r\n                        continue;\r\n                    }\r\n                    if (event.timestamp < baselineTime) {\r\n                        syncEvents.push(event);\r\n                    }\r\n                    else {\r\n                        const castFn = getCastFn(event, false);\r\n                        timer.addAction({\r\n                            doAction: () => {\r\n                                castFn();\r\n                            },\r\n                            delay: event.delay,\r\n                        });\r\n                    }\r\n                }\r\n                applyEventsSynchronously(syncEvents);\r\n                emitter.emit(ReplayerEvents.Flush);\r\n                timer.start();\r\n            },\r\n            pause(ctx) {\r\n                ctx.timer.clear();\r\n            },\r\n            resetLastPlayedEvent: o((ctx) => {\r\n                return Object.assign(Object.assign({}, ctx), { lastPlayedEvent: null });\r\n            }),\r\n            startLive: o({\r\n                baselineTime: (ctx, event) => {\r\n                    ctx.timer.toggleLiveMode(true);\r\n                    ctx.timer.start();\r\n                    if (event.type === 'TO_LIVE' && event.payload.baselineTime) {\r\n                        return event.payload.baselineTime;\r\n                    }\r\n                    return Date.now();\r\n                },\r\n            }),\r\n            addEvent: o((ctx, machineEvent) => {\r\n                const { baselineTime, timer, events } = ctx;\r\n                if (machineEvent.type === 'ADD_EVENT') {\r\n                    const { event } = machineEvent.payload;\r\n                    addDelay(event, baselineTime);\r\n                    let end = events.length - 1;\r\n                    if (!events[end] || events[end].timestamp <= event.timestamp) {\r\n                        events.push(event);\r\n                    }\r\n                    else {\r\n                        let insertionIndex = -1;\r\n                        let start = 0;\r\n                        while (start <= end) {\r\n                            const mid = Math.floor((start + end) / 2);\r\n                            if (events[mid].timestamp <= event.timestamp) {\r\n                                start = mid + 1;\r\n                            }\r\n                            else {\r\n                                end = mid - 1;\r\n                            }\r\n                        }\r\n                        if (insertionIndex === -1) {\r\n                            insertionIndex = start;\r\n                        }\r\n                        events.splice(insertionIndex, 0, event);\r\n                    }\r\n                    const isSync = event.timestamp < baselineTime;\r\n                    const castFn = getCastFn(event, isSync);\r\n                    if (isSync) {\r\n                        castFn();\r\n                    }\r\n                    else if (timer.isActive()) {\r\n                        timer.addAction({\r\n                            doAction: () => {\r\n                                castFn();\r\n                            },\r\n                            delay: event.delay,\r\n                        });\r\n                    }\r\n                }\r\n                return Object.assign(Object.assign({}, ctx), { events });\r\n            }),\r\n        },\r\n    });\r\n    return v(playerMachine);\r\n}\r\nfunction createSpeedService(context) {\r\n    const speedMachine = s({\r\n        id: 'speed',\r\n        context,\r\n        initial: 'normal',\r\n        states: {\r\n            normal: {\r\n                on: {\r\n                    FAST_FORWARD: {\r\n                        target: 'skipping',\r\n                        actions: ['recordSpeed', 'setSpeed'],\r\n                    },\r\n                    SET_SPEED: {\r\n                        target: 'normal',\r\n                        actions: ['setSpeed'],\r\n                    },\r\n                },\r\n            },\r\n            skipping: {\r\n                on: {\r\n                    BACK_TO_NORMAL: {\r\n                        target: 'normal',\r\n                        actions: ['restoreSpeed'],\r\n                    },\r\n                    SET_SPEED: {\r\n                        target: 'normal',\r\n                        actions: ['setSpeed'],\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    }, {\r\n        actions: {\r\n            setSpeed: (ctx, event) => {\r\n                if ('payload' in event) {\r\n                    ctx.timer.setSpeed(event.payload.speed);\r\n                }\r\n            },\r\n            recordSpeed: o({\r\n                normalSpeed: (ctx) => ctx.timer.speed,\r\n            }),\r\n            restoreSpeed: (ctx) => {\r\n                ctx.timer.setSpeed(ctx.normalSpeed);\r\n            },\r\n        },\r\n    });\r\n    return v(speedMachine);\r\n}\n\nexport { createPlayerService, createSpeedService, discardPriorSnapshots };\n","const rules = (blockClass) => [\r\n    `.${blockClass} { background: currentColor }`,\r\n    'noscript { display: none !important; }',\r\n];\n\nexport { rules as default };\n","import { __awaiter } from './../../../../../ext/tslib/tslib.es6.js';\nimport { decode } from './../../../../../ext/base64-arraybuffer/dist/base64-arraybuffer.es5.js';\n\nconst webGLVarMap = new Map();\r\nfunction variableListFor(ctx, ctor) {\r\n    let contextMap = webGLVarMap.get(ctx);\r\n    if (!contextMap) {\r\n        contextMap = new Map();\r\n        webGLVarMap.set(ctx, contextMap);\r\n    }\r\n    if (!contextMap.has(ctor)) {\r\n        contextMap.set(ctor, []);\r\n    }\r\n    return contextMap.get(ctor);\r\n}\r\nfunction deserializeArg(imageMap, ctx, preload) {\r\n    return (arg) => __awaiter(this, void 0, void 0, function* () {\r\n        if (arg && typeof arg === 'object' && 'rr_type' in arg) {\r\n            if (preload)\r\n                preload.isUnchanged = false;\r\n            if (arg.rr_type === 'ImageBitmap' && 'args' in arg) {\r\n                const args = yield deserializeArg(imageMap, ctx, preload)(arg.args);\r\n                return yield createImageBitmap.apply(null, args);\r\n            }\r\n            else if ('index' in arg) {\r\n                if (preload || ctx === null)\r\n                    return arg;\r\n                const { rr_type: name, index } = arg;\r\n                return variableListFor(ctx, name)[index];\r\n            }\r\n            else if ('args' in arg) {\r\n                const { rr_type: name, args } = arg;\r\n                const ctor = window[name];\r\n                return new ctor(...(yield Promise.all(args.map(deserializeArg(imageMap, ctx, preload)))));\r\n            }\r\n            else if ('base64' in arg) {\r\n                return decode(arg.base64);\r\n            }\r\n            else if ('src' in arg) {\r\n                const image = imageMap.get(arg.src);\r\n                if (image) {\r\n                    return image;\r\n                }\r\n                else {\r\n                    const image = new Image();\r\n                    image.src = arg.src;\r\n                    imageMap.set(arg.src, image);\r\n                    return image;\r\n                }\r\n            }\r\n            else if ('data' in arg && arg.rr_type === 'Blob') {\r\n                const blobContents = yield Promise.all(arg.data.map(deserializeArg(imageMap, ctx, preload)));\r\n                const blob = new Blob(blobContents, {\r\n                    type: arg.type,\r\n                });\r\n                return blob;\r\n            }\r\n        }\r\n        else if (Array.isArray(arg)) {\r\n            const result = yield Promise.all(arg.map(deserializeArg(imageMap, ctx, preload)));\r\n            return result;\r\n        }\r\n        return arg;\r\n    });\r\n}\n\nexport { deserializeArg, variableListFor };\n","import { __awaiter } from './../../../../../ext/tslib/tslib.es6.js';\nimport { CanvasContext } from '../../../../types/dist/types.js';\nimport { deserializeArg, variableListFor } from './deserialize-args.js';\n\nfunction getContext(target, type) {\r\n    try {\r\n        if (type === CanvasContext.WebGL) {\r\n            return (target.getContext('webgl') || target.getContext('experimental-webgl'));\r\n        }\r\n        return target.getContext('webgl2');\r\n    }\r\n    catch (e) {\r\n        return null;\r\n    }\r\n}\r\nconst WebGLVariableConstructorsNames = [\r\n    'WebGLActiveInfo',\r\n    'WebGLBuffer',\r\n    'WebGLFramebuffer',\r\n    'WebGLProgram',\r\n    'WebGLRenderbuffer',\r\n    'WebGLShader',\r\n    'WebGLShaderPrecisionFormat',\r\n    'WebGLTexture',\r\n    'WebGLUniformLocation',\r\n    'WebGLVertexArrayObject',\r\n];\r\nfunction saveToWebGLVarMap(ctx, result) {\r\n    if (!(result === null || result === void 0 ? void 0 : result.constructor))\r\n        return;\r\n    const { name } = result.constructor;\r\n    if (!WebGLVariableConstructorsNames.includes(name))\r\n        return;\r\n    const variables = variableListFor(ctx, name);\r\n    if (!variables.includes(result))\r\n        variables.push(result);\r\n}\r\nfunction webglMutation({ mutation, target, type, imageMap, errorHandler, }) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const ctx = getContext(target, type);\r\n            if (!ctx)\r\n                return;\r\n            if (mutation.setter) {\r\n                ctx[mutation.property] = mutation.args[0];\r\n                return;\r\n            }\r\n            const original = ctx[mutation.property];\r\n            const args = yield Promise.all(mutation.args.map(deserializeArg(imageMap, ctx)));\r\n            const result = original.apply(ctx, args);\r\n            saveToWebGLVarMap(ctx, result);\r\n            const debugMode = false;\r\n            if (debugMode) ;\r\n        }\r\n        catch (error) {\r\n            errorHandler(mutation, error);\r\n        }\r\n    });\r\n}\n\nexport { webglMutation as default };\n","import { __awaiter } from './../../../../../ext/tslib/tslib.es6.js';\nimport { deserializeArg } from './deserialize-args.js';\n\nfunction canvasMutation({ event, mutation, target, imageMap, errorHandler, }) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const ctx = target.getContext('2d');\r\n            if (mutation.setter) {\r\n                ctx[mutation.property] =\r\n                    mutation.args[0];\r\n                return;\r\n            }\r\n            const original = ctx[mutation.property];\r\n            if (mutation.property === 'drawImage' &&\r\n                typeof mutation.args[0] === 'string') {\r\n                imageMap.get(event);\r\n                original.apply(ctx, mutation.args);\r\n            }\r\n            else {\r\n                const args = yield Promise.all(mutation.args.map(deserializeArg(imageMap, ctx)));\r\n                original.apply(ctx, args);\r\n            }\r\n        }\r\n        catch (error) {\r\n            errorHandler(mutation, error);\r\n        }\r\n    });\r\n}\n\nexport { canvasMutation as default };\n","import { __awaiter } from './../../../../../ext/tslib/tslib.es6.js';\nimport { CanvasContext } from '../../../../types/dist/types.js';\nimport webglMutation from './webgl.js';\nimport canvasMutation$1 from './2d.js';\n\nfunction canvasMutation({ event, mutation, target, imageMap, canvasEventMap, errorHandler, }) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const precomputedMutation = canvasEventMap.get(event) || mutation;\r\n            const commands = 'commands' in precomputedMutation\r\n                ? precomputedMutation.commands\r\n                : [precomputedMutation];\r\n            if ([CanvasContext.WebGL, CanvasContext.WebGL2].includes(mutation.type)) {\r\n                for (let i = 0; i < commands.length; i++) {\r\n                    const command = commands[i];\r\n                    yield webglMutation({\r\n                        mutation: command,\r\n                        type: mutation.type,\r\n                        target,\r\n                        imageMap,\r\n                        errorHandler,\r\n                    });\r\n                }\r\n                return;\r\n            }\r\n            for (let i = 0; i < commands.length; i++) {\r\n                const command = commands[i];\r\n                yield canvasMutation$1({\r\n                    event,\r\n                    mutation: command,\r\n                    target,\r\n                    imageMap,\r\n                    errorHandler,\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            errorHandler(mutation, error);\r\n        }\r\n    });\r\n}\n\nexport { canvasMutation as default };\n","import { __awaiter } from './../../../../ext/tslib/tslib.es6.js';\nimport { createCache, createMirror, rebuild, buildNodeWithSN, NodeType } from '../../../rrweb-snapshot/es/rrweb-snapshot.js';\nimport { RRDocument, diff, createOrGetNode, getDefaultSN, buildFromDom, buildFromNode } from '../../../rrdom/es/rrdom.js';\nimport * as mitt$1 from './../../../../ext/mitt/dist/mitt.mjs.js';\nimport mitt$2 from './../../../../ext/mitt/dist/mitt.mjs.js';\nimport { polyfill } from './smoothscroll.js';\nimport { Timer } from './timer.js';\nimport { createPlayerService, createSpeedService } from './machine.js';\nimport { EventType, ReplayerEvents, IncrementalSource, MouseInteractions } from '../../../types/dist/types.js';\nimport { StyleSheetMirror, polyfill as polyfill$1, isSerializedIframe, hasShadowRoot, queueToResolveTrees, iterateResolveTree, uniqueTextMutations, getPositionsAndIndex, getNestedRule, getBaseDimension } from '../utils.js';\nimport rules from './styles/inject-style.js';\nimport canvasMutation from './canvas/index.js';\nimport { deserializeArg } from './canvas/deserialize-args.js';\n\nconst SKIP_TIME_THRESHOLD = 10 * 1000;\r\nconst SKIP_TIME_INTERVAL = 5 * 1000;\r\nconst mitt = mitt$2 || mitt$1;\r\nconst REPLAY_CONSOLE_PREFIX = '[replayer]';\r\nconst defaultMouseTailConfig = {\r\n    duration: 500,\r\n    lineCap: 'round',\r\n    lineWidth: 3,\r\n    strokeStyle: 'red',\r\n};\r\nfunction indicatesTouchDevice(e) {\r\n    return (e.type == EventType.IncrementalSnapshot &&\r\n        (e.data.source == IncrementalSource.TouchMove ||\r\n            (e.data.source == IncrementalSource.MouseInteraction &&\r\n                e.data.type == MouseInteractions.TouchStart)));\r\n}\r\nclass Replayer {\r\n    constructor(events, config) {\r\n        this.usingVirtualDom = false;\r\n        this.virtualDom = new RRDocument();\r\n        this.mouseTail = null;\r\n        this.tailPositions = [];\r\n        this.emitter = mitt();\r\n        this.legacy_missingNodeRetryMap = {};\r\n        this.cache = createCache();\r\n        this.imageMap = new Map();\r\n        this.canvasEventMap = new Map();\r\n        this.mirror = createMirror();\r\n        this.styleMirror = new StyleSheetMirror();\r\n        this.firstFullSnapshot = null;\r\n        this.newDocumentQueue = [];\r\n        this.mousePos = null;\r\n        this.touchActive = null;\r\n        this.lastSelectionData = null;\r\n        this.constructedStyleMutations = [];\r\n        this.adoptedStyleSheets = [];\r\n        this.handleResize = (dimension) => {\r\n            this.iframe.style.display = 'inherit';\r\n            for (const el of [this.mouseTail, this.iframe]) {\r\n                if (!el) {\r\n                    continue;\r\n                }\r\n                el.setAttribute('width', String(dimension.width));\r\n                el.setAttribute('height', String(dimension.height));\r\n            }\r\n        };\r\n        this.applyEventsSynchronously = (events) => {\r\n            for (const event of events) {\r\n                switch (event.type) {\r\n                    case EventType.DomContentLoaded:\r\n                    case EventType.Load:\r\n                    case EventType.Custom:\r\n                        continue;\r\n                    case EventType.FullSnapshot:\r\n                    case EventType.Meta:\r\n                    case EventType.Plugin:\r\n                    case EventType.IncrementalSnapshot:\r\n                        break;\r\n                }\r\n                const castFn = this.getCastFn(event, true);\r\n                castFn();\r\n            }\r\n            if (this.touchActive === true) {\r\n                this.mouse.classList.add('touch-active');\r\n            }\r\n            else if (this.touchActive === false) {\r\n                this.mouse.classList.remove('touch-active');\r\n            }\r\n            this.touchActive = null;\r\n        };\r\n        this.getCastFn = (event, isSync = false) => {\r\n            let castFn;\r\n            switch (event.type) {\r\n                case EventType.DomContentLoaded:\r\n                case EventType.Load:\r\n                    break;\r\n                case EventType.Custom:\r\n                    castFn = () => {\r\n                        this.emitter.emit(ReplayerEvents.CustomEvent, event);\r\n                    };\r\n                    break;\r\n                case EventType.Meta:\r\n                    castFn = () => this.emitter.emit(ReplayerEvents.Resize, {\r\n                        width: event.data.width,\r\n                        height: event.data.height,\r\n                    });\r\n                    break;\r\n                case EventType.FullSnapshot:\r\n                    castFn = () => {\r\n                        var _a;\r\n                        if (this.firstFullSnapshot) {\r\n                            if (this.firstFullSnapshot === event) {\r\n                                this.firstFullSnapshot = true;\r\n                                return;\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.firstFullSnapshot = true;\r\n                        }\r\n                        this.rebuildFullSnapshot(event, isSync);\r\n                        (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.scrollTo(event.data.initialOffset);\r\n                        this.styleMirror.reset();\r\n                    };\r\n                    break;\r\n                case EventType.IncrementalSnapshot:\r\n                    castFn = () => {\r\n                        this.applyIncremental(event, isSync);\r\n                        if (isSync) {\r\n                            return;\r\n                        }\r\n                        if (event === this.nextUserInteractionEvent) {\r\n                            this.nextUserInteractionEvent = null;\r\n                            this.backToNormal();\r\n                        }\r\n                        if (this.config.skipInactive && !this.nextUserInteractionEvent) {\r\n                            for (const _event of this.service.state.context.events) {\r\n                                if (_event.timestamp <= event.timestamp) {\r\n                                    continue;\r\n                                }\r\n                                if (this.isUserInteraction(_event)) {\r\n                                    if (_event.delay - event.delay >\r\n                                        SKIP_TIME_THRESHOLD *\r\n                                            this.speedService.state.context.timer.speed) {\r\n                                        this.nextUserInteractionEvent = _event;\r\n                                    }\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (this.nextUserInteractionEvent) {\r\n                                const skipTime = this.nextUserInteractionEvent.delay - event.delay;\r\n                                const payload = {\r\n                                    speed: Math.min(Math.round(skipTime / SKIP_TIME_INTERVAL), this.config.maxSpeed),\r\n                                };\r\n                                this.speedService.send({ type: 'FAST_FORWARD', payload });\r\n                                this.emitter.emit(ReplayerEvents.SkipStart, payload);\r\n                            }\r\n                        }\r\n                    };\r\n                    break;\r\n            }\r\n            const wrappedCastFn = () => {\r\n                if (castFn) {\r\n                    castFn();\r\n                }\r\n                for (const plugin of this.config.plugins || []) {\r\n                    if (plugin.handler)\r\n                        plugin.handler(event, isSync, { replayer: this });\r\n                }\r\n                this.service.send({ type: 'CAST_EVENT', payload: { event } });\r\n                const last_index = this.service.state.context.events.length - 1;\r\n                if (event === this.service.state.context.events[last_index]) {\r\n                    const finish = () => {\r\n                        if (last_index < this.service.state.context.events.length - 1) {\r\n                            return;\r\n                        }\r\n                        this.backToNormal();\r\n                        this.service.send('END');\r\n                        this.emitter.emit(ReplayerEvents.Finish);\r\n                    };\r\n                    if (event.type === EventType.IncrementalSnapshot &&\r\n                        event.data.source === IncrementalSource.MouseMove &&\r\n                        event.data.positions.length) {\r\n                        setTimeout(() => {\r\n                            finish();\r\n                        }, Math.max(0, -event.data.positions[0].timeOffset + 50));\r\n                    }\r\n                    else {\r\n                        finish();\r\n                    }\r\n                }\r\n                this.emitter.emit(ReplayerEvents.EventCast, event);\r\n            };\r\n            return wrappedCastFn;\r\n        };\r\n        if (!(config === null || config === void 0 ? void 0 : config.liveMode) && events.length < 2) {\r\n            throw new Error('Replayer need at least 2 events.');\r\n        }\r\n        const defaultConfig = {\r\n            speed: 1,\r\n            maxSpeed: 360,\r\n            root: document.body,\r\n            loadTimeout: 0,\r\n            skipInactive: false,\r\n            showWarning: true,\r\n            showDebug: false,\r\n            blockClass: 'rr-block',\r\n            liveMode: false,\r\n            insertStyleRules: [],\r\n            triggerFocus: true,\r\n            UNSAFE_replayCanvas: false,\r\n            pauseAnimation: true,\r\n            mouseTail: defaultMouseTailConfig,\r\n            useVirtualDom: true,\r\n        };\r\n        this.config = Object.assign({}, defaultConfig, config);\r\n        this.handleResize = this.handleResize.bind(this);\r\n        this.getCastFn = this.getCastFn.bind(this);\r\n        this.applyEventsSynchronously = this.applyEventsSynchronously.bind(this);\r\n        this.emitter.on(ReplayerEvents.Resize, this.handleResize);\r\n        this.setupDom();\r\n        for (const plugin of this.config.plugins || []) {\r\n            if (plugin.getMirror)\r\n                plugin.getMirror({ nodeMirror: this.mirror });\r\n        }\r\n        this.emitter.on(ReplayerEvents.Flush, () => {\r\n            if (this.usingVirtualDom) {\r\n                const replayerHandler = {\r\n                    mirror: this.mirror,\r\n                    applyCanvas: (canvasEvent, canvasMutationData, target) => {\r\n                        void canvasMutation({\r\n                            event: canvasEvent,\r\n                            mutation: canvasMutationData,\r\n                            target,\r\n                            imageMap: this.imageMap,\r\n                            canvasEventMap: this.canvasEventMap,\r\n                            errorHandler: this.warnCanvasMutationFailed.bind(this),\r\n                        });\r\n                    },\r\n                    applyInput: this.applyInput.bind(this),\r\n                    applyScroll: this.applyScroll.bind(this),\r\n                    applyStyleSheetMutation: (data, styleSheet) => {\r\n                        if (data.source === IncrementalSource.StyleSheetRule)\r\n                            this.applyStyleSheetRule(data, styleSheet);\r\n                        else if (data.source === IncrementalSource.StyleDeclaration)\r\n                            this.applyStyleDeclaration(data, styleSheet);\r\n                    },\r\n                };\r\n                this.iframe.contentDocument &&\r\n                    diff(this.iframe.contentDocument, this.virtualDom, replayerHandler, this.virtualDom.mirror);\r\n                this.virtualDom.destroyTree();\r\n                this.usingVirtualDom = false;\r\n                if (Object.keys(this.legacy_missingNodeRetryMap).length) {\r\n                    for (const key in this.legacy_missingNodeRetryMap) {\r\n                        try {\r\n                            const value = this.legacy_missingNodeRetryMap[key];\r\n                            const realNode = createOrGetNode(value.node, this.mirror, this.virtualDom.mirror);\r\n                            diff(realNode, value.node, replayerHandler, this.virtualDom.mirror);\r\n                            value.node = realNode;\r\n                        }\r\n                        catch (error) {\r\n                            if (this.config.showWarning) {\r\n                                console.warn(error);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.constructedStyleMutations.forEach((data) => {\r\n                    this.applyStyleSheetMutation(data);\r\n                });\r\n                this.constructedStyleMutations = [];\r\n                this.adoptedStyleSheets.forEach((data) => {\r\n                    this.applyAdoptedStyleSheet(data);\r\n                });\r\n                this.adoptedStyleSheets = [];\r\n            }\r\n            if (this.mousePos) {\r\n                this.moveAndHover(this.mousePos.x, this.mousePos.y, this.mousePos.id, true, this.mousePos.debugData);\r\n                this.mousePos = null;\r\n            }\r\n            if (this.lastSelectionData) {\r\n                this.applySelection(this.lastSelectionData);\r\n                this.lastSelectionData = null;\r\n            }\r\n        });\r\n        this.emitter.on(ReplayerEvents.PlayBack, () => {\r\n            this.firstFullSnapshot = null;\r\n            this.mirror.reset();\r\n            this.styleMirror.reset();\r\n        });\r\n        const timer = new Timer([], {\r\n            speed: this.config.speed,\r\n            liveMode: this.config.liveMode,\r\n        });\r\n        this.service = createPlayerService({\r\n            events: events\r\n                .map((e) => {\r\n                if (config && config.unpackFn) {\r\n                    return config.unpackFn(e);\r\n                }\r\n                return e;\r\n            })\r\n                .sort((a1, a2) => a1.timestamp - a2.timestamp),\r\n            timer,\r\n            timeOffset: 0,\r\n            baselineTime: 0,\r\n            lastPlayedEvent: null,\r\n        }, {\r\n            getCastFn: this.getCastFn,\r\n            applyEventsSynchronously: this.applyEventsSynchronously,\r\n            emitter: this.emitter,\r\n        });\r\n        this.service.start();\r\n        this.service.subscribe((state) => {\r\n            this.emitter.emit(ReplayerEvents.StateChange, {\r\n                player: state,\r\n            });\r\n        });\r\n        this.speedService = createSpeedService({\r\n            normalSpeed: -1,\r\n            timer,\r\n        });\r\n        this.speedService.start();\r\n        this.speedService.subscribe((state) => {\r\n            this.emitter.emit(ReplayerEvents.StateChange, {\r\n                speed: state,\r\n            });\r\n        });\r\n        const firstMeta = this.service.state.context.events.find((e) => e.type === EventType.Meta);\r\n        const firstFullsnapshot = this.service.state.context.events.find((e) => e.type === EventType.FullSnapshot);\r\n        if (firstMeta) {\r\n            const { width, height } = firstMeta.data;\r\n            setTimeout(() => {\r\n                this.emitter.emit(ReplayerEvents.Resize, {\r\n                    width,\r\n                    height,\r\n                });\r\n            }, 0);\r\n        }\r\n        if (firstFullsnapshot) {\r\n            setTimeout(() => {\r\n                var _a;\r\n                if (this.firstFullSnapshot) {\r\n                    return;\r\n                }\r\n                this.firstFullSnapshot = firstFullsnapshot;\r\n                this.rebuildFullSnapshot(firstFullsnapshot);\r\n                (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.scrollTo(firstFullsnapshot.data.initialOffset);\r\n            }, 1);\r\n        }\r\n        if (this.service.state.context.events.find(indicatesTouchDevice)) {\r\n            this.mouse.classList.add('touch-device');\r\n        }\r\n    }\r\n    get timer() {\r\n        return this.service.state.context.timer;\r\n    }\r\n    on(event, handler) {\r\n        this.emitter.on(event, handler);\r\n        return this;\r\n    }\r\n    off(event, handler) {\r\n        this.emitter.off(event, handler);\r\n        return this;\r\n    }\r\n    setConfig(config) {\r\n        Object.keys(config).forEach((key) => {\r\n            config[key];\r\n            this.config[key] = config[key];\r\n        });\r\n        if (!this.config.skipInactive) {\r\n            this.backToNormal();\r\n        }\r\n        if (typeof config.speed !== 'undefined') {\r\n            this.speedService.send({\r\n                type: 'SET_SPEED',\r\n                payload: {\r\n                    speed: config.speed,\r\n                },\r\n            });\r\n        }\r\n        if (typeof config.mouseTail !== 'undefined') {\r\n            if (config.mouseTail === false) {\r\n                if (this.mouseTail) {\r\n                    this.mouseTail.style.display = 'none';\r\n                }\r\n            }\r\n            else {\r\n                if (!this.mouseTail) {\r\n                    this.mouseTail = document.createElement('canvas');\r\n                    this.mouseTail.width = Number.parseFloat(this.iframe.width);\r\n                    this.mouseTail.height = Number.parseFloat(this.iframe.height);\r\n                    this.mouseTail.classList.add('replayer-mouse-tail');\r\n                    this.wrapper.insertBefore(this.mouseTail, this.iframe);\r\n                }\r\n                this.mouseTail.style.display = 'inherit';\r\n            }\r\n        }\r\n    }\r\n    getMetaData() {\r\n        const firstEvent = this.service.state.context.events[0];\r\n        const lastEvent = this.service.state.context.events[this.service.state.context.events.length - 1];\r\n        return {\r\n            startTime: firstEvent.timestamp,\r\n            endTime: lastEvent.timestamp,\r\n            totalTime: lastEvent.timestamp - firstEvent.timestamp,\r\n        };\r\n    }\r\n    getCurrentTime() {\r\n        return this.timer.timeOffset + this.getTimeOffset();\r\n    }\r\n    getTimeOffset() {\r\n        const { baselineTime, events } = this.service.state.context;\r\n        return baselineTime - events[0].timestamp;\r\n    }\r\n    getMirror() {\r\n        return this.mirror;\r\n    }\r\n    play(timeOffset = 0) {\r\n        var _a, _b;\r\n        if (this.service.state.matches('paused')) {\r\n            this.service.send({ type: 'PLAY', payload: { timeOffset } });\r\n        }\r\n        else {\r\n            this.service.send({ type: 'PAUSE' });\r\n            this.service.send({ type: 'PLAY', payload: { timeOffset } });\r\n        }\r\n        (_b = (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.getElementsByTagName('html')[0]) === null || _b === void 0 ? void 0 : _b.classList.remove('rrweb-paused');\r\n        this.emitter.emit(ReplayerEvents.Start);\r\n    }\r\n    pause(timeOffset) {\r\n        var _a, _b;\r\n        if (timeOffset === undefined && this.service.state.matches('playing')) {\r\n            this.service.send({ type: 'PAUSE' });\r\n        }\r\n        if (typeof timeOffset === 'number') {\r\n            this.play(timeOffset);\r\n            this.service.send({ type: 'PAUSE' });\r\n        }\r\n        (_b = (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.getElementsByTagName('html')[0]) === null || _b === void 0 ? void 0 : _b.classList.add('rrweb-paused');\r\n        this.emitter.emit(ReplayerEvents.Pause);\r\n    }\r\n    resume(timeOffset = 0) {\r\n        console.warn(`The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface.`);\r\n        this.play(timeOffset);\r\n        this.emitter.emit(ReplayerEvents.Resume);\r\n    }\r\n    destroy() {\r\n        this.pause();\r\n        this.config.root.removeChild(this.wrapper);\r\n        this.emitter.emit(ReplayerEvents.Destroy);\r\n    }\r\n    startLive(baselineTime) {\r\n        this.service.send({ type: 'TO_LIVE', payload: { baselineTime } });\r\n    }\r\n    addEvent(rawEvent) {\r\n        const event = this.config.unpackFn\r\n            ? this.config.unpackFn(rawEvent)\r\n            : rawEvent;\r\n        if (indicatesTouchDevice(event)) {\r\n            this.mouse.classList.add('touch-device');\r\n        }\r\n        void Promise.resolve().then(() => this.service.send({ type: 'ADD_EVENT', payload: { event } }));\r\n    }\r\n    enableInteract() {\r\n        this.iframe.setAttribute('scrolling', 'auto');\r\n        this.iframe.style.pointerEvents = 'auto';\r\n    }\r\n    disableInteract() {\r\n        this.iframe.setAttribute('scrolling', 'no');\r\n        this.iframe.style.pointerEvents = 'none';\r\n    }\r\n    resetCache() {\r\n        this.cache = createCache();\r\n    }\r\n    setupDom() {\r\n        this.wrapper = document.createElement('div');\r\n        this.wrapper.classList.add('replayer-wrapper');\r\n        this.config.root.appendChild(this.wrapper);\r\n        this.mouse = document.createElement('div');\r\n        this.mouse.classList.add('replayer-mouse');\r\n        this.wrapper.appendChild(this.mouse);\r\n        if (this.config.mouseTail !== false) {\r\n            this.mouseTail = document.createElement('canvas');\r\n            this.mouseTail.classList.add('replayer-mouse-tail');\r\n            this.mouseTail.style.display = 'inherit';\r\n            this.wrapper.appendChild(this.mouseTail);\r\n        }\r\n        this.iframe = document.createElement('iframe');\r\n        const attributes = ['allow-same-origin'];\r\n        if (this.config.UNSAFE_replayCanvas) {\r\n            attributes.push('allow-scripts');\r\n        }\r\n        this.iframe.style.display = 'none';\r\n        this.iframe.setAttribute('sandbox', attributes.join(' '));\r\n        this.disableInteract();\r\n        this.wrapper.appendChild(this.iframe);\r\n        if (this.iframe.contentWindow && this.iframe.contentDocument) {\r\n            polyfill(this.iframe.contentWindow, this.iframe.contentDocument);\r\n            polyfill$1(this.iframe.contentWindow);\r\n        }\r\n    }\r\n    rebuildFullSnapshot(event, isSync = false) {\r\n        if (!this.iframe.contentDocument) {\r\n            return console.warn('Looks like your replayer has been destroyed.');\r\n        }\r\n        if (Object.keys(this.legacy_missingNodeRetryMap).length) {\r\n            console.warn('Found unresolved missing node map', this.legacy_missingNodeRetryMap);\r\n        }\r\n        this.legacy_missingNodeRetryMap = {};\r\n        const collected = [];\r\n        const afterAppend = (builtNode, id) => {\r\n            this.collectIframeAndAttachDocument(collected, builtNode);\r\n            for (const plugin of this.config.plugins || []) {\r\n                if (plugin.onBuild)\r\n                    plugin.onBuild(builtNode, {\r\n                        id,\r\n                        replayer: this,\r\n                    });\r\n            }\r\n        };\r\n        rebuild(event.data.node, {\r\n            doc: this.iframe.contentDocument,\r\n            afterAppend,\r\n            cache: this.cache,\r\n            mirror: this.mirror,\r\n        });\r\n        afterAppend(this.iframe.contentDocument, event.data.node.id);\r\n        for (const { mutationInQueue, builtNode } of collected) {\r\n            this.attachDocumentToIframe(mutationInQueue, builtNode);\r\n            this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\r\n        }\r\n        const { documentElement, head } = this.iframe.contentDocument;\r\n        this.insertStyleRules(documentElement, head);\r\n        if (!this.service.state.matches('playing')) {\r\n            this.iframe.contentDocument\r\n                .getElementsByTagName('html')[0]\r\n                .classList.add('rrweb-paused');\r\n        }\r\n        this.emitter.emit(ReplayerEvents.FullsnapshotRebuilded, event);\r\n        if (!isSync) {\r\n            this.waitForStylesheetLoad();\r\n        }\r\n        if (this.config.UNSAFE_replayCanvas) {\r\n            void this.preloadAllImages();\r\n        }\r\n    }\r\n    insertStyleRules(documentElement, head) {\r\n        var _a;\r\n        const injectStylesRules = rules(this.config.blockClass).concat(this.config.insertStyleRules);\r\n        if (this.config.pauseAnimation) {\r\n            injectStylesRules.push('html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }');\r\n        }\r\n        if (this.usingVirtualDom) {\r\n            const styleEl = this.virtualDom.createElement('style');\r\n            this.virtualDom.mirror.add(styleEl, getDefaultSN(styleEl, this.virtualDom.unserializedId));\r\n            documentElement.insertBefore(styleEl, head);\r\n            styleEl.rules.push({\r\n                source: IncrementalSource.StyleSheetRule,\r\n                adds: injectStylesRules.map((cssText, index) => ({\r\n                    rule: cssText,\r\n                    index,\r\n                })),\r\n            });\r\n        }\r\n        else {\r\n            const styleEl = document.createElement('style');\r\n            documentElement.insertBefore(styleEl, head);\r\n            for (let idx = 0; idx < injectStylesRules.length; idx++) {\r\n                (_a = styleEl.sheet) === null || _a === void 0 ? void 0 : _a.insertRule(injectStylesRules[idx], idx);\r\n            }\r\n        }\r\n    }\r\n    attachDocumentToIframe(mutation, iframeEl) {\r\n        const mirror = this.usingVirtualDom\r\n            ? this.virtualDom.mirror\r\n            : this.mirror;\r\n        const collected = [];\r\n        const afterAppend = (builtNode, id) => {\r\n            this.collectIframeAndAttachDocument(collected, builtNode);\r\n            const sn = mirror.getMeta(builtNode);\r\n            if ((sn === null || sn === void 0 ? void 0 : sn.type) === NodeType.Element &&\r\n                (sn === null || sn === void 0 ? void 0 : sn.tagName.toUpperCase()) === 'HTML') {\r\n                const { documentElement, head } = iframeEl.contentDocument;\r\n                this.insertStyleRules(documentElement, head);\r\n            }\r\n            for (const plugin of this.config.plugins || []) {\r\n                if (plugin.onBuild)\r\n                    plugin.onBuild(builtNode, {\r\n                        id,\r\n                        replayer: this,\r\n                    });\r\n            }\r\n        };\r\n        buildNodeWithSN(mutation.node, {\r\n            doc: iframeEl.contentDocument,\r\n            mirror: mirror,\r\n            hackCss: true,\r\n            skipChild: false,\r\n            afterAppend,\r\n            cache: this.cache,\r\n        });\r\n        afterAppend(iframeEl.contentDocument, mutation.node.id);\r\n        for (const { mutationInQueue, builtNode } of collected) {\r\n            this.attachDocumentToIframe(mutationInQueue, builtNode);\r\n            this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\r\n        }\r\n    }\r\n    collectIframeAndAttachDocument(collected, builtNode) {\r\n        if (isSerializedIframe(builtNode, this.mirror)) {\r\n            const mutationInQueue = this.newDocumentQueue.find((m) => m.parentId === this.mirror.getId(builtNode));\r\n            if (mutationInQueue) {\r\n                collected.push({\r\n                    mutationInQueue,\r\n                    builtNode: builtNode,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    waitForStylesheetLoad() {\r\n        var _a;\r\n        const head = (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.head;\r\n        if (head) {\r\n            const unloadSheets = new Set();\r\n            let timer;\r\n            let beforeLoadState = this.service.state;\r\n            const stateHandler = () => {\r\n                beforeLoadState = this.service.state;\r\n            };\r\n            this.emitter.on(ReplayerEvents.Start, stateHandler);\r\n            this.emitter.on(ReplayerEvents.Pause, stateHandler);\r\n            const unsubscribe = () => {\r\n                this.emitter.off(ReplayerEvents.Start, stateHandler);\r\n                this.emitter.off(ReplayerEvents.Pause, stateHandler);\r\n            };\r\n            head\r\n                .querySelectorAll('link[rel=\"stylesheet\"]')\r\n                .forEach((css) => {\r\n                if (!css.sheet) {\r\n                    unloadSheets.add(css);\r\n                    css.addEventListener('load', () => {\r\n                        unloadSheets.delete(css);\r\n                        if (unloadSheets.size === 0 && timer !== -1) {\r\n                            if (beforeLoadState.matches('playing')) {\r\n                                this.play(this.getCurrentTime());\r\n                            }\r\n                            this.emitter.emit(ReplayerEvents.LoadStylesheetEnd);\r\n                            if (timer) {\r\n                                clearTimeout(timer);\r\n                            }\r\n                            unsubscribe();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            if (unloadSheets.size > 0) {\r\n                this.service.send({ type: 'PAUSE' });\r\n                this.emitter.emit(ReplayerEvents.LoadStylesheetStart);\r\n                timer = setTimeout(() => {\r\n                    if (beforeLoadState.matches('playing')) {\r\n                        this.play(this.getCurrentTime());\r\n                    }\r\n                    timer = -1;\r\n                    unsubscribe();\r\n                }, this.config.loadTimeout);\r\n            }\r\n        }\r\n    }\r\n    preloadAllImages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.service.state;\r\n            const stateHandler = () => {\r\n                this.service.state;\r\n            };\r\n            this.emitter.on(ReplayerEvents.Start, stateHandler);\r\n            this.emitter.on(ReplayerEvents.Pause, stateHandler);\r\n            const promises = [];\r\n            for (const event of this.service.state.context.events) {\r\n                if (event.type === EventType.IncrementalSnapshot &&\r\n                    event.data.source === IncrementalSource.CanvasMutation) {\r\n                    promises.push(this.deserializeAndPreloadCanvasEvents(event.data, event));\r\n                    const commands = 'commands' in event.data ? event.data.commands : [event.data];\r\n                    commands.forEach((c) => {\r\n                        this.preloadImages(c, event);\r\n                    });\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        });\r\n    }\r\n    preloadImages(data, event) {\r\n        if (data.property === 'drawImage' &&\r\n            typeof data.args[0] === 'string' &&\r\n            !this.imageMap.has(event)) {\r\n            const canvas = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n            const imgd = ctx === null || ctx === void 0 ? void 0 : ctx.createImageData(canvas.width, canvas.height);\r\n            imgd === null || imgd === void 0 ? void 0 : imgd.data;\r\n            JSON.parse(data.args[0]);\r\n            ctx === null || ctx === void 0 ? void 0 : ctx.putImageData(imgd, 0, 0);\r\n        }\r\n    }\r\n    deserializeAndPreloadCanvasEvents(data, event) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.canvasEventMap.has(event)) {\r\n                const status = {\r\n                    isUnchanged: true,\r\n                };\r\n                if ('commands' in data) {\r\n                    const commands = yield Promise.all(data.commands.map((c) => __awaiter(this, void 0, void 0, function* () {\r\n                        const args = yield Promise.all(c.args.map(deserializeArg(this.imageMap, null, status)));\r\n                        return Object.assign(Object.assign({}, c), { args });\r\n                    })));\r\n                    if (status.isUnchanged === false)\r\n                        this.canvasEventMap.set(event, Object.assign(Object.assign({}, data), { commands }));\r\n                }\r\n                else {\r\n                    const args = yield Promise.all(data.args.map(deserializeArg(this.imageMap, null, status)));\r\n                    if (status.isUnchanged === false)\r\n                        this.canvasEventMap.set(event, Object.assign(Object.assign({}, data), { args }));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    applyIncremental(e, isSync) {\r\n        var _a, _b, _c;\r\n        const { data: d } = e;\r\n        switch (d.source) {\r\n            case IncrementalSource.Mutation: {\r\n                try {\r\n                    this.applyMutation(d, isSync);\r\n                }\r\n                catch (error) {\r\n                    this.warn(`Exception in mutation ${error.message || error}`, d);\r\n                }\r\n                break;\r\n            }\r\n            case IncrementalSource.Drag:\r\n            case IncrementalSource.TouchMove:\r\n            case IncrementalSource.MouseMove:\r\n                if (isSync) {\r\n                    const lastPosition = d.positions[d.positions.length - 1];\r\n                    this.mousePos = {\r\n                        x: lastPosition.x,\r\n                        y: lastPosition.y,\r\n                        id: lastPosition.id,\r\n                        debugData: d,\r\n                    };\r\n                }\r\n                else {\r\n                    d.positions.forEach((p) => {\r\n                        const action = {\r\n                            doAction: () => {\r\n                                this.moveAndHover(p.x, p.y, p.id, isSync, d);\r\n                            },\r\n                            delay: p.timeOffset +\r\n                                e.timestamp -\r\n                                this.service.state.context.baselineTime,\r\n                        };\r\n                        this.timer.addAction(action);\r\n                    });\r\n                    this.timer.addAction({\r\n                        doAction() {\r\n                        },\r\n                        delay: e.delay - ((_a = d.positions[0]) === null || _a === void 0 ? void 0 : _a.timeOffset),\r\n                    });\r\n                }\r\n                break;\r\n            case IncrementalSource.MouseInteraction: {\r\n                if (d.id === -1 || isSync) {\r\n                    break;\r\n                }\r\n                const event = new Event(MouseInteractions[d.type].toLowerCase());\r\n                const target = this.mirror.getNode(d.id);\r\n                if (!target) {\r\n                    return this.debugNodeNotFound(d, d.id);\r\n                }\r\n                this.emitter.emit(ReplayerEvents.MouseInteraction, {\r\n                    type: d.type,\r\n                    target,\r\n                });\r\n                const { triggerFocus } = this.config;\r\n                switch (d.type) {\r\n                    case MouseInteractions.Blur:\r\n                        if ('blur' in target) {\r\n                            target.blur();\r\n                        }\r\n                        break;\r\n                    case MouseInteractions.Focus:\r\n                        if (triggerFocus && target.focus) {\r\n                            target.focus({\r\n                                preventScroll: true,\r\n                            });\r\n                        }\r\n                        break;\r\n                    case MouseInteractions.Click:\r\n                    case MouseInteractions.TouchStart:\r\n                    case MouseInteractions.TouchEnd:\r\n                        if (isSync) {\r\n                            if (d.type === MouseInteractions.TouchStart) {\r\n                                this.touchActive = true;\r\n                            }\r\n                            else if (d.type === MouseInteractions.TouchEnd) {\r\n                                this.touchActive = false;\r\n                            }\r\n                            this.mousePos = {\r\n                                x: d.x,\r\n                                y: d.y,\r\n                                id: d.id,\r\n                                debugData: d,\r\n                            };\r\n                        }\r\n                        else {\r\n                            if (d.type === MouseInteractions.TouchStart) {\r\n                                this.tailPositions.length = 0;\r\n                            }\r\n                            this.moveAndHover(d.x, d.y, d.id, isSync, d);\r\n                            if (d.type === MouseInteractions.Click) {\r\n                                this.mouse.classList.remove('active');\r\n                                void this.mouse.offsetWidth;\r\n                                this.mouse.classList.add('active');\r\n                            }\r\n                            else if (d.type === MouseInteractions.TouchStart) {\r\n                                void this.mouse.offsetWidth;\r\n                                this.mouse.classList.add('touch-active');\r\n                            }\r\n                            else if (d.type === MouseInteractions.TouchEnd) {\r\n                                this.mouse.classList.remove('touch-active');\r\n                            }\r\n                        }\r\n                        break;\r\n                    case MouseInteractions.TouchCancel:\r\n                        if (isSync) {\r\n                            this.touchActive = false;\r\n                        }\r\n                        else {\r\n                            this.mouse.classList.remove('touch-active');\r\n                        }\r\n                        break;\r\n                    default:\r\n                        target.dispatchEvent(event);\r\n                }\r\n                break;\r\n            }\r\n            case IncrementalSource.Scroll: {\r\n                if (d.id === -1) {\r\n                    break;\r\n                }\r\n                if (this.usingVirtualDom) {\r\n                    const target = this.virtualDom.mirror.getNode(d.id);\r\n                    if (!target) {\r\n                        return this.debugNodeNotFound(d, d.id);\r\n                    }\r\n                    target.scrollData = d;\r\n                    break;\r\n                }\r\n                this.applyScroll(d, isSync);\r\n                break;\r\n            }\r\n            case IncrementalSource.ViewportResize:\r\n                this.emitter.emit(ReplayerEvents.Resize, {\r\n                    width: d.width,\r\n                    height: d.height,\r\n                });\r\n                break;\r\n            case IncrementalSource.Input: {\r\n                if (d.id === -1) {\r\n                    break;\r\n                }\r\n                if (this.usingVirtualDom) {\r\n                    const target = this.virtualDom.mirror.getNode(d.id);\r\n                    if (!target) {\r\n                        return this.debugNodeNotFound(d, d.id);\r\n                    }\r\n                    target.inputData = d;\r\n                    break;\r\n                }\r\n                this.applyInput(d);\r\n                break;\r\n            }\r\n            case IncrementalSource.MediaInteraction: {\r\n                const target = this.usingVirtualDom\r\n                    ? this.virtualDom.mirror.getNode(d.id)\r\n                    : this.mirror.getNode(d.id);\r\n                if (!target) {\r\n                    return this.debugNodeNotFound(d, d.id);\r\n                }\r\n                const mediaEl = target;\r\n                try {\r\n                    if (d.currentTime) {\r\n                        mediaEl.currentTime = d.currentTime;\r\n                    }\r\n                    if (d.volume) {\r\n                        mediaEl.volume = d.volume;\r\n                    }\r\n                    if (d.muted) {\r\n                        mediaEl.muted = d.muted;\r\n                    }\r\n                    if (d.type === 1) {\r\n                        mediaEl.pause();\r\n                    }\r\n                    if (d.type === 0) {\r\n                        void mediaEl.play();\r\n                    }\r\n                    if (d.type === 4) {\r\n                        mediaEl.playbackRate = d.playbackRate;\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (this.config.showWarning) {\r\n                        console.warn(`Failed to replay media interactions: ${error.message || error}`);\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case IncrementalSource.StyleSheetRule:\r\n            case IncrementalSource.StyleDeclaration: {\r\n                if (this.usingVirtualDom) {\r\n                    if (d.styleId)\r\n                        this.constructedStyleMutations.push(d);\r\n                    else if (d.id)\r\n                        (_b = this.virtualDom.mirror.getNode(d.id)) === null || _b === void 0 ? void 0 : _b.rules.push(d);\r\n                }\r\n                else\r\n                    this.applyStyleSheetMutation(d);\r\n                break;\r\n            }\r\n            case IncrementalSource.CanvasMutation: {\r\n                if (!this.config.UNSAFE_replayCanvas) {\r\n                    return;\r\n                }\r\n                if (this.usingVirtualDom) {\r\n                    const target = this.virtualDom.mirror.getNode(d.id);\r\n                    if (!target) {\r\n                        return this.debugNodeNotFound(d, d.id);\r\n                    }\r\n                    target.canvasMutations.push({\r\n                        event: e,\r\n                        mutation: d,\r\n                    });\r\n                }\r\n                else {\r\n                    const target = this.mirror.getNode(d.id);\r\n                    if (!target) {\r\n                        return this.debugNodeNotFound(d, d.id);\r\n                    }\r\n                    void canvasMutation({\r\n                        event: e,\r\n                        mutation: d,\r\n                        target: target,\r\n                        imageMap: this.imageMap,\r\n                        canvasEventMap: this.canvasEventMap,\r\n                        errorHandler: this.warnCanvasMutationFailed.bind(this),\r\n                    });\r\n                }\r\n                break;\r\n            }\r\n            case IncrementalSource.Font: {\r\n                try {\r\n                    const fontFace = new FontFace(d.family, d.buffer\r\n                        ? new Uint8Array(JSON.parse(d.fontSource))\r\n                        : d.fontSource, d.descriptors);\r\n                    (_c = this.iframe.contentDocument) === null || _c === void 0 ? void 0 : _c.fonts.add(fontFace);\r\n                }\r\n                catch (error) {\r\n                    if (this.config.showWarning) {\r\n                        console.warn(error);\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case IncrementalSource.Selection: {\r\n                if (isSync) {\r\n                    this.lastSelectionData = d;\r\n                    break;\r\n                }\r\n                this.applySelection(d);\r\n                break;\r\n            }\r\n            case IncrementalSource.AdoptedStyleSheet: {\r\n                if (this.usingVirtualDom)\r\n                    this.adoptedStyleSheets.push(d);\r\n                else\r\n                    this.applyAdoptedStyleSheet(d);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    applyMutation(d, isSync) {\r\n        if (this.config.useVirtualDom && !this.usingVirtualDom && isSync) {\r\n            this.usingVirtualDom = true;\r\n            buildFromDom(this.iframe.contentDocument, this.mirror, this.virtualDom);\r\n            if (Object.keys(this.legacy_missingNodeRetryMap).length) {\r\n                for (const key in this.legacy_missingNodeRetryMap) {\r\n                    try {\r\n                        const value = this.legacy_missingNodeRetryMap[key];\r\n                        const virtualNode = buildFromNode(value.node, this.virtualDom, this.mirror);\r\n                        if (virtualNode)\r\n                            value.node = virtualNode;\r\n                    }\r\n                    catch (error) {\r\n                        if (this.config.showWarning) {\r\n                            console.warn(error);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const mirror = this.usingVirtualDom ? this.virtualDom.mirror : this.mirror;\r\n        d.removes.forEach((mutation) => {\r\n            var _a;\r\n            const target = mirror.getNode(mutation.id);\r\n            if (!target) {\r\n                if (d.removes.find((r) => r.id === mutation.parentId)) {\r\n                    return;\r\n                }\r\n                return this.warnNodeNotFound(d, mutation.id);\r\n            }\r\n            let parent = mirror.getNode(mutation.parentId);\r\n            if (!parent) {\r\n                return this.warnNodeNotFound(d, mutation.parentId);\r\n            }\r\n            if (mutation.isShadow && hasShadowRoot(parent)) {\r\n                parent = parent.shadowRoot;\r\n            }\r\n            mirror.removeNodeFromMap(target);\r\n            if (parent)\r\n                try {\r\n                    parent.removeChild(target);\r\n                    if (this.usingVirtualDom &&\r\n                        target.nodeName === '#text' &&\r\n                        parent.nodeName === 'STYLE' &&\r\n                        ((_a = parent.rules) === null || _a === void 0 ? void 0 : _a.length) > 0)\r\n                        parent.rules = [];\r\n                }\r\n                catch (error) {\r\n                    if (error instanceof DOMException) {\r\n                        this.warn('parent could not remove child in mutation', parent, target, d);\r\n                    }\r\n                    else {\r\n                        throw error;\r\n                    }\r\n                }\r\n        });\r\n        const legacy_missingNodeMap = Object.assign({}, this.legacy_missingNodeRetryMap);\r\n        const queue = [];\r\n        const nextNotInDOM = (mutation) => {\r\n            let next = null;\r\n            if (mutation.nextId) {\r\n                next = mirror.getNode(mutation.nextId);\r\n            }\r\n            if (mutation.nextId !== null &&\r\n                mutation.nextId !== undefined &&\r\n                mutation.nextId !== -1 &&\r\n                !next) {\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        const appendNode = (mutation) => {\r\n            var _a;\r\n            if (!this.iframe.contentDocument) {\r\n                return console.warn('Looks like your replayer has been destroyed.');\r\n            }\r\n            let parent = mirror.getNode(mutation.parentId);\r\n            if (!parent) {\r\n                if (mutation.node.type === NodeType.Document) {\r\n                    return this.newDocumentQueue.push(mutation);\r\n                }\r\n                return queue.push(mutation);\r\n            }\r\n            if (mutation.node.isShadow) {\r\n                if (!hasShadowRoot(parent)) {\r\n                    parent.attachShadow({ mode: 'open' });\r\n                    parent = parent.shadowRoot;\r\n                }\r\n                else\r\n                    parent = parent.shadowRoot;\r\n            }\r\n            let previous = null;\r\n            let next = null;\r\n            if (mutation.previousId) {\r\n                previous = mirror.getNode(mutation.previousId);\r\n            }\r\n            if (mutation.nextId) {\r\n                next = mirror.getNode(mutation.nextId);\r\n            }\r\n            if (nextNotInDOM(mutation)) {\r\n                return queue.push(mutation);\r\n            }\r\n            if (mutation.node.rootId && !mirror.getNode(mutation.node.rootId)) {\r\n                return;\r\n            }\r\n            const targetDoc = mutation.node.rootId\r\n                ? mirror.getNode(mutation.node.rootId)\r\n                : this.usingVirtualDom\r\n                    ? this.virtualDom\r\n                    : this.iframe.contentDocument;\r\n            if (isSerializedIframe(parent, mirror)) {\r\n                this.attachDocumentToIframe(mutation, parent);\r\n                return;\r\n            }\r\n            const afterAppend = (node, id) => {\r\n                for (const plugin of this.config.plugins || []) {\r\n                    if (plugin.onBuild)\r\n                        plugin.onBuild(node, { id, replayer: this });\r\n                }\r\n            };\r\n            const target = buildNodeWithSN(mutation.node, {\r\n                doc: targetDoc,\r\n                mirror: mirror,\r\n                skipChild: true,\r\n                hackCss: true,\r\n                cache: this.cache,\r\n                afterAppend,\r\n            });\r\n            if (mutation.previousId === -1 || mutation.nextId === -1) {\r\n                legacy_missingNodeMap[mutation.node.id] = {\r\n                    node: target,\r\n                    mutation,\r\n                };\r\n                return;\r\n            }\r\n            const parentSn = mirror.getMeta(parent);\r\n            if (parentSn &&\r\n                parentSn.type === NodeType.Element &&\r\n                parentSn.tagName === 'textarea' &&\r\n                mutation.node.type === NodeType.Text) {\r\n                const childNodeArray = Array.isArray(parent.childNodes)\r\n                    ? parent.childNodes\r\n                    : Array.from(parent.childNodes);\r\n                for (const c of childNodeArray) {\r\n                    if (c.nodeType === parent.TEXT_NODE) {\r\n                        parent.removeChild(c);\r\n                    }\r\n                }\r\n            }\r\n            if (previous && previous.nextSibling && previous.nextSibling.parentNode) {\r\n                parent.insertBefore(target, previous.nextSibling);\r\n            }\r\n            else if (next && next.parentNode) {\r\n                parent.contains(next)\r\n                    ? parent.insertBefore(target, next)\r\n                    : parent.insertBefore(target, null);\r\n            }\r\n            else {\r\n                if (parent === targetDoc) {\r\n                    while (targetDoc.firstChild) {\r\n                        targetDoc.removeChild(targetDoc.firstChild);\r\n                    }\r\n                }\r\n                parent.appendChild(target);\r\n            }\r\n            afterAppend(target, mutation.node.id);\r\n            if (this.usingVirtualDom &&\r\n                target.nodeName === '#text' &&\r\n                parent.nodeName === 'STYLE' &&\r\n                ((_a = parent.rules) === null || _a === void 0 ? void 0 : _a.length) > 0)\r\n                parent.rules = [];\r\n            if (isSerializedIframe(target, this.mirror)) {\r\n                const targetId = this.mirror.getId(target);\r\n                const mutationInQueue = this.newDocumentQueue.find((m) => m.parentId === targetId);\r\n                if (mutationInQueue) {\r\n                    this.attachDocumentToIframe(mutationInQueue, target);\r\n                    this.newDocumentQueue = this.newDocumentQueue.filter((m) => m !== mutationInQueue);\r\n                }\r\n            }\r\n            if (mutation.previousId || mutation.nextId) {\r\n                this.legacy_resolveMissingNode(legacy_missingNodeMap, parent, target, mutation);\r\n            }\r\n        };\r\n        d.adds.forEach((mutation) => {\r\n            appendNode(mutation);\r\n        });\r\n        const startTime = Date.now();\r\n        while (queue.length) {\r\n            const resolveTrees = queueToResolveTrees(queue);\r\n            queue.length = 0;\r\n            if (Date.now() - startTime > 500) {\r\n                this.warn('Timeout in the loop, please check the resolve tree data:', resolveTrees);\r\n                break;\r\n            }\r\n            for (const tree of resolveTrees) {\r\n                const parent = mirror.getNode(tree.value.parentId);\r\n                if (!parent) {\r\n                    this.debug('Drop resolve tree since there is no parent for the root node.', tree);\r\n                }\r\n                else {\r\n                    iterateResolveTree(tree, (mutation) => {\r\n                        appendNode(mutation);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        if (Object.keys(legacy_missingNodeMap).length) {\r\n            Object.assign(this.legacy_missingNodeRetryMap, legacy_missingNodeMap);\r\n        }\r\n        uniqueTextMutations(d.texts).forEach((mutation) => {\r\n            var _a;\r\n            const target = mirror.getNode(mutation.id);\r\n            if (!target) {\r\n                if (d.removes.find((r) => r.id === mutation.id)) {\r\n                    return;\r\n                }\r\n                return this.warnNodeNotFound(d, mutation.id);\r\n            }\r\n            target.textContent = mutation.value;\r\n            if (this.usingVirtualDom) {\r\n                const parent = target.parentNode;\r\n                if (((_a = parent === null || parent === void 0 ? void 0 : parent.rules) === null || _a === void 0 ? void 0 : _a.length) > 0)\r\n                    parent.rules = [];\r\n            }\r\n        });\r\n        d.attributes.forEach((mutation) => {\r\n            const target = mirror.getNode(mutation.id);\r\n            if (!target) {\r\n                if (d.removes.find((r) => r.id === mutation.id)) {\r\n                    return;\r\n                }\r\n                return this.warnNodeNotFound(d, mutation.id);\r\n            }\r\n            for (const attributeName in mutation.attributes) {\r\n                if (typeof attributeName === 'string') {\r\n                    const value = mutation.attributes[attributeName];\r\n                    if (value === null) {\r\n                        target.removeAttribute(attributeName);\r\n                    }\r\n                    else if (typeof value === 'string') {\r\n                        try {\r\n                            if (attributeName === '_cssText' &&\r\n                                (target.nodeName === 'LINK' || target.nodeName === 'STYLE')) {\r\n                                try {\r\n                                    const newSn = mirror.getMeta(target);\r\n                                    Object.assign(newSn.attributes, mutation.attributes);\r\n                                    const newNode = buildNodeWithSN(newSn, {\r\n                                        doc: target.ownerDocument,\r\n                                        mirror: mirror,\r\n                                        skipChild: true,\r\n                                        hackCss: true,\r\n                                        cache: this.cache,\r\n                                    });\r\n                                    const siblingNode = target.nextSibling;\r\n                                    const parentNode = target.parentNode;\r\n                                    if (newNode && parentNode) {\r\n                                        parentNode.removeChild(target);\r\n                                        parentNode.insertBefore(newNode, siblingNode);\r\n                                        mirror.replace(mutation.id, newNode);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                catch (e) {\r\n                                }\r\n                            }\r\n                            target.setAttribute(attributeName, value);\r\n                        }\r\n                        catch (error) {\r\n                            if (this.config.showWarning) {\r\n                                console.warn('An error occurred may due to the checkout feature.', error);\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (attributeName === 'style') {\r\n                        const styleValues = value;\r\n                        const targetEl = target;\r\n                        for (const s in styleValues) {\r\n                            if (styleValues[s] === false) {\r\n                                targetEl.style.removeProperty(s);\r\n                            }\r\n                            else if (styleValues[s] instanceof Array) {\r\n                                const svp = styleValues[s];\r\n                                targetEl.style.setProperty(s, svp[0], svp[1]);\r\n                            }\r\n                            else {\r\n                                const svs = styleValues[s];\r\n                                targetEl.style.setProperty(s, svs);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    applyScroll(d, isSync) {\r\n        var _a, _b;\r\n        const target = this.mirror.getNode(d.id);\r\n        if (!target) {\r\n            return this.debugNodeNotFound(d, d.id);\r\n        }\r\n        const sn = this.mirror.getMeta(target);\r\n        if (target === this.iframe.contentDocument) {\r\n            (_a = this.iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.scrollTo({\r\n                top: d.y,\r\n                left: d.x,\r\n                behavior: isSync ? 'auto' : 'smooth',\r\n            });\r\n        }\r\n        else if ((sn === null || sn === void 0 ? void 0 : sn.type) === NodeType.Document) {\r\n            (_b = target.defaultView) === null || _b === void 0 ? void 0 : _b.scrollTo({\r\n                top: d.y,\r\n                left: d.x,\r\n                behavior: isSync ? 'auto' : 'smooth',\r\n            });\r\n        }\r\n        else {\r\n            try {\r\n                target.scrollTo({\r\n                    top: d.y,\r\n                    left: d.x,\r\n                    behavior: isSync ? 'auto' : 'smooth',\r\n                });\r\n            }\r\n            catch (error) {\r\n            }\r\n        }\r\n    }\r\n    applyInput(d) {\r\n        const target = this.mirror.getNode(d.id);\r\n        if (!target) {\r\n            return this.debugNodeNotFound(d, d.id);\r\n        }\r\n        try {\r\n            target.checked = d.isChecked;\r\n            target.value = d.text;\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n    applySelection(d) {\r\n        try {\r\n            const selectionSet = new Set();\r\n            const ranges = d.ranges.map(({ start, startOffset, end, endOffset }) => {\r\n                const startContainer = this.mirror.getNode(start);\r\n                const endContainer = this.mirror.getNode(end);\r\n                if (!startContainer || !endContainer)\r\n                    return;\r\n                const result = new Range();\r\n                result.setStart(startContainer, startOffset);\r\n                result.setEnd(endContainer, endOffset);\r\n                const doc = startContainer.ownerDocument;\r\n                const selection = doc === null || doc === void 0 ? void 0 : doc.getSelection();\r\n                selection && selectionSet.add(selection);\r\n                return {\r\n                    range: result,\r\n                    selection,\r\n                };\r\n            });\r\n            selectionSet.forEach((s) => s.removeAllRanges());\r\n            ranges.forEach((r) => { var _a; return r && ((_a = r.selection) === null || _a === void 0 ? void 0 : _a.addRange(r.range)); });\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n    applyStyleSheetMutation(data) {\r\n        var _a;\r\n        let styleSheet = null;\r\n        if (data.styleId)\r\n            styleSheet = this.styleMirror.getStyle(data.styleId);\r\n        else if (data.id)\r\n            styleSheet =\r\n                ((_a = this.mirror.getNode(data.id)) === null || _a === void 0 ? void 0 : _a.sheet) || null;\r\n        if (!styleSheet)\r\n            return;\r\n        if (data.source === IncrementalSource.StyleSheetRule)\r\n            this.applyStyleSheetRule(data, styleSheet);\r\n        else if (data.source === IncrementalSource.StyleDeclaration)\r\n            this.applyStyleDeclaration(data, styleSheet);\r\n    }\r\n    applyStyleSheetRule(data, styleSheet) {\r\n        var _a, _b, _c, _d;\r\n        (_a = data.adds) === null || _a === void 0 ? void 0 : _a.forEach(({ rule, index: nestedIndex }) => {\r\n            try {\r\n                if (Array.isArray(nestedIndex)) {\r\n                    const { positions, index } = getPositionsAndIndex(nestedIndex);\r\n                    const nestedRule = getNestedRule(styleSheet.cssRules, positions);\r\n                    nestedRule.insertRule(rule, index);\r\n                }\r\n                else {\r\n                    const index = nestedIndex === undefined\r\n                        ? undefined\r\n                        : Math.min(nestedIndex, styleSheet.cssRules.length);\r\n                    styleSheet === null || styleSheet === void 0 ? void 0 : styleSheet.insertRule(rule, index);\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n        });\r\n        (_b = data.removes) === null || _b === void 0 ? void 0 : _b.forEach(({ index: nestedIndex }) => {\r\n            try {\r\n                if (Array.isArray(nestedIndex)) {\r\n                    const { positions, index } = getPositionsAndIndex(nestedIndex);\r\n                    const nestedRule = getNestedRule(styleSheet.cssRules, positions);\r\n                    nestedRule.deleteRule(index || 0);\r\n                }\r\n                else {\r\n                    styleSheet === null || styleSheet === void 0 ? void 0 : styleSheet.deleteRule(nestedIndex);\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n        });\r\n        if (data.replace)\r\n            try {\r\n                void ((_c = styleSheet.replace) === null || _c === void 0 ? void 0 : _c.call(styleSheet, data.replace));\r\n            }\r\n            catch (e) {\r\n            }\r\n        if (data.replaceSync)\r\n            try {\r\n                (_d = styleSheet.replaceSync) === null || _d === void 0 ? void 0 : _d.call(styleSheet, data.replaceSync);\r\n            }\r\n            catch (e) {\r\n            }\r\n    }\r\n    applyStyleDeclaration(data, styleSheet) {\r\n        if (data.set) {\r\n            const rule = getNestedRule(styleSheet.rules, data.index);\r\n            rule.style.setProperty(data.set.property, data.set.value, data.set.priority);\r\n        }\r\n        if (data.remove) {\r\n            const rule = getNestedRule(styleSheet.rules, data.index);\r\n            rule.style.removeProperty(data.remove.property);\r\n        }\r\n    }\r\n    applyAdoptedStyleSheet(data) {\r\n        var _a;\r\n        const targetHost = this.mirror.getNode(data.id);\r\n        if (!targetHost)\r\n            return;\r\n        (_a = data.styles) === null || _a === void 0 ? void 0 : _a.forEach((style) => {\r\n            var _a;\r\n            let newStyleSheet = null;\r\n            let hostWindow = null;\r\n            if (hasShadowRoot(targetHost))\r\n                hostWindow = ((_a = targetHost.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) || null;\r\n            else if (targetHost.nodeName === '#document')\r\n                hostWindow = targetHost.defaultView;\r\n            if (!hostWindow)\r\n                return;\r\n            try {\r\n                newStyleSheet = new hostWindow.CSSStyleSheet();\r\n                this.styleMirror.add(newStyleSheet, style.styleId);\r\n                this.applyStyleSheetRule({\r\n                    source: IncrementalSource.StyleSheetRule,\r\n                    adds: style.rules,\r\n                }, newStyleSheet);\r\n            }\r\n            catch (e) {\r\n            }\r\n        });\r\n        const MAX_RETRY_TIME = 10;\r\n        let count = 0;\r\n        const adoptStyleSheets = (targetHost, styleIds) => {\r\n            const stylesToAdopt = styleIds\r\n                .map((styleId) => this.styleMirror.getStyle(styleId))\r\n                .filter((style) => style !== null);\r\n            if (hasShadowRoot(targetHost))\r\n                targetHost.shadowRoot.adoptedStyleSheets = stylesToAdopt;\r\n            else if (targetHost.nodeName === '#document')\r\n                targetHost.adoptedStyleSheets = stylesToAdopt;\r\n            if (stylesToAdopt.length !== styleIds.length && count < MAX_RETRY_TIME) {\r\n                setTimeout(() => adoptStyleSheets(targetHost, styleIds), 0 + 100 * count);\r\n                count++;\r\n            }\r\n        };\r\n        adoptStyleSheets(targetHost, data.styleIds);\r\n    }\r\n    legacy_resolveMissingNode(map, parent, target, targetMutation) {\r\n        const { previousId, nextId } = targetMutation;\r\n        const previousInMap = previousId && map[previousId];\r\n        const nextInMap = nextId && map[nextId];\r\n        if (previousInMap) {\r\n            const { node, mutation } = previousInMap;\r\n            parent.insertBefore(node, target);\r\n            delete map[mutation.node.id];\r\n            delete this.legacy_missingNodeRetryMap[mutation.node.id];\r\n            if (mutation.previousId || mutation.nextId) {\r\n                this.legacy_resolveMissingNode(map, parent, node, mutation);\r\n            }\r\n        }\r\n        if (nextInMap) {\r\n            const { node, mutation } = nextInMap;\r\n            parent.insertBefore(node, target.nextSibling);\r\n            delete map[mutation.node.id];\r\n            delete this.legacy_missingNodeRetryMap[mutation.node.id];\r\n            if (mutation.previousId || mutation.nextId) {\r\n                this.legacy_resolveMissingNode(map, parent, node, mutation);\r\n            }\r\n        }\r\n    }\r\n    moveAndHover(x, y, id, isSync, debugData) {\r\n        const target = this.mirror.getNode(id);\r\n        if (!target) {\r\n            return this.debugNodeNotFound(debugData, id);\r\n        }\r\n        const base = getBaseDimension(target, this.iframe);\r\n        const _x = x * base.absoluteScale + base.x;\r\n        const _y = y * base.absoluteScale + base.y;\r\n        this.mouse.style.left = `${_x}px`;\r\n        this.mouse.style.top = `${_y}px`;\r\n        if (!isSync) {\r\n            this.drawMouseTail({ x: _x, y: _y });\r\n        }\r\n        this.hoverElements(target);\r\n    }\r\n    drawMouseTail(position) {\r\n        if (!this.mouseTail) {\r\n            return;\r\n        }\r\n        const { lineCap, lineWidth, strokeStyle, duration } = this.config.mouseTail === true\r\n            ? defaultMouseTailConfig\r\n            : Object.assign({}, defaultMouseTailConfig, this.config.mouseTail);\r\n        const draw = () => {\r\n            if (!this.mouseTail) {\r\n                return;\r\n            }\r\n            const ctx = this.mouseTail.getContext('2d');\r\n            if (!ctx || !this.tailPositions.length) {\r\n                return;\r\n            }\r\n            ctx.clearRect(0, 0, this.mouseTail.width, this.mouseTail.height);\r\n            ctx.beginPath();\r\n            ctx.lineWidth = lineWidth;\r\n            ctx.lineCap = lineCap;\r\n            ctx.strokeStyle = strokeStyle;\r\n            ctx.moveTo(this.tailPositions[0].x, this.tailPositions[0].y);\r\n            this.tailPositions.forEach((p) => ctx.lineTo(p.x, p.y));\r\n            ctx.stroke();\r\n        };\r\n        this.tailPositions.push(position);\r\n        draw();\r\n        setTimeout(() => {\r\n            this.tailPositions = this.tailPositions.filter((p) => p !== position);\r\n            draw();\r\n        }, duration / this.speedService.state.context.timer.speed);\r\n    }\r\n    hoverElements(el) {\r\n        var _a;\r\n        (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll('.\\\\:hover').forEach((hoveredEl) => {\r\n            hoveredEl.classList.remove(':hover');\r\n        });\r\n        let currentEl = el;\r\n        while (currentEl) {\r\n            if (currentEl.classList) {\r\n                currentEl.classList.add(':hover');\r\n            }\r\n            currentEl = currentEl.parentElement;\r\n        }\r\n    }\r\n    isUserInteraction(event) {\r\n        if (event.type !== EventType.IncrementalSnapshot) {\r\n            return false;\r\n        }\r\n        return (event.data.source > IncrementalSource.Mutation &&\r\n            event.data.source <= IncrementalSource.Input);\r\n    }\r\n    backToNormal() {\r\n        this.nextUserInteractionEvent = null;\r\n        if (this.speedService.state.matches('normal')) {\r\n            return;\r\n        }\r\n        this.speedService.send({ type: 'BACK_TO_NORMAL' });\r\n        this.emitter.emit(ReplayerEvents.SkipEnd, {\r\n            speed: this.speedService.state.context.normalSpeed,\r\n        });\r\n    }\r\n    warnNodeNotFound(d, id) {\r\n        this.warn(`Node with id '${id}' not found. `, d);\r\n    }\r\n    warnCanvasMutationFailed(d, error) {\r\n        this.warn(`Has error on canvas update`, error, 'canvas mutation:', d);\r\n    }\r\n    debugNodeNotFound(d, id) {\r\n        this.debug(REPLAY_CONSOLE_PREFIX, `Node with id '${id}' not found. `, d);\r\n    }\r\n    warn(...args) {\r\n        if (!this.config.showWarning) {\r\n            return;\r\n        }\r\n        console.warn(REPLAY_CONSOLE_PREFIX, ...args);\r\n    }\r\n    debug(...args) {\r\n        if (!this.config.showDebug) {\r\n            return;\r\n        }\r\n        console.log(REPLAY_CONSOLE_PREFIX, ...args);\r\n    }\r\n}\n\nexport { Replayer };\n","declare global {\n  interface Document {\n    mozExitFullscreen: Document['exitFullscreen'];\n    webkitExitFullscreen: Document['exitFullscreen'];\n    msExitFullscreen: Document['exitFullscreen'];\n    webkitIsFullScreen: Document['fullscreen'];\n    mozFullScreen: Document['fullscreen'];\n    msFullscreenElement: Document['fullscreen'];\n  }\n\n  interface HTMLElement {\n    mozRequestFullScreen: Element['requestFullscreen'];\n    webkitRequestFullscreen: Element['requestFullscreen'];\n    msRequestFullscreen: Element['requestFullscreen'];\n  }\n}\n\nimport { EventType, IncrementalSource } from 'rrweb';\nimport type { eventWithTime } from '@rrweb/types';\n\nexport function inlineCss(cssObj: Record<string, string>): string {\n  let style = '';\n  Object.keys(cssObj).forEach((key) => {\n    style += `${key}: ${cssObj[key]};`;\n  });\n  return style;\n}\n\nfunction padZero(num: number, len = 2): string {\n  let str = String(num);\n  const threshold = Math.pow(10, len - 1);\n  if (num < threshold) {\n    while (String(threshold).length > str.length) {\n      str = `0${num}`;\n    }\n  }\n  return str;\n}\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nexport function formatTime(ms: number): string {\n  if (ms <= 0) {\n    return '00:00';\n  }\n  const hour = Math.floor(ms / HOUR);\n  ms = ms % HOUR;\n  const minute = Math.floor(ms / MINUTE);\n  ms = ms % MINUTE;\n  const second = Math.floor(ms / SECOND);\n  if (hour) {\n    return `${padZero(hour)}:${padZero(minute)}:${padZero(second)}`;\n  }\n  return `${padZero(minute)}:${padZero(second)}`;\n}\n\nexport function openFullscreen(el: HTMLElement): Promise<void> {\n  if (el.requestFullscreen) {\n    return el.requestFullscreen();\n  } else if (el.mozRequestFullScreen) {\n    /* Firefox */\n    return el.mozRequestFullScreen();\n  } else if (el.webkitRequestFullscreen) {\n    /* Chrome, Safari and Opera */\n    return el.webkitRequestFullscreen();\n  } else if (el.msRequestFullscreen) {\n    /* IE/Edge */\n    return el.msRequestFullscreen();\n  }\n}\n\nexport function exitFullscreen(): Promise<void> {\n  if (document.exitFullscreen) {\n    return document.exitFullscreen();\n  } else if (document.mozExitFullscreen) {\n    /* Firefox */\n    return document.mozExitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    /* Chrome, Safari and Opera */\n    return document.webkitExitFullscreen();\n  } else if (document.msExitFullscreen) {\n    /* IE/Edge */\n    return document.msExitFullscreen();\n  }\n}\n\nexport function isFullscreen(): boolean {\n  let fullscreen = false;\n  [\n    'fullscreen',\n    'webkitIsFullScreen',\n    'mozFullScreen',\n    'msFullscreenElement',\n  ].forEach((fullScreenAccessor) => {\n    if (fullScreenAccessor in document) {\n      fullscreen = fullscreen || Boolean(document[fullScreenAccessor]);\n    }\n  });\n  return fullscreen;\n}\n\nexport function onFullscreenChange(handler: () => unknown): () => void {\n  document.addEventListener('fullscreenchange', handler);\n  document.addEventListener('webkitfullscreenchange', handler);\n  document.addEventListener('mozfullscreenchange', handler);\n  document.addEventListener('MSFullscreenChange', handler);\n\n  return () => {\n    document.removeEventListener('fullscreenchange', handler);\n    document.removeEventListener('webkitfullscreenchange', handler);\n    document.removeEventListener('mozfullscreenchange', handler);\n    document.removeEventListener('MSFullscreenChange', handler);\n  };\n}\n\nexport function typeOf(\n  obj: unknown,\n):\n  | 'boolean'\n  | 'number'\n  | 'string'\n  | 'function'\n  | 'array'\n  | 'date'\n  | 'regExp'\n  | 'undefined'\n  | 'null'\n  | 'object' {\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  const toString = Object.prototype.toString;\n  const map = {\n    '[object Boolean]': 'boolean',\n    '[object Number]': 'number',\n    '[object String]': 'string',\n    '[object Function]': 'function',\n    '[object Array]': 'array',\n    '[object Date]': 'date',\n    '[object RegExp]': 'regExp',\n    '[object Undefined]': 'undefined',\n    '[object Null]': 'null',\n    '[object Object]': 'object',\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-member-access\n  return map[toString.call(obj)];\n}\n\n/**\n * Forked from 'rrweb' replay/index.ts. The original function is not exported.\n * Determine whether the event is a user interaction event\n * @param event - event to be determined\n * @returns true if the event is a user interaction event\n */\nfunction isUserInteraction(event: eventWithTime): boolean {\n  if (event.type !== EventType.IncrementalSnapshot) {\n    return false;\n  }\n  return (\n    event.data.source > IncrementalSource.Mutation &&\n    event.data.source <= IncrementalSource.Input\n  );\n}\n\n// Forked from 'rrweb' replay/index.ts. A const threshold of inactive time.\nconst SKIP_TIME_THRESHOLD = 10 * 1000;\n\n/**\n * Get periods of time when no user interaction happened from a list of events.\n * @param events - all events\n * @returns periods of time consist with [start time, end time]\n */\nexport function getInactivePeriods(events: eventWithTime[]) {\n  const inactivePeriods: [number, number][] = [];\n  let lastActiveTime = events[0].timestamp;\n  for (const event of events) {\n    if (!isUserInteraction(event)) continue;\n    if (event.timestamp - lastActiveTime > SKIP_TIME_THRESHOLD) {\n      inactivePeriods.push([lastActiveTime, event.timestamp]);\n    }\n    lastActiveTime = event.timestamp;\n  }\n  return inactivePeriods;\n}\n","<script lang=\"ts\">\n  export let disabled: boolean;\n  export let checked: boolean;\n  export let id: string;\n  export let label: string;\n</script>\n\n<style>\n  .switch {\n    height: 1em;\n    display: flex;\n    align-items: center;\n  }\n\n  .switch.disabled {\n    opacity: 0.5;\n  }\n\n  .label {\n    margin: 0 8px;\n  }\n\n  .switch input[type='checkbox'] {\n    position: absolute;\n    opacity: 0;\n  }\n\n  .switch label {\n    width: 2em;\n    height: 1em;\n    position: relative;\n    cursor: pointer;\n    display: block;\n  }\n\n  .switch.disabled label {\n    cursor: not-allowed;\n  }\n\n  .switch label:before {\n    content: '';\n    position: absolute;\n    width: 2em;\n    height: 1em;\n    left: 0.1em;\n    transition: background 0.1s ease;\n    background: rgba(73, 80, 246, 0.5);\n    border-radius: 50px;\n  }\n\n  .switch label:after {\n    content: '';\n    position: absolute;\n    width: 1em;\n    height: 1em;\n    border-radius: 50px;\n    left: 0;\n    transition: all 0.2s ease;\n    box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.3);\n    background: #fcfff4;\n    animation: switch-off 0.2s ease-out;\n    z-index: 2;\n  }\n\n  .switch input[type='checkbox']:checked + label:before {\n    background: rgb(73, 80, 246);\n  }\n\n  .switch input[type='checkbox']:checked + label:after {\n    animation: switch-on 0.2s ease-out;\n    left: 1.1em;\n  }\n</style>\n\n<div class=\"switch\" class:disabled>\n  <input type=\"checkbox\" {id} bind:checked {disabled} />\n  <label for={id} />\n  <span class=\"label\">{label}</span>\n</div>\n","<script lang=\"ts\">\n  import { EventType } from 'rrweb';\n  import type { Replayer } from 'rrweb';\n  import type { playerMetaData } from '@rrweb/types';\n  import type {\n    PlayerMachineState,\n    SpeedMachineState,\n  } from 'rrweb/typings/replay/machine';\n  import {\n    onMount,\n    onDestroy,\n    createEventDispatcher,\n    afterUpdate,\n  } from 'svelte';\n  import { formatTime, getInactivePeriods } from './utils';\n  import Switch from './components/Switch.svelte';\n\n  const dispatch = createEventDispatcher();\n\n  export let replayer: Replayer;\n  export let showController: boolean;\n  export let autoPlay: boolean;\n  export let skipInactive: boolean;\n  export let speedOption: number[];\n  export let speed = speedOption.length ? speedOption[0] : 1;\n  export let tags: Record<string, string> = {};\n  export let inactiveColor: string;\n\n  let currentTime = 0;\n  $: {\n    dispatch('ui-update-current-time', { payload: currentTime });\n  }\n  let timer: number | null = null;\n  let playerState: 'playing' | 'paused' | 'live';\n  $: {\n    dispatch('ui-update-player-state', { payload: playerState });\n  }\n  let speedState: 'normal' | 'skipping';\n  let progress: HTMLElement;\n  let step: HTMLElement;\n  let finished: boolean;\n\n  let pauseAt: number | false = false;\n  let onPauseHook: () => unknown | undefined = undefined;\n  let loop: {\n    start: number;\n    end: number;\n  } | null = null;\n\n  let meta: playerMetaData;\n  $: meta = replayer.getMetaData();\n  let percentage: string;\n  $: {\n    const percent = Math.min(1, currentTime / meta.totalTime);\n    percentage = `${100 * percent}%`;\n    dispatch('ui-update-progress', { payload: percent });\n  }\n  type CustomEvent = {\n    name: string;\n    background: string;\n    position: string;\n  };\n\n  /**\n   * Calculate the tag position (percent) to be displayed on the progress bar.\n   * @param startTime - The start time of the session.\n   * @param endTime - The end time of the session.\n   * @param tagTime - The time of the tag.\n   * @returns The position of the tag. unit: percentage\n   */\n  function position(startTime: number, endTime: number, tagTime: number) {\n    const sessionDuration = endTime - startTime;\n    const eventDuration = endTime - tagTime;\n    const eventPosition = 100 - (eventDuration / sessionDuration) * 100;\n    return eventPosition.toFixed(2);\n  }\n\n  let customEvents: CustomEvent[];\n  $: customEvents = (() => {\n    const { context } = replayer.service.state;\n    const totalEvents = context.events.length;\n    const start = context.events[0].timestamp;\n    const end = context.events[totalEvents - 1].timestamp;\n    const customEvents: CustomEvent[] = [];\n\n    // loop through all the events and find out custom event.\n    context.events.forEach((event) => {\n      /**\n       * we are only interested in custom event and calculate it's position\n       * to place it in player's timeline.\n       */\n      if (event.type === EventType.Custom) {\n        const customEvent = {\n          name: event.data.tag,\n          background: tags[event.data.tag] || 'rgb(73, 80, 246)',\n          position: `${position(start, end, event.timestamp)}%`,\n        };\n        customEvents.push(customEvent);\n      }\n    });\n\n    return customEvents;\n  })();\n\n  let inactivePeriods: {\n    name: string;\n    background: string;\n    position: string;\n    width: string;\n  }[];\n  $: inactivePeriods = (() => {\n    try {\n      const { context } = replayer.service.state;\n      const totalEvents = context.events.length;\n      const start = context.events[0].timestamp;\n      const end = context.events[totalEvents - 1].timestamp;\n      const periods = getInactivePeriods(context.events);\n      // calculate the indicator width.\n      const getWidth = (\n        startTime: number,\n        endTime: number,\n        tagStart: number,\n        tagEnd: number,\n      ) => {\n        const sessionDuration = endTime - startTime;\n        const eventDuration = tagEnd - tagStart;\n        const width = (eventDuration / sessionDuration) * 100;\n        return width.toFixed(2);\n      };\n      return periods.map((period) => ({\n        name: 'inactive period',\n        background: inactiveColor,\n        position: `${position(start, end, period[0])}%`,\n        width: `${getWidth(start, end, period[0], period[1])}%`,\n      }));\n    } catch (e) {\n      // For safety concern, if there is any error, the main function won't be affected.\n      return [];\n    }\n  })();\n\n  const loopTimer = () => {\n    stopTimer();\n\n    function update() {\n      currentTime = replayer.getCurrentTime();\n\n      if (pauseAt && currentTime >= pauseAt) {\n        if (loop) {\n          playRange(loop.start, loop.end, true, undefined);\n        } else {\n          replayer.pause();\n          if (onPauseHook) {\n            onPauseHook();\n            onPauseHook = null;\n          }\n        }\n      }\n\n      if (currentTime < meta.totalTime) {\n        timer = requestAnimationFrame(update);\n      }\n    }\n\n    timer = requestAnimationFrame(update);\n  };\n\n  const stopTimer = () => {\n    if (timer) {\n      cancelAnimationFrame(timer);\n      timer = null;\n    }\n  };\n\n  export const toggle = () => {\n    switch (playerState) {\n      case 'playing':\n        pause();\n        break;\n      case 'paused':\n        play();\n        break;\n      default:\n        break;\n    }\n  };\n\n  export const play = () => {\n    if (playerState !== 'paused') {\n      return;\n    }\n    if (finished) {\n      replayer.play();\n      finished = false;\n    } else {\n      replayer.play(currentTime);\n    }\n  };\n\n  export const pause = () => {\n    if (playerState !== 'playing') {\n      return;\n    }\n    replayer.pause();\n    pauseAt = false;\n  };\n\n  export const goto = (timeOffset: number, play?: boolean) => {\n    currentTime = timeOffset;\n    pauseAt = false;\n    const resumePlaying =\n      typeof play === 'boolean' ? play : playerState === 'playing';\n    if (resumePlaying) {\n      replayer.play(timeOffset);\n    } else {\n      replayer.pause(timeOffset);\n    }\n  };\n\n  export const playRange = (\n    timeOffset: number,\n    endTimeOffset: number,\n    startLooping: boolean = false,\n    afterHook: undefined | (() => void) = undefined,\n  ) => {\n    if (startLooping) {\n      loop = {\n        start: timeOffset,\n        end: endTimeOffset,\n      };\n    } else {\n      loop = null;\n    }\n    currentTime = timeOffset;\n    pauseAt = endTimeOffset;\n    onPauseHook = afterHook;\n    replayer.play(timeOffset);\n  };\n\n  const handleProgressClick = (event: MouseEvent) => {\n    if (speedState === 'skipping') {\n      return;\n    }\n    const progressRect = progress.getBoundingClientRect();\n    const x = event.clientX - progressRect.left;\n    let percent = x / progressRect.width;\n    if (percent < 0) {\n      percent = 0;\n    } else if (percent > 1) {\n      percent = 1;\n    }\n    const timeOffset = meta.totalTime * percent;\n    finished = false;\n    goto(timeOffset);\n  };\n\n  export const setSpeed = (newSpeed: number) => {\n    let needFreeze = playerState === 'playing';\n    speed = newSpeed;\n    if (needFreeze) {\n      replayer.pause();\n    }\n    replayer.setConfig({ speed });\n    if (needFreeze) {\n      replayer.play(currentTime);\n    }\n  };\n\n  export const toggleSkipInactive = () => {\n    skipInactive = !skipInactive;\n  };\n\n  export const triggerUpdateMeta = () => {\n    return Promise.resolve().then(() => {\n      meta = replayer.getMetaData();\n    });\n  };\n\n  onMount(() => {\n    playerState = replayer.service.state.value;\n    speedState = replayer.speedService.state.value;\n    replayer.on(\n      'state-change',\n      (states: { player?: PlayerMachineState; speed?: SpeedMachineState }) => {\n        const { player, speed } = states;\n        if (player?.value && playerState !== player.value) {\n          playerState = player.value;\n          switch (playerState) {\n            case 'playing':\n              loopTimer();\n              break;\n            case 'paused':\n              stopTimer();\n              break;\n            default:\n              break;\n          }\n        }\n        if (speed?.value && speedState !== speed.value) {\n          speedState = speed.value;\n        }\n      },\n    );\n    replayer.on('finish', () => {\n      finished = true;\n      if (onPauseHook) {\n        onPauseHook();\n        onPauseHook = null;\n      }\n    });\n\n    if (autoPlay) {\n      replayer.play();\n    }\n  });\n\n  afterUpdate(() => {\n    if (skipInactive !== replayer.config.skipInactive) {\n      replayer.setConfig({ skipInactive });\n    }\n  });\n\n  onDestroy(() => {\n    replayer.pause();\n    stopTimer();\n  });\n</script>\n\n<style>\n  .rr-controller {\n    width: 100%;\n    height: 80px;\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    border-radius: 0 0 5px 5px;\n  }\n\n  .rr-timeline {\n    width: 80%;\n    display: flex;\n    align-items: center;\n  }\n\n  .rr-timeline__time {\n    display: inline-block;\n    width: 100px;\n    text-align: center;\n    color: #11103e;\n  }\n\n  .rr-progress {\n    flex: 1;\n    height: 12px;\n    background: #eee;\n    position: relative;\n    border-radius: 3px;\n    cursor: pointer;\n    box-sizing: border-box;\n    border-top: solid 4px #fff;\n    border-bottom: solid 4px #fff;\n  }\n\n  .rr-progress.disabled {\n    cursor: not-allowed;\n  }\n\n  .rr-progress__step {\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background: #e0e1fe;\n  }\n\n  .rr-progress__handler {\n    width: 20px;\n    height: 20px;\n    border-radius: 10px;\n    position: absolute;\n    top: 2px;\n    transform: translate(-50%, -50%);\n    background: rgb(73, 80, 246);\n  }\n\n  .rr-controller__btns {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 13px;\n  }\n\n  .rr-controller__btns button {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n  }\n\n  .rr-controller__btns button:active {\n    background: #e0e1fe;\n  }\n\n  .rr-controller__btns button.active {\n    color: #fff;\n    background: rgb(73, 80, 246);\n  }\n\n  .rr-controller__btns button:disabled {\n    cursor: not-allowed;\n  }\n</style>\n\n{#if showController}\n  <div class=\"rr-controller\">\n    <div class=\"rr-timeline\">\n      <span class=\"rr-timeline__time\">{formatTime(currentTime)}</span>\n      <div\n        class=\"rr-progress\"\n        class:disabled={speedState === 'skipping'}\n        bind:this={progress}\n        on:click={handleProgressClick}\n      >\n        <div\n          class=\"rr-progress__step\"\n          bind:this={step}\n          style=\"width: {percentage}\"\n        />\n        {#each inactivePeriods as period}\n          <div\n            title={period.name}\n            style=\"width: {period.width};height: 4px;position: absolute;background: {period.background};left:\n            {period.position};\"\n          />\n        {/each}\n        {#each customEvents as event}\n          <div\n            title={event.name}\n            style=\"width: 10px;height: 5px;position: absolute;top:\n            2px;transform: translate(-50%, -50%);background: {event.background};left:\n            {event.position};\"\n          />\n        {/each}\n\n        <div class=\"rr-progress__handler\" style=\"left: {percentage}\" />\n      </div>\n      <span class=\"rr-timeline__time\">{formatTime(meta.totalTime)}</span>\n    </div>\n    <div class=\"rr-controller__btns\">\n      <button on:click={toggle}>\n        {#if playerState === 'playing'}\n          <svg\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            width=\"16\"\n            height=\"16\"\n          >\n            <path\n              d=\"M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0\n              512q0 53.00224-37.49888 90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0\n              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888\n              90.50112t-90.50112\n              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224\n              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424\n              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928\n              30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984\n              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0\n              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928\n              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z\"\n            />\n          </svg>\n        {:else}\n          <svg\n            class=\"icon\"\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            width=\"16\"\n            height=\"16\"\n          >\n            <path\n              d=\"M170.65984 896l0-768 640 384zM644.66944\n              512l-388.66944-233.32864 0 466.65728z\"\n            />\n          </svg>\n        {/if}\n      </button>\n      {#each speedOption as s}\n        <button\n          class:active={s === speed && speedState !== 'skipping'}\n          on:click={() => setSpeed(s)}\n          disabled={speedState === 'skipping'}\n        >\n          {s}x\n        </button>\n      {/each}\n      <Switch\n        id=\"skip\"\n        bind:checked={skipInactive}\n        disabled={speedState === 'skipping'}\n        label=\"skip inactive\"\n      />\n      <button on:click={() => dispatch('fullscreen')}>\n        <svg\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          width=\"16\"\n          height=\"16\"\n        >\n          <defs>\n            <style type=\"text/css\">\n            </style>\n          </defs>\n          <path\n            d=\"M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4\n            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4\n            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0\n            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48\n            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48\n            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4\n            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z\"\n            p-id=\"1286\"\n          />\n        </svg>\n      </button>\n    </div>\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import { Replayer, unpack } from 'rrweb';\n  import type { eventWithTime } from '@rrweb/types';\n  import {\n    inlineCss,\n    openFullscreen,\n    exitFullscreen,\n    isFullscreen,\n    onFullscreenChange,\n    typeOf,\n  } from './utils';\n  import Controller from './Controller.svelte';\n\n  export let width = 1024;\n  export let height = 576;\n  export let maxScale = 1;\n  export let events: eventWithTime[] = [];\n  export let skipInactive = true;\n  export let autoPlay = true;\n  export let speedOption: number[] = [1, 2, 4, 8];\n  export let speed = 1;\n  export let showController = true;\n  export let tags: Record<string, string> = {};\n  // color of inactive periods indicator\n  export let inactiveColor = '#D4D4D4';\n\n  let replayer: Replayer;\n\n  export const getMirror = () => replayer.getMirror();\n\n  const controllerHeight = 80;\n  let player: HTMLElement;\n  let frame: HTMLElement;\n  let fullscreenListener: undefined | (() => void);\n  let _width: number = width;\n  let _height: number = height;\n  let controller: {\n    toggle: () => void;\n    setSpeed: (speed: number) => void;\n    toggleSkipInactive: () => void;\n  } & Controller;\n\n  let style: string;\n  $: style = inlineCss({\n    width: `${width}px`,\n    height: `${height}px`,\n  });\n  let playerStyle: string;\n  $: playerStyle = inlineCss({\n    width: `${width}px`,\n    height: `${height + (showController ? controllerHeight : 0)}px`,\n  });\n\n  const updateScale = (\n    el: HTMLElement,\n    frameDimension: { width: number; height: number },\n  ) => {\n    const widthScale = width / frameDimension.width;\n    const heightScale = height / frameDimension.height;\n    const scale = [widthScale, heightScale];\n    if (maxScale) scale.push(maxScale);\n    el.style.transform =\n      `scale(${Math.min(...scale)})` + 'translate(-50%, -50%)';\n  };\n\n  export const triggerResize = () => {\n    updateScale(replayer.wrapper, {\n      width: replayer.iframe.offsetWidth,\n      height: replayer.iframe.offsetHeight,\n    });\n  };\n\n  export const toggleFullscreen = () => {\n    if (player) {\n      isFullscreen() ? exitFullscreen() : openFullscreen(player);\n    }\n  };\n\n  export const addEventListener = (\n    event: string,\n    handler: (detail: unknown) => unknown,\n  ) => {\n    replayer.on(event, handler);\n    switch (event) {\n      case 'ui-update-current-time':\n      case 'ui-update-progress':\n      case 'ui-update-player-state':\n        controller.$on(event, ({ detail }) => handler(detail));\n      default:\n        break;\n    }\n  };\n\n  export const addEvent = (event: eventWithTime) => {\n    replayer.addEvent(event);\n    controller.triggerUpdateMeta();\n  };\n  export const getMetaData = () => replayer.getMetaData();\n  export const getReplayer = () => replayer;\n\n  // by pass controller methods as public API\n  export const toggle = () => {\n    controller.toggle();\n  };\n  export const setSpeed = (speed: number) => {\n    controller.setSpeed(speed);\n  };\n  export const toggleSkipInactive = () => {\n    controller.toggleSkipInactive();\n  };\n  export const play = () => {\n    controller.play();\n  };\n  export const pause = () => {\n    controller.pause();\n  };\n  export const goto = (timeOffset: number, play?: boolean) => {\n    controller.goto(timeOffset, play);\n  };\n  export const playRange = (\n    timeOffset: number,\n    endTimeOffset: number,\n    startLooping: boolean = false,\n    afterHook: undefined | (() => void) = undefined,\n  ) => {\n    controller.playRange(timeOffset, endTimeOffset, startLooping, afterHook);\n  };\n\n  onMount(() => {\n    // runtime type check\n    if (speedOption !== undefined && typeOf(speedOption) !== 'array') {\n      throw new Error('speedOption must be array');\n    }\n    speedOption.forEach((item) => {\n      if (typeOf(item) !== 'number') {\n        throw new Error('item of speedOption must be number');\n      }\n    });\n    if (speedOption.indexOf(speed) < 0) {\n      throw new Error(`speed must be one of speedOption,\n        current config:\n        {\n          ...\n          speed: ${speed},\n          speedOption: [${speedOption.toString()}]\n          ...\n        }\n        `);\n    }\n\n    replayer = new Replayer(events, {\n      speed,\n      root: frame,\n      unpackFn: unpack,\n      ...$$props,\n    });\n\n    replayer.on('resize', (dimension) => {\n      updateScale(\n        replayer.wrapper,\n        dimension as { width: number; height: number },\n      );\n    });\n\n    fullscreenListener = onFullscreenChange(() => {\n      if (isFullscreen()) {\n        setTimeout(() => {\n          _width = width;\n          _height = height;\n          width = player.offsetWidth;\n          height =\n            player.offsetHeight - (showController ? controllerHeight : 0);\n          updateScale(replayer.wrapper, {\n            width: replayer.iframe.offsetWidth,\n            height: replayer.iframe.offsetHeight,\n          });\n        }, 0);\n      } else {\n        width = _width;\n        height = _height;\n        updateScale(replayer.wrapper, {\n          width: replayer.iframe.offsetWidth,\n          height: replayer.iframe.offsetHeight,\n        });\n      }\n    });\n  });\n\n  onDestroy(() => {\n    fullscreenListener && fullscreenListener();\n  });\n</script>\n\n<style global>\n  @import 'rrweb/dist/rrweb.min.css';\n\n  .rr-player {\n    position: relative;\n    background: white;\n    float: left;\n    border-radius: 5px;\n    box-shadow: 0 24px 48px rgba(17, 16, 62, 0.12);\n  }\n\n  .rr-player__frame {\n    overflow: hidden;\n  }\n\n  .replayer-wrapper {\n    float: left;\n    clear: both;\n    transform-origin: top left;\n    left: 50%;\n    top: 50%;\n  }\n\n  .replayer-wrapper > iframe {\n    border: none;\n  }\n</style>\n\n<div class=\"rr-player\" bind:this={player} style={playerStyle}>\n  <div class=\"rr-player__frame\" bind:this={frame} {style} />\n  {#if replayer}\n    <Controller\n      bind:this={controller}\n      {replayer}\n      {showController}\n      {autoPlay}\n      {speedOption}\n      {skipInactive}\n      {tags}\n      {inactiveColor}\n      on:fullscreen={() => toggleFullscreen()}\n    />\n  {/if}\n</div>\n","import type { eventWithTime } from '@rrweb/types';\nimport _Player from './Player.svelte';\n\ntype PlayerProps = {\n  events: eventWithTime[];\n};\n\nclass Player extends _Player {\n  constructor(options: {\n    target: Element;\n    props: PlayerProps;\n    // for compatibility\n    data?: PlayerProps;\n  }) {\n    super({\n      target: options.target,\n      props: options.data || options.props,\n    });\n  }\n}\n\nexport default Player;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}